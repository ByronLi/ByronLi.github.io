hl_key="1cd76670-4aa6-4bbd-b654-60d9862728b5",hl_api="www.hlserve.com",hl_beam="b.hlserve.com",hl_cid=180,hl_debug=!1,hl_channel="web",hl_use_viewability="True",hl_ext={resv:"beb640b1-cb66-429b-a9cd-0bae66ca89ae",stylespath:"//dnisjsqid2b9p.cloudfront.net/ClientPaths",plugins:{Carousel:{source:function(e){function t(){"function"!=typeof window.jQuery||o||(e.log("--> Carousel.InitjQueryPlugin"),function(t){function r(o,r){function a(){return e.log("--> Carousel.initialize"),v.update(),H>q?v.move(V):v.dropBeaconForVisible(),v.options.arrows||(P.hide(),w.hide()),q>=H&&(P.addClass("disabled"),w.addClass("disabled")),g(),l(),v.options.responsive?v.updateSize():null!=v.options.adsResponsize&&v.adsResizeUpdateSize(),e.log("<-- Carousel.initialize"),v}function l(){function r(e,t){L=e,M=t,N=e,U=t,G=!0,D=(new Date).getTime()}function s(e,o){z=L-e,yChange=M-o,L=e,M=o;var r=0;if(r="x"==v.options.axis?1*b.css(_).replace("px","")-z:1*b.css(_).replace("px","")-yChange,r=d(r),b.css(_,r+"px"),v.options.showScrollBar){var s=t("."+v.options.scrollBar).css(T.toLowerCase()).replace("px","");if(v.options.infinite){var i=-q*O,n=Math.abs(-(H-k/O%1)*O-i),a=Math.abs((r-i)/n),l=0>a*k-50?0:a*k-s;l=l>k-50?k-50:l}else{var p=-((H-k/O)*O)-O,a=Math.abs(r/p),l=a*k;l=0>l?0:l}t("."+v.options.scrollBar).css(_,l+"px")}V=Math.abs(Math.floor(r/O)),v.options.scrollBar&&v.options.autoHideScrollBar&&t("."+v.options.scrollBar).css("visibility","visible"),v.options.viewableBeacons&&v.dropBeaconForVisible()}function i(){if(G){if(v.options.swipe&&(new Date).getTime()-D<F)return void v.move(z>0?R+v.options.slidesToShow:R-v.options.slidesToShow);if(v.options.scrollBar&&v.options.autoHideScrollBar&&t("."+v.options.scrollBar).css("visibility","hidden"),"x"==v.options.axis)if(v.options.pagination){var e=Math.abs(b.css(_).replace("px",""))/O+1,o=e%1>.5?e+1:e;v.move(parseInt(o))}else R=Math.abs(Math.round(-1*b.css(_).replace("px","")/O)),V=R%(H+q),g();else v.options.pagination?v.move(Math.abs(Math.round((1*b.css(_).replace("px","")+yChange)/O))):(R=Math.abs(Math.round(-1*b.css(_).replace("px","")/O)),V=R%(H+q),g())}G=v.options.useDrag,L=0,M=0}function n(e){s(e.pageX,e.pageY)}function a(e){var t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],o=Math.abs(L-t.pageX),r=Math.abs(M-t.pageY);"x"===v.options.axis?o>r?(e.preventDefault(),s(t.pageX,t.pageY)):(L=t.pageX,M=t.pageY):r>o?(e.preventDefault(),s(t.pageX,t.pageY)):(L=t.pageX,M=t.pageY)}e.log("--> Carousel.setEvents"),v.options.viewableBeacons&&(e.log("Carousel.enablingScroll"),window.addEventListener("scroll",v.dropBeaconForVisible)),v.options.arrows&&(e.log("Carousel.enablingButtons"),P.click(function(e){return e.preventDefault(),P.hasClass("disabled")||v.move(R-v.options.slidesToScroll),!1}),w.click(function(e){return e.preventDefault(),w.hasClass("disabled")||v.move(R+v.options.slidesToScroll),!1}),P.hover(v.stop,v.start),w.hover(v.stop,v.start),y.hover(v.stop,v.start)),v.options.swipe&&(e.log("Carousel.enablingSwipe"),H>q&&(b.children().mousedown(function(e){e.preventDefault(),o.on("mousemove","."+v.options.viewportClass,n),y.find("img").on("dragstart",function(e){e.preventDefault()}),r(e.pageX,e.pageY)}),o.on("touchstart","."+v.options.viewportClass,function(e){o.on("touchmove","."+v.options.viewportClass,a);var t=e.originalEvent.targetTouches[0]||e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];r(t.pageX,t.pageY)}),o.mouseup(function(){o.off("mousemove","."+v.options.viewportClass,n),i()}),o.on("touchend","."+v.options.viewportClass,function(){o.off("touchmove","."+v.options.viewportClass,a),i()}),y.click(function(e){(Math.abs(e.pageX-N)>5||Math.abs(e.pageY-U)>5)&&(e.stopImmediatePropagation(),e.preventDefault()),N=0,U=0}))),v.options.responsive&&t(window).resize(v.updateSize),null!=v.options.adsResponsize&&t(window).resize(v.adsResizeUpdateSize),v.options.dots&&(e.log("Carousel.enablingBullets"),t("."+v.options.dotsClass.replace(/\s+/g,".")).click(function(){return R=parseFloat(t(this).attr("data-slide"))+1,v.options.infinite&&(R+=2*j),v.move(R),!1})),e.log("<-- Carousel.setEvent")}function p(t){var r=document.getElementsByClassName("hl-dots-container")[0];if(t&&r){jQuery(".hl-dots-container").empty(),r=document.getElementsByClassName("hl-dots-container")[0];var s=H/q||1;s=v.options.infinite?Math.ceil(s):Math.floor(s);for(var i=0,n=s;n>i;i++){var a=e.toDom('<div data-slide="'+i*(q||1)+'"></div>')[0];a.className="hl-bullet",a.style.cssText="display: inline-block;",r.appendChild(a)}jQuery(".hl-dots-container").replaceWith(r),x=o.find("."+v.options.dotsClass.replace(/\s+/g,".")),m()}}function c(){if(null!=v.options.adsResponsize.resizeArrows){var e=t(document.querySelector(v.options.adsResponsize.resizeArrows.divName));if(null!=e){var o=e.outerHeight(),r=w.height(),s=v.options.adsResponsize.resizeArrows.calculateTop(o,r);w.css("top",s+"px"),P.css("top",s+"px")}}}function u(e){R=Math.floor(R/q)*e||1,R>H&&(R=1),q=v.options.slidesToScroll=e,j=v.options.infinite?H%q:0}function d(e){if(v.options.infinite)e=e>0?0:e,e=-(q+2*j+H)*O-10>e?-(q+2*j+H)*O:e;else{var t=0,o=Math.abs(-((H-k/O)*O));e>t?e=t:-o>e&&(e=-o)}return e}function h(){if(v.options.infinite){var e=q+j;if(e>R)activeBulletIndex=x.length-1;else if(R>v.getSlideCount()-e)activeBulletIndex=0;else{var t=R-e;activeBulletIndex=parseInt(t/q)}return activeBulletIndex}return Math.max(0,(R-1)/q)}function m(){x.removeClass("active");var e=Math.floor(h());x.eq(e).addClass("active")}function g(){v.options.arrows&&!v.options.infinite?q>=H?(P.addClass("disabled"),w.addClass("disabled")):(V>1?P.removeClass("disabled"):P.addClass("disabled"),H-q>=V?w.removeClass("disabled"):w.addClass("disabled")):v.options.arrows&&(H>q?(P.hasClass("disabled")&&P.removeClass("disabled"),w.hasClass("disabled")&&w.removeClass("disabled")):(P.addClass("disabled"),w.addClass("disabled"))),v.options.dots&&m()}e.log("--> Carousel.Plugin"),this.options=t.extend({},n,r),this._defaults=n,this._name=s;var f;this.options.useScrollLengthOverride?f=this.options.scrollLengthOverride:this.options.viewportSize&&this.options.slidesToShow?f=parseInt(this.options.viewportSize/this.options.slidesToShow):this.options.itemSize&&(f=this.options.itemSize);var v=this,y=o.find("."+v.options.viewportClass.replace(/\s+/g,".")+":first"),b=o.find("."+v.options.itemlistClass.replace(/\s+/g,".")+":first"),C=b.children(),w=o.find("."+v.options.nextButtonClass.replace(/\s+/g,".")+":first"),P=o.find("."+v.options.prevButtonClass.replace(/\s+/g,".")+":first"),x=o.find("."+v.options.dotsClass.replace(/\s+/g,".")),S=(o.find(".pageNumber"),"x"===this.options.axis),T=S?"Width":"Height",_=S?"left":"top",O=isFinite(f)?Math.floor(f):C.first()["outer"+T](!0),k=this.options.viewportSize||y[0]["offset"+T],q=this.options.slidesToShow||Math.ceil(k/O),B={},R=null!=v.options.adsResponsize?1:0,A=0,I=0,E=null,L=0,M=0,z=0,N=0,U=0,D=0,F=v.options.dragTimeThreshold||200,H=C.length,j=v.options.infinite?q>=H?0:H%q:0,V=v.options.initialSlide||(v.options.infinite?q+j:1),G=v.options.useDrag;v.options.slidesToScroll=v.options.slidesToScroll||q;var $=this.options.slidesToShow-Math.floor(this.options.slidesToShow);return $>0&&(H-=$,q=Math.floor(this.options.slidesToShow)),!v.options.disableScroll&&this.options.viewportSize&&y.css(T.toLowerCase(),this.options.viewportSize+"px"),this.update=function(){return e.log("--> Carousel.update"),b.find(".mirrored").remove(),v.options.infinite&&H>=q&&(b.append(C.slice(0,q+j).clone().addClass("mirrored")),b.prepend(C.slice(-q-j).clone().addClass("mirrored"))),v.options.disableScroll||b.css(T.toLowerCase(),O*(H+q+q+2*j)),g(),e.log("<-- Carousel.update"),v},this.dropBeaconForVisible=function(){function r(t){var o=C[Math.round(t)];!o||null!=o.getAttribute("data-hl-beacon-state")&&"ready"!=o.getAttribute("data-hl-beacon-state")||(e.dropBeacon(o.getAttribute("data-hl-beacon")),o.setAttribute("data-hl-beacon-state","sent"))}if(v.options.viewableBeacons){e.log("-->Carousel.dropBeaconForVisible");var s={top:t(v.options.scrollContainer).scrollTop(),left:t(v.options.scrollContainer).scrollLeft(),bottom:t(v.options.scrollContainer).scrollTop()+window.innerHeight,right:t(v.options.scrollContainer).scrollLeft()+window.innerWidth},n=e.getPosition(o[0]);if(e.isInView(s,n))if(q>=H)for(i=0;H>i;i++)r(i);else{var a=V-1,l=k/O%1>.5?q+1:q;for(i=a;a+l-1>=i;i++)r(v.options.infinite?i-l+1:i)}return window.slides=C,e.log("<--Carousel.dropBeaconForVisible"),v}},this.start=function(){return v.options.autoplaySpeed>0&&(e.log("Carousel.enablingAutoScroll"),clearTimeout(E),E=setTimeout(function(){v.move(R+v.options.slidesToScroll)},v.options.autoplaySpeed)),v},this.stop=function(){return clearTimeout(E),v},this.getSlideCount=function(){return b.children().length},this.animateToCoordinate=function(){B[_]=animationCoor,b.animate(B,{queue:!1,duration:v.options.speed,complete:function(){V=R=A,v.options.infinite&&null===v.options.adsResponsize&&(R-v.options.slidesToScroll<0&&H>q?(V=R+=H,b.css(_,-V*O+"px")):R+v.options.slidesToShow+v.options.slidesToScroll-1>=v.getSlideCount()&&H>q&&(V=R-=H,b.css(_,-V*O+"px"))),g(),v.dropBeaconForVisible()}})},this.move=function(t){I=R,R=t,V=R;var o=-R*O;if(A=V,null!=v.options.adsResponsize){var r=q+j,s=v.options.infinite?q>=H?H:H+q+j:H;A=V,o=(A-1)*-O;var i=0;if(R===r&&1!==R&&(A=V+1,o=(A-1)*-O),r>R)if(v.options.infinite||1!==R)if((s-j)%q!==0){var n=Math.floor((s-j)/q)*q+j+1;i=Math.ceil((s-j)/q)*q,A=n-(i+j-s),o=(A-1)*-O,A=n}else A=s-q+1,o=(A-1)*-O;else A=1,o=(A-1)*-O;else(R-j-1)%q!==0?R=Math.ceil((R-j)/q)*r+1:R>s?(A=r+1,o=(A-1)*-O,G||(b.css(_,-(I-s)*O+"px"),destinationCoor=-A*O)):R-1+q>s-j&&(i=Math.ceil((s-j)/q)*q,A=R-(i+j-s),o=-(A-1)*O,A=R)}else v.options.infinite||(o=v.options.useScrollLengthOverride?(A-1)*-v.options.scrollLengthOverride:(A-1)*-O);return animationCoor=d(o),B[_]=o,this.animateToCoordinate(o),v.start(),e.log("<-- Carousel.move"),v},this.updateSize=function(){return v.options.disableScroll?!1:(v.options.useScrollLengthOverride&&(v.options.scrollLengthOverride=t(window).width()-30),e.log("--> Carousel.updateSize"),newSize=parseInt(t("#hlCarousel").css(T.toLowerCase())),k=newSize,null!=v.options.itemSize?(O=v.options.itemSize,q=Math.floor(k/O)):O=v.options.useScrollLengthOverride?v.options.scrollLengthOverride:newSize/q,y.css(T.toLowerCase(),newSize+"px"),C.css(T.toLowerCase(),O+"px"),v.update(),v.move(R),void e.log("<-- Carousel.updateSize"))},this.adsResizeUpdateSize=function(){var o=v.options.adsResponsize.carouselBuffer?v.options.adsResponsize.carouselBuffer:0;if(e.log("Ads Resize Responsive-->"),null!=v.options.adsResponsize){var r=!1,s=jQuery(window).width(),i=document.querySelector(v.options.adsResponsize.matchingElementOnPage);if(null!=i){for(var n=v.options.adsResponsize.defaultSlidesToShow,a=v.options.adsResponsize.breakpoints.length-1,l=0;a>=l;a--)if(s<=v.options.adsResponsize.breakpoints[a].breakpoint){n=v.options.adsResponsize.breakpoints[a].configs.slidesToShow,null!=v.options.adsResponsize.breakpoints[a].configs.breakpointBuffer&&(o=v.options.adsResponsize.breakpoints[a].configs.breakpointBuffer);break}var d=i.clientWidth||t(i).width();d-=o,document.getElementById(v.options.adsResponsize.carouselId).style.width=d+"px";var h=jQuery("#"+v.options.adsResponsize.carouselId.toString()).width();q!==n&&(u(n),r=!0),V=A=R,newSize=parseInt(h)-(null!=v.options.adsResponsize.viewPortBuffer?v.options.adsResponsize.viewPortBuffer:0),k=newSize,O=newSize/q,y.css(T.toLowerCase(),newSize+"px"),C.css(T.toLowerCase(),O+"px"),v.update(),v.move(R),p(r),null!=v.options.adsResponsize.resizeArrows&&c()}e.log("<-- Carousel.updateAdsResize")}},e.log("<-- Carousel.Plugin"),a()}var s="hlcarousel",n={initialSlide:0,axis:"x",arrows:!0,swipe:!1,dots:!1,responsive:!1,viewableBeacons:!1,pageNumbers:!1,pagination:!0,infinite:!0,autoplaySpeed:0,speed:500,slidesToScroll:1,matchingDivWidthElement:"",theme:"",itemSize:null,showScrollBar:!1,autoHideScrollBar:!1,disableScroll:!1,scrollLengthOverride:0,useScrollLengthOverride:!1,adsResponsize:null,scrollContainer:window,useDrag:!1,noTitle:!1};t.fn[s]=function(e){return this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new r(t(this),e))})},t&&(o=!0)}(window.jQuery),e.log("<-- Carousel.InitjQueryPlugin"))}var o=!1;return t(),function(){var r={},s=[],i={rootContainer:"position: relative;",title:"",viewport:"overflow: hidden; margin: 0 auto; position: relative;",itemlist:"margin: auto; position: relative;",nextButton:"",prevButton:"",dots:"display: inline-block;",dotsContainer:""},n={rootContainer:"hlcarouselroot",title:"hlcarouseltitle",viewport:"hlcarouselview",itemlist:"hlcarousellist",nextButton:"hlcarouselnext",prevButton:"hlcarouselprev",dots:"hlcarouseldot"},a="Featured Products",l={addProduct:function(t){return s.push(e.isDom(t)?t:e.toDom(t)[0]),this},setOption:function(t,o){return"theme"===t&&o&&e.addCss(o,!0),null===o||"undefined"==typeof o?delete r[t]:r[t]=o,this},setOptions:function(e){for(var t in e)this.setOption(t,e[t]);return this},getOption:function(e){return r.hasOwnProperty(e)?r[e]:null},addComponentStyle:function(e,t){return t&&"string"==typeof t&&(i[e]+=" "+t),this},setComponentStyle:function(e,t){return t&&"string"==typeof t&&(i[e]=t),this},setComponentStyles:function(e){for(var t in e)this.setComponentStyle(t,e[t]);return this},addComponentClass:function(e,t){return t&&"string"==typeof t&&(n[e]+=" "+t),this},setComponentClass:function(e,t){return t&&"string"==typeof t&&(n[e]=t),this},setComponentClasses:function(e){for(var t in e)this.setComponentClass(t,e[t]);return this},generate:function(l,p){e.log("--> Carousel.generate"),o||"function"!=typeof window.jQuery||t(),p=p||100,this.setOption("nextButtonClass",this.getOption("nextButtonClass")||n.nextButton),this.setOption("prevButtonClass",this.getOption("prevButtonClass")||n.prevButton),this.setOption("viewportClass",this.getOption("viewportClass")||n.viewport),this.setOption("itemlistClass",this.getOption("itemlistClass")||n.itemlist),this.setOption("rootContainerClass",this.getOption("rootContainerClass")||n.rootContainer),this.setOption("titleClass",this.getOption("titleClass")||n.title),this.setOption("dotsClass",this.getOption("dotsClass")||n.dots),this.setOption("title",this.getOption("title")||a),this.setOption("scrollBar",this.getOption("scrollBar")||n.scrollBar);var c,u,d,h,m,g,f;c="string"==typeof l?document.getElementById(l):l,u=document.createElement("div"),u.className=n.rootContainer,u.id="hlCarousel",i.rootContainer&&(u.style.cssText=i.rootContainer),g=document.createElement("h2"),g.className=n.title,g.innerHTML=this.getOption("title"),i.title&&(g.style.cssText=i.title),d=document.createElement("a"),d.className=n.nextButton,i.nextButton&&(d.style.cssText=i.nextButton),h=document.createElement("a"),h.className=n.prevButton,i.prevButton&&(h.style.cssText=i.prevButton),f=document.createElement("div"),f.className=n.viewport,f.onclick="javascript:void(0);",i.viewport&&(f.style.cssText=i.viewport),m=document.createElement("ul"),m.className=n.itemlist,m.id="hlCarouselList",i.itemlist&&(m.style.cssText=i.itemlist);for(var v=0;v<s.length;v++)m.appendChild(s[v]);if(f.appendChild(m),this.getOption("showScrollBar")){var y=document.createElement("div");y.className=n.scrollBarContainer,y.style.cssText="width:100%;height:5px;background-color:#F6F6F6;margin-bottom:20px;";var b=document.createElement("div");b.className=n.scrollBar,b.style.cssText="width:50px;background-color:#CCCCCC;height:100%;position:relative;",this.getOption("autoHideScrollBar")&&(b.style.cssText+="visibility:hidden;"),f.appendChild(y),y.appendChild(b)}if(this.getOption("dots")){var C=document.createElement("div");C.className="hl-dots-container";var w=s.length/(this.getOption("slidesToShow")||1);w=this.getOption("infinite")?Math.ceil(w):Math.floor(w);for(var P=0,x=w;x>P;P++){var S=e.toDom('<div data-slide="'+P*(this.getOption("slidesToShow")||1)+'"></div>')[0];S.className=n.dots,i.dots&&(S.style.cssText=i.dots),C.appendChild(S)}f.appendChild(C)}this.getOption("noTitle")||u.appendChild(g),u.appendChild(h),u.appendChild(f),u.appendChild(d),c.appendChild(u),window.setTimeout(function(){e.log("--> Carousel.InitjQueryPlugin");try{jQuery(u).hlcarousel(r)}catch(t){e.log("Error initializing Carousel"),e.log(t)}e.log("<-- Carousel.InitjQueryPlugin")},p),e.log("<-- Carousel.generate")}};return l}},data:null},Utility:{source:function(e){function t(){try{return COSTCO.util.getMemberCookie()}catch(e){return{signedIn:!1,costcoMember:!1,validated:!1,verified:!1}}}var o=location.toString().match(/\w+:\/\//i)[0]||"http://",r={getPlatform:function(){var e=-1!=window.COSTCO.util.getScreenType().indexOf("PHONE")?"mobile":"web";return e},setPlatform:function(e){e.setProperty("platform",this.getPlatform(e))},isMember:function(){var e=t();return e.signedIn&&(e.verified||e.validated)},getCulture:function(){var e=$("#language-select").text();return e&&(e=e.indexOf("EN")>0?"en-CA":"fr-CA"),e},getCarouselTitle:function(){return"fr-CA"==this.getCulture()?"Produits commandités":"Sponsored Products"},generateProtocolAgnosticUrl:function(t){var o=e.urlParse(t);return e.toUrl(o.page,o.qs)},keyboardFunctionality:function(){$(document).keydown(function(e){var t=$("#hl-prodgroup-mhp, #hl-prodgroup-msr, #hl-prodgroup-rmerch, #hl-prodgroup-mcat"),o=t.offset().top,r=o+t.outerHeight(),s=$(window).scrollTop(),i=s+$(window).height();return 37===e.which&&r>s&&i>o?t.slick("slickPrev"):39===e.which&&r>s&&i>o?t.slick("slickNext"):void $(".hl-anchor").attr("tabindex",-1)})},standardCarousel:function(e){return e.setOptions({speed:320,slidesToShow:4,slidesToScroll:4,viewportSize:744,infinite:!1,title:"Sponsored Products"}).setComponentClasses({viewport:"viewport",itemlist:"overview",nextButton:"scrollNext",prevButton:"scrollBack",title:"hl-prodgroup-header"})},generateLoginLink:function(t){try{var r=e.urlParse(window.wcs.productBaseURL),s=e.urlParse(t);return r.page=r.page.replace(/ProductDisplay/i,"LogonForm"),r.qs.URL=s.qs.dest,s.qs.dest="https:"+e.toUrl(r.page,r.qs),e.toUrl(s.page,s.qs).replace(/^\/\//,o)}catch(i){return null}},generateReviewLink:function(t){var r=e.urlParse(t);return r.qs.dest+="#reviews",e.toUrl(r.page,r.qs).replace(/^\/\//,o)},generateRatingImage:function(e){return parseFloat(e)>0?"http://reviews.costco.com/2070/"+parseFloat(e).toFixed(1).replace(".","_")+"/5/rating.gif":null},generateRatingStarOverlayStyle:function(e){var t=0;return parseFloat(e)>0&&(t=Math.round(20*parseFloat(e))),t=Math.min(100,t),"width: "+t+"% !important;"},normalizeHeights:function(e){jQuery(e);window.setTimeout(function(){var t=Math.max.apply(null,jQuery(e).map(function(){return jQuery(this).height()}));jQuery(e).css("height",t)},25)},findInjectionPoint:function(){return $("#search-results").find("[data-bi-layout]").contents().filter(function(){return this.textContent.indexOf("Hook Logic")>-1}).parent()}};return r},data:null}},"library:oninit":function(e){e.DEVCDN="//hook-cdn.s3.amazonaws.com",e.setOption("product-host-remap"),window.setTimeout(function(){var t=location.hostname.indexOf("m.")>-1?"#pjax-container .content-wrapper > p":"p.server-error",o=document.querySelector(t);if(o){var r=location.href.match(/[.](\d+)[.]html/);r.length>1&&e.newUpdate().setProperty("productid",r[1]).setProperty("parentsku",r[1]).setProperty("instock",0).setProperty("hlpagetype","P").submit()}},500)},"update:onreadycheck":function(e,t){if(!(window.COSTCO&&window.COSTCO.util&&window.COSTCO.util.safe&&window.COSTCO.util.carousel)){var o=e._get("deferCount")||0;return void(4>o?(t.log("poll COSTCO (attempt:"+o+")"),e._set("deferCount",++o),e._setReadyState(25)):(t.log("Couldn't load COSTCO library"),e._setReadyState(-1)))}t.Utility.setPlatform(e),e._setReadyState(0)},"update:onbeforecall":function(e,t){var o=e.getProperty("parentsku");o&&e.setProperty("productid",o);var r=t.Utility.getPlatform(e),s=e.getProperty("price"),i=e.getProperty("compareprice");if("web"===r&&s&&i&&parseFloat(i)<parseFloat(s)){var n=document.querySelector("#price .online-price .currency"),a=document.querySelector("#price .your-price .currency");if(a&&n){var l=parseFloat(a.innerHTML.replace(/[$]|,|\s/g,"")),p=parseFloat(n.innerHTML.replace(/[$]|,|\s/g,""));s==p&&i==l?(e.setProperty("price",l),e.setProperty("compareprice",p)):e.setProperty("instock",0)}}},"order:onreadycheck":"update:onreadycheck","request.homepagecarouselmobile2:properties":{beacon:"individual",minmes:4,maxmes:8,hlpt:"H",creative:"300x80_B_C_OG_TI_4-8_HomepageCarouselResponsive"},"request.homepagecarouselmobile2:onreadycheck":"update:onreadycheck","request.homepagecarouselmobile2:onbeforecall":function(e,t){e.getProperty("taxonomy")||e.setTaxonomy("homepage");var o=t.Utility,r=o.getCulture();r&&(e.setProperty("culture",r),t.setCulture(r)),t.addCss(t.STYLESPATH+"/costco_canada/styles/homepage.css")},"request.homepagecarouselmobile2:onprerender":function(e,t,o){for(var r=t.Utility,s=0,i=o.length;i>s;s++)o[s].ImpBeacon=r.generateProtocolAgnosticUrl(o[s].ImpBeacon),o[s]._ra.numberofreviews=o[s]._ra.numberofreviews?o[s]._ra.numberofreviews:o[s]._ra.numberOfReviews,o[s]._ra.memberonlytext="fr-CA"===e.getProperty("culture")?"Membres seulement":o[s]._ra.memberonlytext||"Member Only Item"},"request.homepagecarouselmobile2:onpagebind":function(e,t,o,r){var s=t.Utility;if(r.length<1)return void e.setAttribute("coverageCode","O");for(var i=t.toDom('<div class="container-fluid fixed-container product-list feature-carousel-container"></div>')[0],n=t.toDom('<div id="hl-prodgroup-mhp" class="feature-carousel"></div>')[0],a=t.toDom('<div class="hl-prodgroup-header"><h2>'+t.Utility.getCarouselTitle()+"</h2></div>")[0],l=0,p=o.length;p>l;l++)n.appendChild(o[l][0]);i.appendChild(a),i.appendChild(n),r[0].appendChild(i),COSTCO.util.safe(COSTCO.util.carousel)("#hl-prodgroup-mhp.feature-carousel",{dots:o.length>5,arrows:!0,infinite:!1,slidesToShow:5,slidesToScroll:5,autoplay:!1,lazyLoad:"ondemand",responsive:[{breakpoint:667,settings:{slidesToShow:2,slidesToScroll:2}}]}),s.keyboardFunctionality()},"request.homepagecarouselmobile2:treatment":function(e,t){var o='<div class="hl-product thumbnail"> <a class="hl-anchor" href="'+t.ProductPage+'"> <img class="hl-image img-responsive" alt="'+t.ProductName+'" src="'+t.Image+'" /> <div class="caption"> <div class="hl-price-container"> ';return 1===parseInt(t._ra.memberonlyitem)?(o+=' <p class="member-only"> <span class="co-c"></span>'+t._ra.memberonlytext+" </p> ",e.Utility.isMember()&&(o+=' <h3 class="hl-price price">'+e.toNumber(t.Price)+"</h3> "),o+=" "):o+=' <h3 class="hl-price price">'+e.toNumber(t.Price)+"</h3> ",o+=" </div> ",t.PromoText&&(o+=' <p class="promo"> '+t.PromoText+" </p> "),o+=' <p class="description"> <a href="'+t.ProductPage+'">'+t.ProductName+'</a> </p> </div> <img style="display: none;" alt="" data-lazy="'+t.ImpBeacon+'" /> </a></div>'},"request.homepagecarouselweb2:properties":{beacon:"individual",minmes:5,maxmes:16,hlpt:"H",creative:"750x350_B-C-OG_TI_4-16_HomepageCarouselResponsive"},"request.homepagecarouselweb2:onreadycheck":"update:onreadycheck","request.homepagecarouselweb2:onbeforecall":function(e,t){e.getProperty("taxonomy")||e.setTaxonomy("homepage");var o=t.Utility,r=o.getCulture();r&&(e.setProperty("culture",r),t.setCulture(r)),t.addCss(t.STYLESPATH+"/costco_canada/styles/homepage.css"),HLLibrary.newRequest().setTaxonomy("specialtyhomepage").setModule("SpecialtyHomepageCarousel").setProperty("hlPageType","H").setProperty("platform","web").submit()},"request.homepagecarouselweb2:onprerender":"request.homepagecarouselmobile2:onprerender","request.homepagecarouselweb2:onpagebind":"request.homepagecarouselmobile2:onpagebind","request.homepagecarouselweb2:treatment":"request.homepagecarouselmobile2:treatment","request.specialtyhomepagecarousel:properties":{beacon:"individual",minmes:5,maxmes:16,hlpt:"H",creative:"750x350_B-C-OG_TI_4-16_SpecialtyHomepageCarousel"},"request.specialtyhomepagecarousel:onreadycheck":"update:onreadycheck","request.specialtyhomepagecarousel:onbeforecall":"request.homepagecarouselmobile2:onbeforecall","request.specialtyhomepagecarousel:onprerender":"request.homepagecarouselmobile2:onprerender","request.specialtyhomepagecarousel:onpagebind":function(e,t,o,r){var s=t.Utility;r.length<1&&(r[0]=t.toDom('<div id="hl_2"></div>')[0]);var i=document.querySelector("#Home_Product_Carousel_1_content").parentElement;i.parentElement.insertBefore(r[0],i),i.style.display="none";for(var n=t.toDom('<div class="container-fluid fixed-container product-list feature-carousel-container"></div>')[0],a=t.toDom('<div id="hl-prodgroup-mhp-2" class="feature-carousel"></div>')[0],l=t.toDom('<div class="hl-prodgroup-header"><h2>Items You Might Like</h2></div>')[0],p=0,c=o.length;c>p;p++)a.appendChild(o[p][0]);n.appendChild(l),n.appendChild(a),n.insertBefore(t.toDom("<hr>")[0],n.children[0]),n.appendChild(t.toDom("<hr>")[0]),r[0].appendChild(n),COSTCO.util.safe(COSTCO.util.carousel)("#hl-prodgroup-mhp-2.feature-carousel",{dots:o.length>5,arrows:!0,infinite:!1,slidesToShow:5,slidesToScroll:5,autoplay:!1,lazyLoad:"ondemand",responsive:[{breakpoint:667,settings:{slidesToShow:2,slidesToScroll:2}}]}),s.keyboardFunctionality()},"request.specialtyhomepagecarousel:treatment":"request.homepagecarouselmobile2:treatment","request.searchcarouselweb2:properties":{beacon:"individual",minmes:4,maxmes:16,hlpt:"S",creative:"750x350_B-C-OG_TI_4-16_SearchCarouselResponsive"},"request.searchcarouselweb2:onreadycheck":"update:onreadycheck","request.searchcarouselweb2:onbeforecall":function(e,t){var o=t.Utility,r=o.getCulture();if(r&&(e.setProperty("culture",r),t.setCulture(r)),!e.getProperty("keyword")){var s=t.urlParse(location.href),i=s.qs.keyword;i&&e.setProperty("keyword",i)}t.addCss(t.STYLESPATH+"/costco_canada/styles/search.css")},"request.searchcarouselweb2:onprerender":function(e,t,o){for(var r=t.Utility,s=0,i=o.length;i>s;s++)o[s].ImpBeacon=r.generateProtocolAgnosticUrl(o[s].ImpBeacon),o[s]._ra.numberofreviews=o[s]._ra.numberofreviews?o[s]._ra.numberofreviews:o[s]._ra.numberOfReviews,o[s]._ra.memberonlytext="fr-CA"===e.getProperty("culture")?"Membres seulement":o[s]._ra.memberonlytext||"Member Only Item"},"request.searchcarouselweb2:onpagebind":function(e,t,o,r){var s=t.Utility;if(r.length<1)return void e.setAttribute("coverageCode","O");for(var i=t.toDom("<div></div>")[0],n=t.toDom('<div id="hl-prodgroup-msr" class="feature-carousel"></div>')[0],a=t.toDom('<div class="hl-prodgroup-header"><h2>'+t.Utility.getCarouselTitle()+"</h2></div>")[0],l=0,p=o.length;p>l;l++)n.appendChild(o[l][0]);i.appendChild(a),i.appendChild(n),r[0].appendChild(i),COSTCO.util.safe(COSTCO.util.carousel)("#hl-prodgroup-msr.feature-carousel",{dots:o.length>4,arrows:!0,infinite:!1,slidesToShow:4,slidesToScroll:4,autoplay:!1,lazyLoad:"ondemand",responsive:[{breakpoint:667,settings:{slidesToShow:2,slidesToScroll:2}}]}),s.keyboardFunctionality()},"request.searchcarouselweb2:treatment":function(e,t){var o='<div class="hl-product thumbnail"> <a href="'+t.ProductPage+'" class="hl-anchor" style="position: absolute; height: inherit; width: inherit;"></a> <img class="hl-image img-responsive" id="image'+t.Index+'" alt="'+t.ProductName+'" src="'+t.Image+'" /> <div class="caption"> <div class="hl-price-container"> ';return 1===parseInt(t._ra.memberonlyitem)?(o+=' <p class="member-only"> <span class="co-c"></span>'+t._ra.memberonlytext+" </p> ",e.Utility.isMember()&&(o+=' <h3 class="hl-price price">'+e.toNumber(t.Price)+"</h3> "),o+=" "):o+=' <h3 class="hl-price price">'+e.toNumber(t.Price)+"</h3> ",o+=" </div> ",t.PromoText&&(o+=' <p class="promo">'+t.PromoText+"</p> "),o+=' <p class="description" id="description1"> <a href="'+t.ProductPage+'">'+t.ProductName+'</a> </p> </div> <img style="display: none;" alt="" data-lazy="'+t.ImpBeacon+'" /> <div class="ratings"> <div class="stars"> <ul class="stars overlay" style="clip: rect(0,',o+=t.Rating>-1?Math.round(90*t.Rating/5):"0",o+='px,20px,0);"> <li><span class="fi-star"></span></li> <li><span class="fi-star"></span></li> <li><span class="fi-star"></span></li> <li><span class="fi-star"></span></li> <li><span class="fi-star"></span></li> </ul> <ul class="stars underlay"> <li><span class="fi-star"></span></li> <li><span class="fi-star"></span></li> <li><span class="fi-star"></span></li> <li><span class="fi-star"></span></li> <li><span class="fi-star"></span></li> </ul> </div> <div class="ratings-number">('+(t._ra.numberofreviews||0)+")</div> </div></div>"},"request.searchcarouselmobile2:properties":{beacon:"individual",minmes:2,maxmes:8,hlpt:"S",creative:"750x350_B-C-OG_TI_2-8_SearchCarouselResponsive"},"request.searchcarouselmobile2:onreadycheck":"update:onreadycheck","request.searchcarouselmobile2:onbeforecall":"request.searchcarouselweb2:onbeforecall","request.searchcarouselmobile2:onprerender":"request.searchcarouselweb2:onprerender","request.searchcarouselmobile2:onpagebind":"request.searchcarouselweb2:onpagebind","request.searchcarouselmobile2:treatment":"request.searchcarouselweb2:treatment","request.merchandisingcarouselweb2:properties":{beacon:"individual",minmes:4,maxmes:16,hlpt:"M",creative:"750x350_B-C-OG_TI_4-16_MerchandisingCarouselResponsive"},"request.merchandisingcarouselweb2:onreadycheck":"update:onreadycheck","request.merchandisingcarouselweb2:onbeforecall":function(e,t){"https://www.costco.com/emergency-kits-supplies.html"===window.location.href&&e.setProperty("broadmatchtype","1"),t.addCss(t.STYLESPATH+"/costco_canada/styles/merch.css");var o=t.Utility,r=o.getCulture();r&&(e.setProperty("culture",r),t.setCulture(r));var s=$("#search-results").find(".product-list"),i=s.find(".thumbnail").not(".hl-product").filter(".thumbnail"),n="";if(i.length>0){for(var a=[],l=0,p=i.length;p>=l;l++)a.push($(i[l]).attr("itemid"));n=a.join("|"),n=n.substring(0,n.length-1),e.setProperty("organicskus",n);var c=parseInt($("li.page.selected .btn.btn-primary").text())||1;c=Math.min(c,32767),e.setProperty("pgN",c),e.setProperty("hlpt","B"),e.setProperty("creative","750x350_B-C-OG_TI_4-16_BrowseCarouselResponsive")}},"request.merchandisingcarouselweb2:onprerender":"request.homepagecarouselmobile2:onprerender","request.merchandisingcarouselweb2:onpagebind":function(e,t,o,r){var s=t.Utility;if(r.length<1&&r.push(t.toDom('<div id="hl_1"></div>')[0]),!document.querySelector("#hl_1")){var i=s.findInjectionPoint();if(!(i.length>0))return void e.setAttribute("coverageCode","O");$(r[0]).insertAfter(i)}for(var n=t.toDom("<div></div>")[0],a=t.toDom('<div id="hl-prodgroup-rmerch" class="feature-carousel"></div>')[0],l=t.toDom('<div class="hl-prodgroup-header"><h2>'+t.Utility.getCarouselTitle()+"</h2></div>")[0],p=0,c=o.length;c>p;p++)a.appendChild(o[p][0]);n.appendChild(l),n.appendChild(a),r[0].appendChild(n),COSTCO.util.safe(COSTCO.util.carousel)("#hl-prodgroup-rmerch.feature-carousel",{dots:o.length>4,arrows:!0,infinite:!1,slidesToShow:4,slidesToScroll:4,autoplay:!1,lazyLoad:"ondemand",responsive:[{breakpoint:667,settings:{slidesToShow:2,slidesToScroll:2}}]}),s.keyboardFunctionality()},"request.merchandisingcarouselweb2:treatment":"request.searchcarouselweb2:treatment","request.merchandisingcarouselmobile2:properties":{beacon:"individual",minmes:2,maxmes:8,hlpt:"M",creative:"750x350_B-C-OG_TI_2-8_MerchandisingCarouselResponsive"},"request.merchandisingcarouselmobile2:onreadycheck":"update:onreadycheck","request.merchandisingcarouselmobile2:onbeforecall":"request.merchandisingcarouselweb2:onbeforecall","request.merchandisingcarouselmobile2:onprerender":"request.searchcarouselweb2:onprerender","request.merchandisingcarouselmobile2:onpagebind":"request.merchandisingcarouselweb2:onpagebind","request.merchandisingcarouselmobile2:treatment":"request.searchcarouselweb2:treatment","request.productpagemobile2:properties":{minmes:2,maxmes:8,creative:"750x350_B-C-OG_TI_4-16_PDPCarouselResponsive",broadmatchtype:3,beacon:"individual"},"request.productpagemobile2:treatment":function(e,t){var o='<div class="hl-product"> <a class="hl-anchor" href="'+t.ProductPage+'"> <img class="hl-image img-responsive" alt="'+t.ProductName+'" src="'+t.Image+'" /> <div class="caption"> <div class="hl-price-container"> ';
return 1===parseInt(t._ra.memberonlyitem)?(o+=' <p class="member-only"> <span class="co-c"></span>'+t._ra.memberonlytext+" </p> ",e.Utility.isMember()&&(o+=' <h3 class="hl-price price">'+e.toNumber(t.Price)+"</h3> "),o+=" "):o+=' <h3 class="hl-price price">'+e.toNumber(t.Price)+"</h3> ",o+=" </div> ",t.PromoText&&(o+=' <p class="promo"> '+t.PromoText+" </p> "),o+=' <p class="description"> <a href="'+t.ProductPage+'">'+t.ProductName+'</a> </p> </div> <img style="display: none;" alt="" data-lazy="'+t.ImpBeacon+'" /> <div class="hl-rating-container ratings"> <div class="stars"> <ul class ="stars overlay" style="clip:rect(0, ',o+=t.Rating>-1?Math.round(90*t.Rating/5):"0",o+='px, 20px, 0);"> <li><span class ="fi-star"></span></li> <li><span class ="fi-star"></span></li> <li><span class ="fi-star"></span></li> <li><span class ="fi-star"></span></li> <li><span class ="fi-star"></span></li> </ul> <ul class ="stars underlay"> <li><span class ="fi-star"></span></li> <li><span class ="fi-star"></span></li> <li><span class ="fi-star"></span></li> <li><span class ="fi-star"></span></li> <li><span class ="fi-star"></span></li> </ul> </div> <div class="ratings-number">('+(t._ra.numberofreviews||0)+")</div> </div> </a></div>"},"request.productpagemobile2:onreadycheck":"update:onreadycheck","request.productpagemobile2:onbeforecall":function(e,t){var o=t.Utility,r=o.getPlatform(e);"mobile"==r&&(e.setProperty("minMes",1),e.setProperty("creative","750x350_B-C-OG_TI_4-16_PDPCarouselResponsive"));var s=o.getCulture();s&&(e.setProperty("culture",s),t.setCulture(s)),t.addCss(t.STYLESPATH+"/costco_canada/styles/pdp.css")},"request.productpagemobile2:onprerender":"request.searchcarouselweb2:onprerender","request.productpagemobile2:onpagebind":function(e,t,o,r){var s=t.Utility,i=r[0]||document.querySelector("#hl_1")||document.getElementById("rr-placement").parentNode;if(!i)return void e.setAttribute("coverageCode","O");for(var n=t.toDom("<div></div>")[0],a=t.toDom('<div id="hl-placement" class="feature-carousel-container product-list fixed-container"></div>')[0],l=t.toDom('<div id="hl-prodgroup-msr" class="feature-carousel"></div>')[0],p=t.toDom('<div class="hl-prodgroup-header"><h3 class="h3">'+t.Utility.getCarouselTitle()+"</h3></div>")[0],c=0,u=o.length;u>c;c++)l.appendChild(o[c][0]);a.appendChild(p),a.appendChild(l),n.appendChild(a),i.appendChild(n),COSTCO.util.safe(COSTCO.util.carousel)("#hl-prodgroup-msr.feature-carousel",{dots:o.length>4,arrows:!0,infinite:!1,slidesToShow:4,slidesToScroll:4,autoplay:!1,lazyLoad:"ondemand",responsive:[{breakpoint:667,settings:{slidesToShow:2,slidesToScroll:2}}]}),s.keyboardFunctionality()},"request.productpageweb2:properties":{minmes:2,maxmes:16,creative:"200x630_B-R-OG_TI_1-2_PDPRightRailResponsive",broadmatchtype:3,beacon:"individual"},"request.productpageweb2:treatment":"request.productpagemobile2:treatment","request.productpageweb2:onreadycheck":"update:onreadycheck","request.productpageweb2:onbeforecall":"request.productpagemobile2:onbeforecall","request.productpageweb2:onprerender":"request.searchcarouselweb2:onprerender","request.productpageweb2:onpagebind":"request.productpagemobile2:onpagebind"};var HLLibrary=HLLibrary||function(e,t,o,r,s,i,n,a){"use strict";function l(e,t,o){var r="hl_c"+P.getRand(1e6,9999999);t.json=r,window[r]=function(e){o(e),window[r]=void 0;try{delete window[r]}catch(t){}},t.apikey&&(t.apiKey=t.apikey,delete t.apikey);var s=P.toUrl(e,t);P.addScript(s,!0),P.log("called "+s)}function p(t,o){var r=(t+":"+o).toLowerCase(),s=void 0;if(P.log("--> "+r),"function"==typeof e[r])s=e[r].apply(null,Array.prototype.slice.call(arguments,2));else if("string"==typeof e[r]){var i=e[r].split(":"),n=Array.prototype.slice.call(arguments,2);n.unshift(i[1]),n.unshift(i[0]),s=p.apply(null,n)}else P.log("No handler defined for "+r);return P.log("<-- "+r),s}function c(t,o){var r,s,i=(t+":"+o).toLowerCase();b[i]||(b[i]=1,r=e[i],r&&(s=P.toDom(r)[0],document.getElementsByTagName("head")[0].appendChild(s),P.log("Inserted inline stylesheet: "+i)))}function u(e,t,o){var r=document.getElementsByTagName("script")[0],s=document.createElement("img");s.src=e,s.height=1,s.width=1,s.style.display="none",s.onload=t,s.onerror=o,"HTMLImageElement"==typeof s&&r.parentNode.insertBefore(s,r)}function d(){var e=location.protocol+"//static.criteo.net/images/pixel.gif?ch=1",t=!1,o=!1;u(e,function(){t=!0,o&&h(!0)},function(){T=!0});var r=location.protocol+"//static.criteo.net/images/pixel.gif?ch=2";u(r,function(){h(!1)},function(){o=!0,t&&h(!0)})}function h(e){S=!0,P.setCookie("CRTOABE",e?"1":"0",1)}function m(){var e=P.getCookie("CRTOABE");null===e||"1"!==e&&"0"!==e?d():S=!0}e=e||{};var g={},f=0,v={REQUEST:0,UPDATE:0,ORDER:0,EVENT:0,ORGANIC:0},y={},b={},C={"en-US":["$","",",",".",2],"en-UK":["£","",",",".",2],"fr-FR":["€","",".",",",2],"pt-BR":["R$","",".",",",2],"fr-CA":[""," $"," ",",",2],"en-CA":["$","",",",".",2]},w="en-US",P={CDN:"//dnisjsqid2b9p.cloudfront.net",DEVCDN:"//cdn2.hlserve.com",STYLESPATH:e.stylespath||"//dnisjsqid2b9p.cloudfront.net/ClientPaths",SYNC:"//"+s+"/sync?dest="+location.protocol.replace(":","")+"%3A%2F%2Fidsync.rlcdn.com%2F382779.gif%3Fpartner_uid=[HMGUID]",shouldUseViewability:"True"==a?!0:!1,APNX:"http://ib.adnxs.com/getuid?http%3A%2F%2F"+s+"%2Fsync%3Fvendor%3Dadnxs%26uid%3D%24UID",APNX_S:"https://secure.adnxs.com/getuid?https%3A%2F%2F"+s+"%2Fsync%3Fvendor%3Dadnxs%26uid%3D%24UID",CLIENTID:o,MAXURLLENGTH:2e3,ENV:function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],o=(t[2]||"0").split("."),r={browser:t[1]||"",version:o[0]||"0",quirks:"CSS1Compat"!=document.compatMode};return r.supported="undefined"!=typeof window.JSON&&!("msie"==r.browser&&(r.version<8||8==r.version&&r.quirks)),r.maxUrl="msie"==r.browser?2048:8192,r}(navigator.userAgent),log:function(){try{i?(P.log=function(){try{if("undefined"==typeof console||0==arguments.length)return;var e=Array.prototype.slice.call(arguments,0);e[0]="HL: "+e[0],console.log.apply(console,e)}catch(t){try{console.log(t.toString())}catch(o){}}},P.log.apply(this,Array.prototype.slice.call(arguments,0))):P.log=function(){}}catch(e){try{console.log(e.toString())}catch(t){}}},error:function(e){try{var t,o,r;e.stack&&(t=/\(.+:(\d+):(\d+)\)/.exec(e.stack)||[],o=t[1],r=t[2]),P.log(e.toString()+(o?" at "+o+":"+r:"")),P.dropBeacon(P.toBeacon({msg:e.toString(),line:o,col:r},s+"/error"))}catch(e){try{console.log(e.toString())}catch(i){}}},getCookie:function(e){try{e=e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1");var t=document.cookie.match(new RegExp("(?:^|;)\\s?"+e+"=(.*?)(?:;|$)","i"));if(t)return decodeURIComponent(t[1])}catch(o){P.error(o)}return null},setCookie:function(e,t,o){try{var r=new Date;r.setTime(r.getTime()+24*o*60*60*1e3);var s=e+"="+t+"; expires="+r.toGMTString()+"; path=/";document.cookie=s,P.log("set cookie "+s)}catch(i){P.error(i)}},getPID:function(e){var t=P.urlParse(e);return t.qs.pid},getAdBlockerState:function(){return T?"1":"1"===P.getCookie("CRTOABE")?"1":"0"},urlParse:function(e,t){var o,r,s,i,n={full:String(e),qs:{},frag:null};if(s=e.indexOf("#"),s>-1&&(n.frag=e.substring(s+1),e=e.substring(0,s)),s=e.indexOf("?"),0>s)n.page=e;else for(n.page=e.substring(0,s),o=e.substring(s+1).split("&"),i=0;i<o.length;++i)r=o[i].split("="),2==r.length&&(t?n.qs[r[0]]=decodeURIComponent(r[1].replace(/\+/g,"%20")):n.qs[r[0].toLowerCase()]=decodeURIComponent(r[1].replace(/\+/g,"%20")));return n},strTrim:function(e){return null===e||void 0===e?"":e.toString().replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},hasOption:function(e){return!!g[e]},isNumeric:function(e){var t=Number(e);return!isNaN(t)&&isFinite(t)},isInteger:function(e){return Number(e).toFixed(0)==e},toNumber:function(e){var t=C[w],o=parseFloat(e).toFixed(t[4]).split(".");return t[0]+o[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+t[2])+(t[4]>0?t[3]+o[1]:"")+t[1]},setCulture:function(e){if(!C.hasOwnProperty(e))throw"The culture code '"+e+"' is not recognized.";w=e},isInView:function(e,t){P.log(e),P.log(t);var o=(t.left+t.right)/2,r=(t.top+t.bottom)/2;return P.log(r),P.log(o),P.log(r>=e.top&&r<=e.bottom&&o>=e.left&&o<=e.right),r>=e.top&&r<=e.bottom&&o>=e.left&&o<=e.right},getPosition:function(e){for(var t=e.offsetTop,o=e.offsetLeft,r=e.offsetHeight,s=e.offsetWidth;e.offsetParent;)e=e.offsetParent,t+=e.offsetTop,o+=e.offsetLeft;var i=t+r,n=o+s;return{left:o,top:t,height:r,width:s,bottom:i,right:n}},toMap:function(e,t,o){t=t||"|",o=o||"^";for(var r,s={},i=e.split(t),n=0,a=i.length;a>n;++n)r=i[n].split(o),2==r.length&&(s[r[0]]=r[1]);return s},toUrl:function(e,t){if(e){var o=e.indexOf("//"),r=0>o?"//"+e:e.substring(o),s=[];for(o in t)s.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return s.length>0&&(r+=(r.indexOf("?")<0?"?":"&")+s.join("&")),r}},toResource:function(t){return this.toUrl(t,{_:e.resv})},toBeacon:function(e,t){return P.toUrl(t||s+"/beacon",e)},htmlDecode:function(e){var t=document.createElement("div");return t.innerHTML=e.replace("&apos;","'"),t.innerText||t.textContent},htmlEncode:function(e){var t=document.createElement("div");return t.innerText=t.textContent=e,t.innerHTML.replace('"',"&quote;")},clip:function(e,t,o,r){r=r||"";var s,i=/[\w-]/;if(e.length>t){for(s=t;s>0;--s)if(i.test(e.charAt(s))){for(--s;s>0&&i.test(e.charAt(s));--s);if(s>0)return e.substr(0,s)+r}if(2==o||3==o)for(s=t+1;s<e.length;++s)if(i.test(e.charAt(s))){for(++s;s<e.length&&i.test(e.charAt(s));++s);return e.substr(0,s)+r}if(1==o||3==o)return e.substr(0,t)+r}return e},newGUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},getRand:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},isDom:function(e){return"undefined"!=typeof HTMLElement?e instanceof HTMLElement:null!==e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},toDom:function(e){var t=document.createElement("div");return t.innerHTML=e,t.children},addCss:function(e,t){if(!b[e]){b[e]=1;var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.href=t?this.toResource(e):e,document.getElementsByTagName("head")[0].appendChild(o)}},addScript:function(e,t,o){var r=document.createElement("script");r.type="text/javascript",r.async=!!t,r.src=o?this.toResource(e):e,document.getElementsByTagName("head")[0].appendChild(r)},addIframe:function(e){var t=document.createElement("iframe");t.src=e,t.width=0,t.height=0,t.style.visibility="hidden",document.getElementsByTagName("body")[0].appendChild(t)},dropBeacon:function(e){var t=document.createElement("img");t.src=P.toUrl(e+"&libversion=1"),P.log("beaconed "+t.attributes.src.value)},getEventCount:function(e){return v[e.toUpperCase()]||0},newRequest:function(){return new R(++f)},newUpdate:function(){return new O(++f)},newOrder:function(){return new q(++f)},newEvent:function(){return new B(++f)},newOrganicUpdate:function(){return new k(++f)},setOption:function(e){g[e]=1},productHostRemap:function(e){try{var t=/http(s{0,1}):\/\/[^\/]+/i,o=P.urlParse(e);return o.qs.hasOwnProperty("dest")&&(o.qs.dest=o.qs.dest.replace(t,location.protocol+"//"+location.host)),P.toUrl(o.page,o.qs)}catch(r){return P.error(r),e}}};i=!!i||null!==P.getCookie("debug-mode"),function(e,t){if(t.plugins)for(var o in t.plugins)e[o]=t.plugins[o].source(e,t.plugins[o].data||null)}(P,e);var x=P.newGUID();p("library","onInit",P),P.hasOption("sync")&&P.addIframe(P.SYNC),P.hasOption("apxn")&&P.dropBeacon("https:"==location.protocol?P.APNX_S:P.APNX);var S=!1,T=!1;m();var _=function(r,s,a){var c={params:{},filters:{},ns:r.toLowerCase(),treatment:"treatment",styleInlineAuto:"style",attr:{},divs:[],maps:{},endpoint:null,require:{},state:{},opts:{},ready:0};this.my=c,this.setOption=function(e){c.opts[e]=1},this.hasOption=function(e){return!!c.opts[e]},this.getNamespace=function(){return c.ns},this.getProperty=function(e){var t=P.strTrim(e).toLowerCase();return c.params.hasOwnProperty(t)?c.params[t]:null},this.setProperty=function(e,t){try{var o=P.strTrim(e).toLowerCase();if(c.maps[o]&&(o=c.maps[o]),"nodisplay"==o)return this.setProperty("displaya","0").setProperty("abflags","PreserveCoverage").setProperty("rsn",t);"brand"==o&&t instanceof Array&&(t=t.join("|")),null===t||void 0===t||""===t?c.params.hasOwnProperty(o)?(delete c.params[o],c._log("unset-prop "+e)):c._log("set-prop "+e+" = <*empty*>"):(c.params[o]=t,c._log("set-prop "+e+" = "+t))}catch(r){P.error(r)}return this},this.setPropertyAsEmpty=function(e){try{var t=P.strTrim(e).toLowerCase(),o="";c.params[t]=o,c._log("set-prop "+e+" = "+o)}catch(r){P.error(r)}return this},this.setProperties=function(e){if(null!==e&&void 0!==e)for(var t in e)e.hasOwnProperty(t)&&this.setProperty(t,e[t]);return this},this.getAttribute=function(e){var t=e.toString().toLowerCase();return c.attr[t]||null},this.setAttribute=function(e,t){try{var o=P.strTrim(e).toLowerCase();null===t||void 0===t||""===t?c.attr.hasOwnProperty(o)&&(delete c.attr[o],c._log("unset-attr "+e)):(c.attr[o]=t,c._log("set-attr "+e+" = "+t))}catch(r){P.error(r)}return this},this.setAttributes=function(e){if(null!==e&&void 0!==e)for(var t in e)e.hasOwnProperty(t)&&this.setAttribute(t,e[t]);return this},this.submit=function(){try{if(c.ready=0,p(c.ns,"onReadyCheck",this,P),S||T||(c.ready=10),c.ready<0)return void c._log("Aborted");if(c.ready>0)return c._log("Defering "+c.ready+" ms"),void function(e,t){setTimeout(function(){e.submit.apply(e,Array.prototype.slice.call(t,0))},c.ready)}(this,arguments);if(++v[r],s?(this.setProperty("cid",o),this.setProperty("pid",P.newGUID())):(this.setProperty("apikey",t.toUpperCase()),this.setProperty("useState","1"),this.setAttribute("clientid",o),this.getProperty("platform")||this.setProperty("platform",n)),this.setProperty("_",P.getRand(1,1e11)),this.setProperty("~uid",x),this.setProperty("abe",P.getAdBlockerState()),!c.params.hasOwnProperty("puserid")){var a=this,u=function(){var e=P.getCookie("s_vi");return e||(e=P.getCookie("__utma"),e?e=e.split(".").slice(0,3).join("."):(e=P.getCookie("hl_p"),e||(e=P.newGUID(),a._set("cbspuserid","true")))),e}();this.setProperty("puserid",u)}if(this.setProperties(e[c.ns+":properties"]),this.setAttributes(e[c.ns+":attributes"]),i){var d=P.getCookie("debug-params");d&&this.setProperties(P.toMap(d))}if(p(c.ns,"onBeforeCall",this,P),c._prep.apply(null,Array.prototype.slice.call(arguments,0)),c.params["~it"]="js",!c._isValid())return;if(s)P.dropBeacon(P.toBeacon(c.params,c.endpoint));else{var h=c.params.skuid,m=c.attr.splitorganicskusbeacon,g=P.toUrl(c.endpoint,c.params).length;if(m!==!1&&g<P.MAXURLLENGTH){if(!y[h]){y[h]=1;for(var f=P.newOrganicUpdate(),b=["skuid","cuserid","puserid","hlpt"],C=0;C<b.length;++C)c.params.hasOwnProperty(b[C])&&f.setProperty(b[C],c.params[b[C]]);this._set("organic",f)}this.hasOption("sku-filter")&&c.params.hasOwnProperty("filters")?this.setProperty("skuLookupOnly","true"):this.setProperty("skuid",null)}else c.params.organicskus=c.params.skuid,delete c.params.skuid;l(c.endpoint,c.params,c._cb)}}catch(w){console.log(w),P.error(w)}},c._log=function(e){P.log(r+" ("+a+") "+e.toString())},this._setReadyState=function(e){c.ready=e,c._log("readystate = "+e)},this._get=function(e){var t=P.strTrim(e).toLowerCase();return c.state.hasOwnProperty(t)?c.state[t]:void 0},this._set=function(e,t){try{var o=P.strTrim(e).toLowerCase();void 0===t?c.state.hasOwnProperty(o)&&delete c.state[o]:c.state[o]=t}catch(r){P.error(r)}return this},c._isValid=function(){var e,t=!0;for(e in c.require)c.params.hasOwnProperty(e)||(t=!1,c._log("Validation Error: Missing property '"+c.require[e]+"'"));return t},c._prep=function(){},c._cb=function(e){try{c._log("API Response",e),e.PageBeacon&&P.dropBeacon(e.PageBeacon)}catch(t){P.error(t)}}},O=function(e){var t=new _("UPDATE",!1,e),o=t.my;return delete t.my,o.endpoint=r+"/delivery/api/product",o.maps={hlpagetype:"hlpt",instock:"quantity",sku:"productid",regularprice:"compareprice",publishersku:"pgid",sellerid:"aid"},o._isValid=function(){return o.params.hasOwnProperty("productid")||o.params.hasOwnProperty("parentsku")?!0:(o._log("Validation Error: Missing required 'sku' or 'parentsku'"),!1)},t},k=function(e){var t=new _("ORGANIC",!0,e),o=t.my;return delete t.my,o.endpoint=s+"/beacon",o.maps={hlpagetype:"hlpt",skuid:"organicskus"},o.require={organicskus:"organicSKUs"},o._prep=function(){t.setProperty("action","skudata")},t},q=function(e){var t=new _("ORDER",!1,e),o=t.my;return delete t.my,o.endpoint=r+"/delivery/api/confirmation",o.maps={hlpagetype:"hlpt",sku:"productid",sellerid:"aid"},o.require={productid:"sku",price:"price",quantity:"quantity"},t},B=function(e){var t=new _("EVENT",!0,e),o=t.my;return delete t.my,o.endpoint=s+"/beacon",o.maps={hlpagetype:"hlpt",sku:"prodid",parentsku:"psku",publishersku:"pgrp",eventtype:"ec",eventdata:"ep",attributionId:"add_id"},o.require={ec:"eventType"},o._prep=function(){t.setProperty("action","logevent"),"object"==typeof o.params.ep&&t.setProperty("ep",JSON.stringify(o.params.ep))},t},R=function(e){var t=new _("REQUEST",!1,e),o=t.my;return delete t.my,o.maps={hlpagetype:"hlpt",organicskus:"skuid"},o._isValid=function(){for(var e=["taxonomy","keyword","encrypted_taxonomy","encrypted_keyword","skuid","sku2skuid"],t=0,r=e.length;r>t;++t)if(o.params[e[t]])return!0;return o._log("Failed Validation: Missing call to setTaxonomy, setKeyword or setProduct"),!1},o._prep=function(){P.ENV.supported||(t.setProperty("nodisplay","notsupported"),t.setAttribute("_unsupported",!0));var e=JSON.stringify(o.filters);if("{}"!=e&&t.setProperty("filters",e),t.setContainer.apply(t,Array.prototype.slice.call(arguments,0)),o.endpoint=r+"/delivery/api/",o.params.productid&&"related"==t.getProductMatchType())o.endpoint+="relatedSkus",t.setProperty("sku2skuid",o.params.productid),t.setProperty("productId",null);else if(o.params.taxonomy||o.params.encrypted_taxonomy)o.endpoint+="taxonomy";else{if(!o.params.keyword&&!o.params.encrypted_keyword)throw"Cannot Resolve Request Endpoint";o.endpoint+="search"}},o._cb=function(e){var r=[];try{var s,i,n,a,l,u,d,h,m=[],g=P.hasOption("product-host-remap");if(e.OptOut?P.getCookie("hl_p")&&P.setCookie("hl_p","",-1):P.hasOption("no-cookie")||"true"===t._get("cbspuserid")&&P.setCookie("hl_p",t.getProperty("puserid")),l=e.ProductAd||e.SearchProductAd||[],0===l.length&&P.hasOption("auto-retry")&&o.retry!==!0)return o._log("auto-retrying"),o.retry=!0,void t.submit();for(s=0;s<l.length;++s)l[s]._ra=JSON.parse(l[s].RenderingAttributes||"{}"),l[s]._used=!0,l[s].Count=l.length,l[s].Index=s,l[s].Treatment=o.treatment,g&&(l[s].ProductPage=P.productHostRemap(l[s].ProductPage));for(u=P.urlParse(e.PageBeacon),h=t._get("organic"),h&&(h.setProperty("pageGUID",u.qs.pid),h.submit()),p(o.ns,"onPreRender",t,P,l,u),a=o.attr.encode||1,s=0;s<l.length;++s){if(l[s].ProductName&&(l[s].ProductName=P.htmlDecode(P.htmlDecode(l[s].ProductName.replace("\\'","'")))),l[s]._ta=o.attr,l[s].ProductPage){if(n=P.toUrl(l[s].ProductPage),o.attr.linkprefix){for(n="http:"+n,i=0;a>i;++i)n=encodeURIComponent(n);n=P.toUrl(o.attr.linkprefix+n)}l[s].ProductPage=n}d=p(o.ns,l[s].Treatment,P,l[s]),d&&m.push(P.toDom(d))}c(o.ns,o.styleInlineAuto),l.length>0?p(o.ns,"onPageBind",t,P,m,o.divs,u):p(o.ns,"onNoContent",t,P,o.divs,u);var f=t.getAttribute("coverageCode");if(null!==f&&(u.qs.c=f),"universal-imps"==u.qs.action&&(u.qs.action="universal"),window.addEventListener&&P.shouldUseViewability){if(l.length>0){document.getElementsByClassName("hl-beacon-universal").length>0?(P.log("-->bootloading univeral view beacons"),u.qs.btf=1,r.push("hl-beacon-universal")):document.getElementsByClassName("hl-beacon-impression").length>0&&!t.hasOption("no-imps")&&(P.log("-->bootloading univeral impression beacons"),r.push("hl-beacon-impression"));for(var s=0;s<r.length;s++)t.setScrollEventListener(r[s]);P.log("<--end loading beacons")}P.dropBeacon(P.toUrl(u.page,u.qs))}else{if(P.log("-->Standard Beacon Drops"),P.dropBeacon(P.toUrl(u.page,u.qs)),"universal"!=u.qs.action&&!t.hasOption("no-imps"))for(s=0;s<l.length;++s)l[s].ImpBeacon&&l[s]._used&&P.dropBeacon(l[s].ImpBeacon);P.log("<--Standard Beacon Drops")}}catch(v){P.error(v)}},o.checkVisible=function(e){P.log("-->checking visibility.");var t=document.getElementsByClassName(e);P.log(t);for(var r={top:window.pageYOffset,left:window.pageXOffset,bottom:window.pageYOffset+window.innerHeight,right:window.pageXOffset+window.innerWidth},s=0;s<t.length;++s)if(null==t[s].getAttribute("data-hl-beacon-state")||"ready"==t[s].getAttribute("data-hl-beacon-state")){var i=P.getPosition(t[s]);P.isInView(r,i)?(P.log("visible"),P.dropBeacon(t[s].getAttribute("data-hl-beacon")),p(o.ns,"onViewed",P),t[s].setAttribute("data-hl-beacon-state","sent")):P.log("not visible")}},t.setScrollEventListener=function(e){function t(){for(var e=0;e<r.length;e++)o.checkVisible(r[e])}var r=[];r.push(e),window.addEventListener("scroll",t),setTimeout(t,1e3)},t.setModule=function(e){try{if(e=P.strTrim(e),e.indexOf("_")>-1){var r=e.split(/_/);e=r[r.length-1]}o.ns="request."+e.toLowerCase(),o._log("module "+e)}catch(s){P.error(s)}return t},t.setTreatment=function(e){try{o.treatment=P.strTrim(e),o._log("treatment "+e)}catch(r){P.error(r)}return t},t.setInlineStyle=function(e){o.styleInlineAuto=e||"style"},t.setTaxonomy=function(e,o){return o=o||!1,o?t.setProperty("encrypted_taxonomy",e):t.setProperty("taxonomy",e)},t.setKeyword=function(e,o){return o=o||!1,null!==e&&void 0!==e?o?t.setProperty("encrypted_keyword",e):r.indexOf("retail-eu")>-1?t.setProperty("keyword",e.replace(/[^A-Za-zéèàêâùïüëáíóúãõçÿæøğåãäößş0-9_' -]/g,"").toLowerCase()):t.setProperty("keyword",e.replace(/[^A-Za-z0-9_\' -]/g,"").toLowerCase()):t},t.getAllFilters=function(){return o.filters},t.setFilter=function(e,r,s){try{s=s||"|";var i=e.toString().toLowerCase();null===r||void 0===r||""===r?o.filters.hasOwnProperty(i)?(delete o.filters[i],o._log("unset-filter "+e)):o._log("set-filter "+e+" = <*empty*>"):(r=r.toString(),o.filters[i]=r.indexOf(s)>-1?r.split(s):r,o._log("set-filter "+e+" = "+r))}catch(n){console.log(n),P.error(n)}return t},t.setProduct=function(e,o,r){try{r=r||"|",e&&this.setProperty("parentSku",e),o&&this.setProperty("productId",o.replace(r,"|"))}catch(s){P.error(s)}return t},t.setProducts=function(e){try{e&&this.setProperty("productId",e)}catch(o){P.error(o)}return t},t.setProductMatchType=function(e){try{if(e)switch(e.toLowerCase()){case"related":this.setAttribute("matchtype","related");break;case"exact":this.setAttribute("matchtype","exact");break;default:P.log(e+" is not a valid product match type defaulting to exact."),this.setAttribute("matchtype","exact")}else P.log("Invalid product match type defaulting to exact."),this.setAttribute("matchtype","exact")}catch(o){P.error(o)}return t},t.getProductMatchType=function(){try{this.getAttribute("matchtype")||t.setProductMatchType("exact")}catch(e){P.error(e)}return this.getAttribute("matchtype")},t.setContainer=function(){var e,r,s,i=t._get("_ids")||{};for(e=0,r=arguments.length;r>e;++e){s=arguments[e].toString();var n=document.getElementById(s);null===n||i.hasOwnProperty(s)?o._log("Warning: DOM "+s+" does not exist."):(o._log("Container: "+s),o.divs.push(n),i[s]=1)}return t._set("_ids",i),t},t.getPartial=function(e){var t=p(o.ns,"_"+e,P,null);return t?P.toDom(t):t},t};return P}(hl_ext,hl_key,hl_cid,hl_api,hl_beam,hl_debug,hl_channel,hl_use_viewability);delete hl_ext,delete hl_key,delete hl_cid,delete hl_api,delete hl_beam,delete hl_debug,delete hl_channel,delete hl_use_viewability;