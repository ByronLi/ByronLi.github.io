!function t(e,n,i){function r(o,c){if(!n[o]){if(!e[o]){var s="function"==typeof require&&require;if(!c&&s)return s(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[o]={exports:{}};e[o][0].call(d.exports,function(t){var n=e[o][1][t];return r(n||t)},d,d.exports,t,e,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t){(function(n){function i(){function e(){v.windowLoaded=!0}n.addEventListener?n.addEventListener("load",e):n.attachEvent&&n.attachEvent("onload",e),v.codeLoadEnd=(new Date).getTime()}
/** @license ============== DO NOT ALTER ANYTHING BELOW THIS LINE ! ============

Adobe Visitor API for JavaScript version: 3.1.2
Copyright 1996-2015 Adobe, Inc. All Rights Reserved
More info available at https://marketing.adobe.com/resources/help/en_US/mcvid/
*/var r=e("./child/ChildVisitor"),a=e("./child/Message"),o=e("./child/makeChildMessageListener"),c=e("./utils/asyncParallelApply"),s=e("./utils/enums"),l=e("./utils/utils"),d=e("./utils/getDomain"),u=e("./units/version"),p=e("./units/crossDomain"),m=e("@adobe-mcid/visitor-js-shared/lib/ids/generateRandomID"),f=e("./units/makeCorsRequest"),h=e("./units/makeDestinationPublishing"),g=e("./utils/constants"),v=function(e,t,i){function r(e){var t=e;return function(e){var n=e||E.location.href;try{var i=b._extractParamFromUri(n,t);if(i)return U.parsePipeDelimetedKeyValues(i)}catch(e){}}}function v(e){function t(e,t){e&&e.match(g.VALID_VISITOR_ID_REGEX)&&t(e)}t(e[P],b.setMarketingCloudVisitorID),b._setFieldExpire(M,-1),t(e[V],b.setAnalyticsVisitorID)}function S(e){e=e||{},b._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",b._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},b._supplementalDataIDLast=e.supplementalDataIDLast||"",b._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function y(e){function t(e,t,n){return(n=n?n+="|":n)+(e+"=")+encodeURIComponent(t)}function n(e){return(e=e?e+="|":e)+"TS="+U.getTimestampInSeconds()}function i(e,n){var i=n[0],r=n[1];return null!=r&&r!==F&&(e=t(i,r,e)),e}return n(e.reduce(i,""))}function L(e){var t=20160,n=e.minutesToLive,i="";return(b.idSyncDisableSyncs||b.disableIdSyncs)&&(i=i||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(i=i||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(i=i||"Error: config.url is empty"),void 0===n?n=t:(n=parseInt(n,10),(isNaN(n)||n<=0)&&(i=i||"Error: config.minutesToLive needs to be a positive number")),{error:i,ttl:n}}if(!i||i.split("").reverse().join("")!==e)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var b=this;b.version="3.1.2";var E=n,k=E.Visitor;k.version=b.version,k.AuthState=s.AUTH_STATE,k.OptOut=s.OPT_OUT,E.s_c_in||(E.s_c_il=[],E.s_c_in=0),b._c="Visitor",b._il=E.s_c_il,b._in=E.s_c_in,b._il[b._in]=b,E.s_c_in++,b._log={requests:[]},b.marketingCloudOrgID=e,b.cookieName="AMCV_"+e,b.sessionCookieName="AMCVS_"+e,b.cookieDomain=d(),b.cookieDomain===E.location.hostname&&(b.cookieDomain=""),b.loadSSL=E.location.protocol.toLowerCase().indexOf("https")>=0,b.loadTimeout=3e4,b.CORSErrors=[],b.marketingCloudServer=b.audienceManagerServer="dpm.demdex.net",b.sdidParamExpiry=30;var w=E.document,C=null,D="MC",P="MCMID",T="MCORGID",_="MCCIDH",I="MCSYNCSOP",x="MCIDTS",A="MCOPTOUT",O="A",V="MCAID",N="AAM",$="MCAAMLH",M="MCAAMB",F="NONE",R=function(e){return!Object.prototype[e]},B=f(b,j);b.FIELDS=s.FIELDS,b.cookieRead=function(e){e=encodeURIComponent(e);var t=(";"+w.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"="),i=n<0?n:t.indexOf(";",n+1);return n<0?"":decodeURIComponent(t.substring(n+2+e.length,i<0?t.length:i))},b.cookieWrite=function(e,t,n){var i,r=b.cookieLifetime;if(t=""+t,r=r?(""+r).toUpperCase():"",n&&"SESSION"!==r&&"NONE"!==r){if(i=""!==t?parseInt(r||0,10):-60)(n=new Date).setTime(n.getTime()+1e3*i);else if(1===n){var a=(n=new Date).getYear();n.setYear(a+2+(a<1900?1900:0))}}else n=0;return e&&"NONE"!==r?(w.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+n.toGMTString()+";":"")+(b.cookieDomain?" domain="+b.cookieDomain+";":""),b.cookieRead(e)===t):0},b.resetState=function(e){e?b._mergeServerState(e):S()},b._isAllowedDone=!1,b._isAllowedFlag=!1,b.isAllowed=function(){return b._isAllowedDone||(b._isAllowedDone=!0,(b.cookieRead(b.cookieName)||b.cookieWrite(b.cookieName,"T",1))&&(b._isAllowedFlag=!0)),b._isAllowedFlag},b.setMarketingCloudVisitorID=function(e){b._setMarketingCloudFields(e)},b._use1stPartyMarketingCloudServer=!1,b.getMarketingCloudVisitorID=function(e,t){if(b.isAllowed()){b.marketingCloudServer&&b.marketingCloudServer.indexOf(".demdex.net")<0&&(b._use1stPartyMarketingCloudServer=!0);var n=b._getAudienceManagerURLData("_setMarketingCloudFields"),i=n.url;return b._getRemoteField(P,i,e,t,n)}return""},b.getVisitorValues=function(e,t){var n={MCMID:{fn:b.getMarketingCloudVisitorID,args:[!0],context:b},MCOPTOUT:{fn:b.isOptedOut,args:[void 0,!0],context:b},MCAID:{fn:b.getAnalyticsVisitorID,args:[!0],context:b},MCAAMLH:{fn:b.getAudienceManagerLocationHint,args:[!0],context:b},MCAAMB:{fn:b.getAudienceManagerBlob,args:[!0],context:b}},i=t&&t.length?U.pluck(n,t):n;c(i,e)},b._currentCustomerIDs={},b._customerIDsHashChanged=!1,b._newCustomerIDsHash="",b.setCustomerIDs=function(e){function t(){b._customerIDsHashChanged=!1}if(b.isAllowed()&&e){var n,i;for(n in b._readVisitor(),e)if(R(n)&&(i=e[n]))if("object"==typeof i){var r={};i.id&&(r.id=i.id),null!=i.authState&&(r.authState=i.authState),b._currentCustomerIDs[n]=r}else b._currentCustomerIDs[n]={id:i};var a=b.getCustomerIDs(),o=b._getField(_),c="";for(n in o||(o=0),a)R(n)&&(c+=(c?"|":"")+n+"|"+((i=a[n]).id?i.id:"")+(i.authState?i.authState:""));b._newCustomerIDsHash=b._hash(c),b._newCustomerIDsHash!==o&&(b._customerIDsHashChanged=!0,b._mapCustomerIDs(t))}},b.getCustomerIDs=function(){b._readVisitor();var e,t,n={};for(e in b._currentCustomerIDs)R(e)&&(t=b._currentCustomerIDs[e],n[e]||(n[e]={}),t.id&&(n[e].id=t.id),null!=t.authState?n[e].authState=t.authState:n[e].authState=k.AuthState.UNKNOWN);return n},b.setAnalyticsVisitorID=function(e){b._setAnalyticsFields(e)},b.getAnalyticsVisitorID=function(e,t,n){if(!U.isTrackingServerPopulated()&&!n)return b._callCallback(e,[""]),"";if(b.isAllowed()){var i="";if(n||(i=b.getMarketingCloudVisitorID(function(){b.getAnalyticsVisitorID(e,!0)})),i||n){var r=n?b.marketingCloudServer:b.trackingServer,a="";b.loadSSL&&(n?b.marketingCloudServerSecure&&(r=b.marketingCloudServerSecure):b.trackingServerSecure&&(r=b.trackingServerSecure));var o={};if(r){var c="http"+(b.loadSSL?"s":"")+"://"+r+"/id",s="d_visid_ver="+b.version+"&mcorgid="+encodeURIComponent(b.marketingCloudOrgID)+(i?"&mid="+encodeURIComponent(i):"")+(b.idSyncDisable3rdPartySyncing||b.disableThirdPartyCookies?"&d_coppa=true":""),l=["s_c_il",b._in,"_set"+(n?"MarketingCloud":"Analytics")+"Fields"];a=c+"?"+s+"&callback=s_c_il%5B"+b._in+"%5D._set"+(n?"MarketingCloud":"Analytics")+"Fields",o.corsUrl=c+"?"+s,o.callback=l}return o.url=a,b._getRemoteField(n?P:V,a,e,t,o)}}return""},b.getAudienceManagerLocationHint=function(e,t){if(b.isAllowed()&&b.getMarketingCloudVisitorID(function(){b.getAudienceManagerLocationHint(e,!0)})){var n=b._getField(V);if(!n&&U.isTrackingServerPopulated()&&(n=b.getAnalyticsVisitorID(function(){b.getAudienceManagerLocationHint(e,!0)})),n||!U.isTrackingServerPopulated()){var i=b._getAudienceManagerURLData(),r=i.url;return b._getRemoteField($,r,e,t,i)}}return""},b.getLocationHint=b.getAudienceManagerLocationHint,b.getAudienceManagerBlob=function(e,t){if(b.isAllowed()&&b.getMarketingCloudVisitorID(function(){b.getAudienceManagerBlob(e,!0)})){var n=b._getField(V);if(!n&&U.isTrackingServerPopulated()&&(n=b.getAnalyticsVisitorID(function(){b.getAudienceManagerBlob(e,!0)})),n||!U.isTrackingServerPopulated()){var i=b._getAudienceManagerURLData(),r=i.url;return b._customerIDsHashChanged&&b._setFieldExpire(M,-1),b._getRemoteField(M,r,e,t,i)}}return""},b._supplementalDataIDCurrent="",b._supplementalDataIDCurrentConsumed={},b._supplementalDataIDLast="",b._supplementalDataIDLastConsumed={},b.getSupplementalDataID=function(e,t){b._supplementalDataIDCurrent||t||(b._supplementalDataIDCurrent=b._generateID(1));var n=b._supplementalDataIDCurrent;return b._supplementalDataIDLast&&!b._supplementalDataIDLastConsumed[e]?(n=b._supplementalDataIDLast,b._supplementalDataIDLastConsumed[e]=!0):n&&(b._supplementalDataIDCurrentConsumed[e]&&(b._supplementalDataIDLast=b._supplementalDataIDCurrent,b._supplementalDataIDLastConsumed=b._supplementalDataIDCurrentConsumed,b._supplementalDataIDCurrent=n=t?"":b._generateID(1),b._supplementalDataIDCurrentConsumed={}),n&&(b._supplementalDataIDCurrentConsumed[e]=!0)),n},b.getOptOut=function(e,t){if(b.isAllowed()){var n=b._getAudienceManagerURLData("_setMarketingCloudFields"),i=n.url;return b._getRemoteField(A,i,e,t,n)}return""},b.isOptedOut=function(e,t,n){if(b.isAllowed()){t||(t=k.OptOut.GLOBAL);var i=b.getOptOut(function(n){var i=n===k.OptOut.GLOBAL||n.indexOf(t)>=0;b._callCallback(e,[i])},n);return i?i===k.OptOut.GLOBAL||i.indexOf(t)>=0:null}return!1},b._fields=null,b._fieldsExpired=null,b._hash=function(e){var t,n=0;if(e)for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n&=n;return n},b._generateID=m,b._generateLocalMID=function(){var e=b._generateID(0);return q.isClientSideMarketingCloudVisitorID=!0,e},b._callbackList=null,b._callCallback=function(e,t){try{"function"==typeof e?e.apply(E,t):e[1].apply(e[0],t)}catch(e){}},b._registerCallback=function(e,t){t&&(null==b._callbackList&&(b._callbackList={}),null==b._callbackList[e]&&(b._callbackList[e]=[]),b._callbackList[e].push(t))},b._callAllCallbacks=function(e,t){if(null!=b._callbackList){var n=b._callbackList[e];if(n)for(;n.length>0;)b._callCallback(n.shift(),t)}},b._addQuerystringParam=function(e,t,n,i){var r=encodeURIComponent(t)+"="+encodeURIComponent(n),a=U.parseHash(e),o=U.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+r+a;var c=o.split("?"),s=c[0]+"?",l=c[1];return s+U.addQueryParamAtLocation(l,r,i)+a},b._extractParamFromUri=function(e,t){var n=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(n&&n.length)return decodeURIComponent(n[1])},b._parseAdobeMcFromUrl=r(g.ADOBE_MC),b._parseAdobeMcSdidFromUrl=r(g.ADOBE_MC_SDID),b._attemptToPopulateSdidFromUrl=function(t){var n=b._parseAdobeMcSdidFromUrl(t),i=1e9;n&&n.TS&&(i=U.getTimestampInSeconds()-n.TS),n&&n.SDID&&n[T]===e&&i<b.sdidParamExpiry&&(b._supplementalDataIDCurrent=n.SDID,b._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},b._attemptToPopulateIdsFromUrl=function(){var t=b._parseAdobeMcFromUrl();if(t&&t.TS){var n=U.getTimestampInSeconds()-t.TS;if(Math.floor(n/60)>g.ADOBE_MC_TTL_IN_MIN||t[T]!==e)return;v(t)}},b._mergeServerState=function(e){function t(e){U.isObject(e)&&b.setCustomerIDs(e)}function n(e){return U.isObject(e)?e:JSON.parse(e)}if(e)try{if((e=n(e))[b.marketingCloudOrgID]){var i=e[b.marketingCloudOrgID];t(i.customerIDs),S(i.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}},b._timeout=null,b._loadData=function(e,t,n,i){var r="d_fieldgroup";t=b._addQuerystringParam(t,r,e,1),i.url=b._addQuerystringParam(i.url,r,e,1),i.corsUrl=b._addQuerystringParam(i.corsUrl,r,e,1),q.fieldGroupObj[e]=!0,i===Object(i)&&i.corsUrl&&"XMLHttpRequest"===B.corsMetadata.corsType&&B.fireCORS(i,n,e)},b._clearTimeout=function(e){null!=b._timeout&&b._timeout[e]&&(clearTimeout(b._timeout[e]),b._timeout[e]=0)},b._settingsDigest=0,b._getSettingsDigest=function(){if(!b._settingsDigest){var e=b.version;b.audienceManagerServer&&(e+="|"+b.audienceManagerServer),b.audienceManagerServerSecure&&(e+="|"+b.audienceManagerServerSecure),b._settingsDigest=b._hash(e)}return b._settingsDigest},b._readVisitorDone=!1,b._readVisitor=function(){if(!b._readVisitorDone){b._readVisitorDone=!0;var e,t,n,i,r,a,o=b._getSettingsDigest(),c=!1,s=b.cookieRead(b.cookieName),l=new Date;if(null==b._fields&&(b._fields={}),s&&"T"!==s)for((s=s.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(s[0],10)!==o&&(c=!0),s.shift()),s.length%2==1&&s.pop(),e=0;e<s.length;e+=2)n=(t=s[e].split("-"))[0],i=s[e+1],t.length>1?(r=parseInt(t[1],10),a=t[1].indexOf("s")>0):(r=0,a=!1),c&&(n===_&&(i=""),r>0&&(r=l.getTime()/1e3-60)),n&&i&&(b._setField(n,i,1),r>0&&(b._fields["expire"+n]=r+(a?"s":""),(l.getTime()>=1e3*r||a&&!b.cookieRead(b.sessionCookieName))&&(b._fieldsExpired||(b._fieldsExpired={}),b._fieldsExpired[n]=!0)));!b._getField(V)&&U.isTrackingServerPopulated()&&((s=b.cookieRead("s_vi"))&&((s=s.split("|")).length>1&&s[0].indexOf("v1")>=0&&((e=(i=s[1]).indexOf("["))>=0&&(i=i.substring(0,e)),i&&i.match(g.VALID_VISITOR_ID_REGEX)&&b._setField(V,i))))}},b._appendVersionTo=function(e){var t="vVersion|"+b.version,n=e?b._getCookieVersion(e):null;return n?u.areVersionsDifferent(n,b.version)&&(e=e.replace(g.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},b._writeVisitor=function(){var e,t,n=b._getSettingsDigest();for(e in b._fields)R(e)&&b._fields[e]&&"expire"!==e.substring(0,6)&&(t=b._fields[e],n+=(n?"|":"")+e+(b._fields["expire"+e]?"-"+b._fields["expire"+e]:"")+"|"+t);n=b._appendVersionTo(n),b.cookieWrite(b.cookieName,n,1)},b._getField=function(e,t){return null==b._fields||!t&&b._fieldsExpired&&b._fieldsExpired[e]?null:b._fields[e]},b._setField=function(e,t,n){null==b._fields&&(b._fields={}),b._fields[e]=t,n||b._writeVisitor()},b._getFieldList=function(e,t){var n=b._getField(e,t);return n?n.split("*"):null},b._setFieldList=function(e,t,n){b._setField(e,t?t.join("*"):"",n)},b._getFieldMap=function(e,t){var n=b._getFieldList(e,t);if(n){var i,r={};for(i=0;i<n.length;i+=2)r[n[i]]=n[i+1];return r}return null},b._setFieldMap=function(e,t,n){var i,r=null;if(t)for(i in r=[],t)R(i)&&(r.push(i),r.push(t[i]));b._setFieldList(e,r,n)},b._setFieldExpire=function(e,t,n){var i=new Date;i.setTime(i.getTime()+1e3*t),null==b._fields&&(b._fields={}),b._fields["expire"+e]=Math.floor(i.getTime()/1e3)+(n?"s":""),t<0?(b._fieldsExpired||(b._fieldsExpired={}),b._fieldsExpired[e]=!0):b._fieldsExpired&&(b._fieldsExpired[e]=!1),n&&(b.cookieRead(b.sessionCookieName)||b.cookieWrite(b.sessionCookieName,"1"))},b._findVisitorID=function(e){return e&&("object"==typeof e&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&("NOTARGET"===(e=e.toUpperCase())&&(e=F)),e&&(e===F||e.match(g.VALID_VISITOR_ID_REGEX))||(e="")),e},b._setFields=function(e,t){if(b._clearTimeout(e),null!=b._loading&&(b._loading[e]=!1),q.fieldGroupObj[e]&&q.setState(e,!1),e===D){!0!==q.isClientSideMarketingCloudVisitorID&&(q.isClientSideMarketingCloudVisitorID=!1);var n=b._getField(P);if(!n||b.overwriteCrossDomainMCIDAndAID){if(!(n="object"==typeof t&&t.mid?t.mid:b._findVisitorID(t))){if(b._use1stPartyMarketingCloudServer&&!b.tried1stPartyMarketingCloudServer)return b.tried1stPartyMarketingCloudServer=!0,void b.getAnalyticsVisitorID(null,!1,!0);n=b._generateLocalMID()}b._setField(P,n)}n&&n!==F||(n=""),"object"==typeof t&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&b._setFields(N,t),b._use1stPartyMarketingCloudServer&&t.mid&&b._setFields(O,{id:t.id})),b._callAllCallbacks(P,[n])}if(e===N&&"object"==typeof t){var i=604800;null!=t.id_sync_ttl&&t.id_sync_ttl&&(i=parseInt(t.id_sync_ttl,10));var r=H.getRegionAndCheckIfChanged(t,i);b._callAllCallbacks($,[r]);var a=b._getField(M);(t.d_blob||t.blob)&&((a=t.d_blob)||(a=t.blob),b._setFieldExpire(M,i),b._setField(M,a)),a||(a=""),b._callAllCallbacks(M,[a]),!t.error_msg&&b._newCustomerIDsHash&&b._setField(_,b._newCustomerIDsHash)}if(e===O){var o=b._getField(V);o&&!b.overwriteCrossDomainMCIDAndAID||((o=b._findVisitorID(t))?o!==F&&b._setFieldExpire(M,-1):o=F,b._setField(V,o)),o&&o!==F||(o=""),b._callAllCallbacks(V,[o])}if(b.idSyncDisableSyncs||b.disableIdSyncs)H.idCallNotProcesssed=!0;else{H.idCallNotProcesssed=!1;var c={};c.ibs=t.ibs,c.subdomain=t.subdomain,H.processIDCallData(c)}var s,l;t===Object(t)&&(b.isAllowed()&&(s=b._getField(A)),s||(s=F,t.d_optout&&t.d_optout instanceof Array&&(s=t.d_optout.join(",")),l=parseInt(t.d_ottl,10),isNaN(l)&&(l=7200),b._setFieldExpire(A,l,!0),b._setField(A,s)),b._callAllCallbacks(A,[s]))},b._loading=null,b._getRemoteField=function(e,t,n,i,r){var a,o="",c=U.isFirstPartyAnalyticsVisitorIDCall(e),s={MCAAMLH:!0,MCAAMB:!0};if(b.isAllowed())if(b._readVisitor(),o=b._getField(e,!0===s[e]),function(){return(!o||b._fieldsExpired&&b._fieldsExpired[e])&&(!b.disableThirdPartyCalls||c)}()){if(e===P||e===A?a=D:e===$||e===M?a=N:e===V&&(a=O),a)return!t||null!=b._loading&&b._loading[a]||(null==b._loading&&(b._loading={}),b._loading[a]=!0,b._loadData(a,t,function(t){if(!b._getField(e)){t&&q.setState(a,!0);var n="";e===P?n=b._generateLocalMID():a===N&&(n={error_msg:"timeout"}),b._setFields(a,n)}},r)),b._registerCallback(e,n),o||(t||b._setFields(a,{id:F}),"")}else o||(e===P?(b._registerCallback(e,n),o=b._generateLocalMID(),b.setMarketingCloudVisitorID(o)):e===V?(b._registerCallback(e,n),o="",b.setAnalyticsVisitorID(o)):(o="",i=!0));return e!==P&&e!==V||o!==F||(o="",i=!0),n&&i&&b._callCallback(n,[o]),o},b._setMarketingCloudFields=function(e){b._readVisitor(),b._setFields(D,e)},b._mapCustomerIDs=function(e){b.getAudienceManagerBlob(e,!0)},b._setAnalyticsFields=function(e){b._readVisitor(),b._setFields(O,e)},b._setAudienceManagerFields=function(e){b._readVisitor(),b._setFields(N,e)},b._getAudienceManagerURLData=function(e){var t=b.audienceManagerServer,n="",i=b._getField(P),r=b._getField(M,!0),a=b._getField(V),o=a&&a!==F?"&d_cid_ic=AVID%01"+encodeURIComponent(a):"";if(b.loadSSL&&b.audienceManagerServerSecure&&(t=b.audienceManagerServerSecure),t){var c,s,l=b.getCustomerIDs();if(l)for(c in l)R(c)&&(s=l[c],o+="&d_cid_ic="+encodeURIComponent(c)+"%01"+encodeURIComponent(s.id?s.id:"")+(s.authState?"%01"+s.authState:""));e||(e="_setAudienceManagerFields");var d="http"+(b.loadSSL?"s":"")+"://"+t+"/id",u="d_visid_ver="+b.version+"&d_rtbd=json&d_ver=2"+(!i&&b._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(b.marketingCloudOrgID)+"&d_nsid="+(b.idSyncContainerID||0)+(i?"&d_mid="+encodeURIComponent(i):"")+(b.idSyncDisable3rdPartySyncing||b.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===C?"&d_coop_safe=1":!1===C?"&d_coop_unsafe=1":"")+(r?"&d_blob="+encodeURIComponent(r):"")+o,p=["s_c_il",b._in,e];return{url:n=d+"?"+u+"&d_cb=s_c_il%5B"+b._in+"%5D."+e,corsUrl:d+"?"+u,callback:p}}return{url:n}},b.appendVisitorIDsTo=function(e){try{var t=[[P,b._getField(P)],[V,b._getField(V)],[T,b.marketingCloudOrgID]];return b._addQuerystringParam(e,g.ADOBE_MC,y(t))}catch(t){return e}},b.appendSupplementalDataIDTo=function(e,t){if(!(t=t||b.getSupplementalDataID(U.generateRandomString(),!0)))return e;try{var n=y([["SDID",t],[T,b.marketingCloudOrgID]]);return b._addQuerystringParam(e,g.ADOBE_MC_SDID,n)}catch(t){return e}};var U={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,n){var i=e.split("&");return n=null!=n?n:i.length,i.splice(n,0,t),i.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,n){return e===V&&(t||(t=b.trackingServer),n||(n=b.trackingServerSecure),!("string"!=typeof(i=b.loadSSL?n:t)||!i.length)&&i.indexOf("2o7.net")<0&&i.indexOf("omtrdc.net")<0);var i},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+(b.cookieDomain?" domain="+b.cookieDomain+";":"")},isTrackingServerPopulated:function(){return!!b.trackingServer||!!b.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce(function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=n[Math.floor(Math.random()*n.length)];return t},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t);return e},pluck:function(e,t){return t.reduce(function(t,n){return e[n]&&(t[n]=e[n]),t},Object.create(null))}};b._helpers=U;var H=h(b,k);b._destinationPublishing=H,b.timeoutMetricsLog=[];var j,q={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case D:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case O:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case N:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};b.isClientSideMarketingCloudVisitorID=function(){return q.isClientSideMarketingCloudVisitorID},b.MCIDCallTimedOut=function(){return q.MCIDCallTimedOut},b.AnalyticsIDCallTimedOut=function(){return q.AnalyticsIDCallTimedOut},b.AAMIDCallTimedOut=function(){return q.AAMIDCallTimedOut},b.idSyncGetOnPageSyncInfo=function(){return b._readVisitor(),b._getField(I)},b.idSyncByURL=function(e){var t=L(e||{});if(t.error)return t.error;var n,i,r=e.url,a=encodeURIComponent,o=H;return r=r.replace(/^https:/,"").replace(/^http:/,""),n=l.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),i=["ibs",a(e.dpid),"img",a(r),t.ttl,"",n],o.addMessage(i.join("|")),o.requestToProcess(),"Successfully queued"},b.idSyncByDataSource=function(e){return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,b.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},b._getCookieVersion=function(e){e=e||b.cookieRead(b.cookieName);var t=g.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},b._resetAmcvCookie=function(e){var t=b._getCookieVersion();t&&!u.isLessThan(t,e)||U.removeCookie(b.cookieName)},b.setAsCoopSafe=function(){C=!0},b.setAsCoopUnsafe=function(){C=!1},b.init=function(){function n(){if(t&&"object"==typeof t){for(var e in b.configs=Object.create(null),t)R(e)&&(b[e]=t[e],b.configs[e]=t[e]);b.idSyncContainerID=b.idSyncContainerID||0,C="boolean"==typeof b.isCoopSafe?b.isCoopSafe:U.parseBoolean(b.isCoopSafe),b.resetBeforeVersion&&b._resetAmcvCookie(b.resetBeforeVersion),b._attemptToPopulateIdsFromUrl(),b._attemptToPopulateSdidFromUrl(),b._readVisitor();var n=b._getField(x),i=Math.ceil((new Date).getTime()/g.MILLIS_PER_DAY);b.idSyncDisableSyncs||b.disableIdSyncs||!H.canMakeSyncIDCall(n,i)||(b._setFieldExpire(M,-1),b._setField(x,i)),b.getMarketingCloudVisitorID(),b.getAudienceManagerLocationHint(),b.getAudienceManagerBlob(),b._mergeServerState(b.serverState)}else b._attemptToPopulateIdsFromUrl(),b._attemptToPopulateSdidFromUrl()}function i(){if(!b.idSyncDisableSyncs&&!b.disableIdSyncs){H.checkDPIframeSrc();var e=function(){var e=H;e.readyToAttachIframe()&&e.attachIframe()};E.addEventListener("load",function(){k.windowLoaded=!0,e()});try{p.receiveMessage(function(e){H.receiveMessage(e.data)},H.iframeHost)}catch(e){}}}function r(){b.whitelistIframeDomains&&g.POST_MESSAGE_ENABLED&&(b.whitelistIframeDomains=b.whitelistIframeDomains instanceof Array?b.whitelistIframeDomains:[b.whitelistIframeDomains],b.whitelistIframeDomains.forEach(function(t){var n=new a(e,t),i=o(b,n);p.receiveMessage(i,t)}))}n(),i(),r()}};v.getInstance=function(e,t){function i(){var t=n.s_c_il;if(t)for(var i=0;i<t.length;i++){var r=t[i];if(r&&"Visitor"===r._c&&r.marketingCloudOrgID===e)return r}}function a(){try{return n.self!==n.parent}catch(e){return!0}}function o(){n.s_c_il.splice(--n.s_c_in,1)}function c(e){var t="TEST_AMCV_COOKIE";return e.cookieWrite(t,"T",1),"T"===e.cookieRead(t)&&(e._helpers.removeCookie(t),!0)}if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var s=i();if(s)return s;var d=e.split("").reverse().join(""),u=new v(e,null,d);o();var p=l.getIeVersion();if("number"==typeof p&&p<10)return u._helpers.replaceMethodsWithFunction(u,function(){});var m=a()&&!c(u)&&n.parent?new r(e,t,u,n.parent):new v(e,t,d);return u=null,m.init(),m},i(),n.Visitor=v,t.exports=v}).call(this,"undefined"!=typeof window&&"undefined"!=typeof global&&window.global===global?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./child/ChildVisitor":2,"./child/Message":3,"./child/makeChildMessageListener":4,"./units/crossDomain":8,"./units/makeCorsRequest":9,"./units/makeDestinationPublishing":10,"./units/version":11,"./utils/asyncParallelApply":12,"./utils/constants":14,"./utils/enums":15,"./utils/getDomain":16,"./utils/utils":18,"@adobe-mcid/visitor-js-shared/lib/ids/generateRandomID":19}],2:[function(e,t){(function(n){e("../utils/polyfills");var i=e("./strategies/LocalVisitor"),r=e("./strategies/ProxyVisitor"),a=e("./strategies/PlaceholderVisitor"),o=e("../utils/callbackRegistryFactory"),c=e("./Message"),s=e("../utils/enums").MESSAGES;t.exports=function(e,t,l,d){function u(e){Object.assign(L,e)}function p(e){Object.assign(L.state,e),L.callbackRegistry.executeAll(L.state)}function m(e){if(!k.isInvalid(e)){E=!1;var t=k.parse(e);L.setStateAndPublish(t.state)}}function f(e){!E&&b&&(E=!0,k.send(d,e))}function h(){var e=!0;u(new i(l._generateID)),L.getMarketingCloudVisitorID(),L.callbackRegistry.executeAll(L.state,e),n.removeEventListener("message",g)}function g(e){if(!k.isInvalid(e)){var t=k.parse(e);E=!1,n.clearTimeout(this.timeout),n.removeEventListener("message",g),u(new r(L)),n.addEventListener("message",m),L.setStateAndPublish(t.state),L.callbackRegistry.hasCallbacks()&&f(s.GETSTATE)}}function v(){var e=250;b&&postMessage?(n.addEventListener("message",g),f(s.HANDSHAKE),this.timeout=setTimeout(h,e)):h()}function S(){n.s_c_in||(n.s_c_il=[],n.s_c_in=0),L._c="Visitor",L._il=n.s_c_il,L._in=n.s_c_in,L._il[L._in]=L,n.s_c_in++}function y(){function e(e){0!==e.indexOf("_")&&"function"==typeof l[e]&&(L[e]=function(){})}Object.keys(l).forEach(e),L.getSupplementalDataID=l.getSupplementalDataID}var L=this,b=t.whitelistParentDomain;L.state={},L.version=l.version,L.marketingCloudOrgID=e;var E=!1,k=new c(e,b);L.callbackRegistry=o(),L.init=function(){S(),y(),u(new a(L)),v()},L.findField=function(e,t){if(L.state[e])return t(L.state[e]),L.state[e]},L.messageParent=f,L.setStateAndPublish=p}}).call(this,"undefined"!=typeof window&&"undefined"!=typeof global&&window.global===global?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/callbackRegistryFactory":13,"../utils/enums":15,"../utils/polyfills":17,"./Message":3,"./strategies/LocalVisitor":5,"./strategies/PlaceholderVisitor":6,"./strategies/ProxyVisitor":7}],3:[function(e,t){var n=e("../utils/enums").MESSAGES,i={0:"prefix",1:"orgID",2:"state"};t.exports=function(e,t){this.parse=function(e){try{var t={};return e.data.split("|").forEach(function(e,n){if(void 0!==e){var r=i[n];t[r]=2!==n?e:JSON.parse(e)}}),t}catch(e){}},this.isInvalid=function(i){var r=this.parse(i);if(!r||Object.keys(r).length<2)return!0;var a=e!==r.orgID,o=!t||i.origin!==t,c=-1===Object.keys(n).indexOf(r.prefix);return a||o||c},this.send=function(n,i,r){var a=i+"|"+e;r&&r===Object(r)&&(a+="|"+JSON.stringify(r));try{n.postMessage(a,t)}catch(e){}}}},{"../utils/enums":15}],4:[function(e,t){var n=e("../utils/enums"),i=e("../utils/utils"),r=n.MESSAGES,a=n.ALL_APIS,o=n.ASYNC_API_MAP,c=n.FIELDGROUP_TO_FIELD;t.exports=function(e,t){function n(){var t={};return Object.keys(a).forEach(function(n){var r=a[n],o=e[r]();i.isValueEmpty(o)||(t[n]=o)}),t}function s(){var t=[];return e._loading&&Object.keys(e._loading).forEach(function(n){if(e._loading[n]){var i=c[n];t.push(i)}}),t.length?t:null}function l(t){return function n(){var i=s();if(i){var r=o[i[0]];e[r](n,!0)}else t()}}function d(e,i){var r=n();t.send(e,i,r)}function u(e){m(e),d(e,r.HANDSHAKE)}function p(e){l(function(){d(e,r.PARENTSTATE)})()}function m(n){function i(i){a.call(e,i),t.send(n,r.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var a=e.setCustomerIDs;e.setCustomerIDs=i}return function(e){t.isInvalid(e)||(t.parse(e).prefix===r.HANDSHAKE?u:p)(e.source)}}},{"../utils/enums":15,"../utils/utils":18}],5:[function(e,t){var n=e("../../utils/enums").STATE_KEYS_MAP;t.exports=function(e){function t(){}function i(t,i){var r=this;return function(){var t=e(0,n.MCMID),a={};return a[n.MCMID]=t,r.setStateAndPublish(a),i(t),t}}this.getMarketingCloudVisitorID=function(e){e=e||t;var r=this.findField(n.MCMID,e),a=i.call(this,n.MCMID,e);return void 0!==r?r:a()}}},{"../../utils/enums":15}],6:[function(e,t){var n=e("../../utils/enums").ASYNC_API_MAP;t.exports=function(){Object.keys(n).forEach(function(e){this[n[e]]=function(t){this.callbackRegistry.add(e,t)}},this)}},{"../../utils/enums":15}],7:[function(e,t){var n=e("../../utils/enums"),i=n.MESSAGES,r=n.ASYNC_API_MAP,a=n.SYNC_API_MAP;t.exports=function(){function e(){}function t(e,t){var n=this;return function(){return n.callbackRegistry.add(e,t),n.messageParent(i.GETSTATE),""}}function n(n){this[r[n]]=function(i){i=i||e;var r=this.findField(n,i),a=t.call(this,n,i);return void 0!==r?r:a()}}function o(t){this[a[t]]=function(){return this.findField(t,e)||{}}}Object.keys(r).forEach(n,this),Object.keys(a).forEach(o,this)}},{"../../utils/enums":15}],8:[function(e,t){(function(e){var n=!!e.postMessage;t.exports={postMessage:function(e,t,i){var r=1;t&&(n?i.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(i.location=t.replace(/#.*$/,"")+"#"+ +new Date+r+++"&"+e))},receiveMessage:function(t,i){var r;try{n&&(t&&(r=function(e){return!("string"==typeof i&&e.origin!==i||"[object Function]"===Object.prototype.toString.call(i)&&!1===i(e.origin))&&void t(e)}),e.addEventListener?e[t?"addEventListener":"removeEventListener"]("message",r):e[t?"attachEvent":"detachEvent"]("onmessage",r))}catch(e){}}}}).call(this,"undefined"!=typeof window&&"undefined"!=typeof global&&window.global===global?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t){(function(e){t.exports=function(t){return{corsMetadata:(n="none",i=!0,"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?n="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(i=!1),Object.prototype.toString.call(e.HTMLElement).indexOf("Constructor")>0&&(i=!1)),{corsType:n,corsCookiesEnabled:i}),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new e[this.corsMetadata.corsType]},fireCORS:function(n,i){function r(t){var i;try{if((i=JSON.parse(t))!==Object(i))return void a.handleCORSError(n,null,"Response is not JSON")}catch(e){return void a.handleCORSError(n,e,"Error parsing response as JSON")}try{for(var r=n.callback,o=e,c=0;c<r.length;c++)o=o[r[c]];o(i)}catch(e){a.handleCORSError(n,e,"Error forming callback function")}}var a=this;i&&(n.loadErrorHandler=i);try{var o=this.getCORSInstance();o.open("get",n.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(o.withCredentials=!0,o.timeout=t.loadTimeout,o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){4===this.readyState&&200===this.status&&r(this.responseText)}),o.onerror=function(e){a.handleCORSError(n,e,"onerror")},o.ontimeout=function(e){a.handleCORSError(n,e,"ontimeout")},o.send(),t._log.requests.push(n.corsUrl)}catch(e){this.handleCORSError(n,e,"try-catch")}},handleCORSError:function(e,n,i){t.CORSErrors.push({corsData:e,error:n,description:i}),e.loadErrorHandler&&("ontimeout"===i?e.loadErrorHandler(!0):e.loadErrorHandler(!1))}};var n,i}}).call(this,"undefined"!=typeof window&&"undefined"!=typeof global&&window.global===global?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(e,t){(function(n){var i=e("../utils/constants"),r=e("./crossDomain"),a=e("../utils/utils"),o="MCSYNCSOP",c="MCSYNCS",s="MCAAMLH";t.exports=function(e,t){var l=n.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,n="http://fast.",i="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(l.location.href);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(n=e.idSyncSSLUseAkamai?"https://fast.":"https://"),t=n+this.subdomain+".demdex.net/dest5.html"+i,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(l.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:i.POST_MESSAGE_ENABLED?null:100,jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,
readyToAttachIframe:function(){return!e.idSyncDisable3rdPartySyncing&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(i=l.createElement("iframe")).sandbox="allow-scripts allow-same-origin",i.title="Adobe ID Syncing iFrame",i.id=n.id,i.name=n.id+"_name",i.style.cssText="display: none; width: 0; height: 0;",i.src=n.url,n.newIframeCreated=!0,t(),l.body.appendChild(i)}function t(){i.addEventListener("load",function(){i.className="aamIframeLoaded",n.iframeHasLoaded=!0,n.requestToProcess()})}this.startedAttachingIframe=!0;var n=this,i=l.getElementById(this.id);i?"IFRAME"!==i.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==i.className?(this.originalIframeHasLoadedAlready=!1,t()):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=i,this.requestToProcess())):e(),this.iframe=i},requestToProcess:function(t){function n(){a.jsonForComparison.push(t),a.jsonWaiting.push(t),a.processSyncOnPage(t)}var r,a=this;if(t===Object(t)&&t.ibs)if(r=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var o,c,s,l=!1;for(o=0,c=this.jsonForComparison.length;o<c;o++)if(s=this.jsonForComparison[o],r===JSON.stringify(s.ibs||[])){l=!0;break}l?this.jsonDuplicates.push(t):n()}else n();if((this.receivedThirdPartyCookiesNotification||!i.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var d=this.jsonWaiting.shift();this.process(d),this.requestToProcess()}!e.idSyncDisableSyncs&&this.iframeHasLoaded&&this.messages.length&&!this.sendingMessages&&(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){a.messageSendingInterval=i.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,n){var i=e._getField(s),r=t.d_region||t.dcs_region;return i?r&&(e._setFieldExpire(s,n),e._setField(s,r),parseInt(i,10)!==r&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField(o,""),e._setField(c,""),i=r)):(i=r)&&(e._setFieldExpire(s,n),e._setField(s,i)),i||(i=""),i},processSyncOnPage:function(e){var t,n,i,r;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(i=0;i<n;i++)(r=t[i]).syncOnPage&&this.checkFirstPartyCookie(r,"","syncOnPage")},process:function(e){var t,n,i,r,o,c=encodeURIComponent,s="",l=!1;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(l=!0,i=0;i<n;i++)r=t[i],o=[c("ibs"),c(r.id||""),c(r.tag||""),a.encodeAndBuildRequest(r.url||[],","),c(r.ttl||""),"",s,r.fireURLSync?"true":"false"],r.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(o.join("|")):r.fireURLSync&&this.checkFirstPartyCookie(r,o.join("|")));l&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,n,r){var a="syncOnPage"===r,s=a?o:c;e._readVisitor();var l,d,u=e._getField(s),p=!1,m=!1,f=Math.ceil((new Date).getTime()/i.MILLIS_PER_DAY);u?(l=u.split("*"),p=(d=this.pruneSyncData(l,t.id,f)).dataPresent,m=d.dataValid,p&&m||this.fireSync(a,t,n,l,s,f)):(l=[],this.fireSync(a,t,n,l,s,f))},pruneSyncData:function(e,t,n){var i,r,a,o=!1,c=!1;for(r=0;r<e.length;r++)i=e[r],a=parseInt(i.split("-")[1],10),i.match("^"+t+"-")?(o=!0,n<a?c=!0:(e.splice(r,1),r--)):n>=a&&(e.splice(r,1),r--);return{dataPresent:o,dataValid:c}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,n,i,r,a,o){var c=this;if(t){if("img"===n.tag){var s,l,d,u,p=n.url,m=e.loadSSL?"https:":"http:";for(s=0,l=p.length;s<l;s++){d=p[s],u=/^\/\//.test(d);var f=new Image;f.addEventListener("load",function(t,n,i,r){return function(){c.onPagePixels[t]=null,e._readVisitor();var o,s,l,d,u=e._getField(a),p=[];if(u)for(s=0,l=(o=u.split("*")).length;s<l;s++)(d=o[s]).match("^"+n.id+"-")||p.push(d);c.setSyncTrackingData(p,n,i,r)}}(this.onPagePixels.length,n,a,o)),f.src=(u?m:"")+d,this.onPagePixels.push(f)}}}else this.addMessage(i),this.setSyncTrackingData(r,n,a,o)},addMessage:function(t){var n=encodeURIComponent(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((i.POST_MESSAGE_ENABLED?"":n)+t)},setSyncTrackingData:function(t,n,i,r){t.push(n.id+"-"+(r+Math.ceil(n.ttl/60/24))),this.manageSyncsSize(t),e._setField(i,t.join("*"))},sendMessages:function(){var e,t=this,n="",r=encodeURIComponent;this.regionChanged&&(n=r("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?i.POST_MESSAGE_ENABLED?(e=n+r("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(n+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){r.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,n=/^---destpub-to-parent---/;"string"==typeof e&&n.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(n,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(n){(null==this.url||n.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=n.subdomain||"",this.url=this.getUrl()),n.ibs instanceof Array&&n.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===l.readyState||"loaded"===l.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(n):this.requestToProcess(n),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(n)},canMakeSyncIDCall:function(t,n){return e._forceSyncIDCall||!t||n-t>i.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(l.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}}}).call(this,"undefined"!=typeof window&&"undefined"!=typeof global&&window.global===global?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/constants":14,"../utils/utils":18,"./crossDomain":8}],11:[function(e,t){function n(e){for(var t=/^\d+$/,n=0,i=e.length;n<i;n++)if(!t.test(e[n]))return!1;return!0}function i(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function r(e,t){for(var n=0;n<e.length;n++){var i=parseInt(e[n],10),r=parseInt(t[n],10);if(i>r)return 1;if(r>i)return-1}return 0}function a(e,t){if(e===t)return 0;var a=e.toString().split("."),o=t.toString().split(".");return n(a.concat(o))?(i(a,o),r(a,o)):NaN}t.exports={compare:a,isLessThan:function(e,t){return a(e,t)<0},areVersionsDifferent:function(e,t){return 0!==a(e,t)},isGreaterThan:function(e,t){return a(e,t)>0},isEqual:function(e,t){return 0===a(e,t)}}},{}],12:[function(e,t){t.exports=function(e,t){function n(e){return function(n){i[e]=n,++r===a&&t(i)}}var i={},r=0,a=Object.keys(e).length;Object.keys(e).forEach(function(t){var i=e[t];if(i.fn){var r=i.args||[];r.unshift(n(t)),i.fn.apply(i.context||null,r)}})}},{}],13:[function(e,t){function n(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var n=this.callbacks[e].push(t)-1;return function(){this.callbacks[e].splice(n,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var n=this.callbacks[e].shift();"function"==typeof n?n.apply(null,t):n instanceof Array&&n[1].apply(n[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!i.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach(function(t){var n=void 0!==e[t]?e[t]:"";this.execute(t,n)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}var i=e("./utils");t.exports=n},{"./utils":18}],14:[function(e,t){(function(e){t.exports={POST_MESSAGE_ENABLED:!!e.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/}}).call(this,"undefined"!=typeof window&&"undefined"!=typeof global&&window.global===global?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t,n){n.MESSAGES={HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},n.STATE_KEYS_MAP={MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},n.ASYNC_API_MAP={MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"getOptOut"},n.SYNC_API_MAP={CUSTOMERIDS:"getCustomerIDs"},n.ALL_APIS={MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"getOptOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs"},n.FIELDGROUP_TO_FIELD={MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},n.FIELDS={MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},n.AUTH_STATE={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},n.OPT_OUT={GLOBAL:"global"}},{}],16:[function(e,t){(function(e){t.exports=function(t){var n;if(!t&&e.location&&(t=e.location.hostname),n=t)if(/^[0-9.]+$/.test(n))n="";else{var i=",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,",r=n.split("."),a=r.length-1,o=a-1;if(a>1&&r[a].length<=2&&(2===r[a-1].length||i.indexOf(","+r[a]+",")<0)&&o--,o>0)for(n="";a>=o;)n=r[a]+(n?".":"")+n,a--}return n}}).call(this,"undefined"!=typeof window&&"undefined"!=typeof global&&window.global===global?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(){Object.assign=Object.assign||function(e){for(var t,n,i=1;i<arguments.length;++i)for(t in n=arguments[i])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e}},{}],18:[function(e,t,n){n.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},n.isValueEmpty=function(e){return""===e||n.isObjectEmpty(e)},n.getIeVersion=function(){if(document.documentMode)return document.documentMode;for(var e=7;e>4;e--){var t=document.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e;t=null}return null},n.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)}},{}],19:[function(e,t){t.exports=function(e){var t,n,i="0123456789",r="",a="",o=8,c=10,s=10;if(1==e){for(i+="ABCDEF",t=0;16>t;t++)n=Math.floor(Math.random()*o),r+=i.substring(n,n+1),n=Math.floor(Math.random()*o),a+=i.substring(n,n+1),o=16;return r+"-"+a}for(t=0;19>t;t++)n=Math.floor(Math.random()*c),r+=i.substring(n,n+1),0===t&&9==n?c=3:(1==t||2==t)&&10!=c&&2>n?c=10:2<t&&(c=10),n=Math.floor(Math.random()*s),a+=i.substring(n,n+1),0===t&&9==n?s=3:(1==t||2==t)&&10!=s&&2>n?s=10:2<t&&(s=10);return r+a}},{}]},{},[1]),
// All code and conventions are protected by copyright
function(window,document,undefined){function assert(e,t){if(!e)throw new Error(t||"Assertion Failure")}function OrientationChangeEventEmitter(){SL.addEventHandler(window,"orientationchange",OrientationChangeEventEmitter.orientationChange)}function InViewEventEmitter(e){e=e||SL.rules,this.rules=SL.filter(e,function(e){return"inview"===e.event}),this.elements=[],this.eventHandler=SL.bind(this.track,this),SL.addEventHandler(window,"scroll",this.eventHandler),SL.addEventHandler(window,"load",this.eventHandler)}function VideoPlayedEventEmitter(){this.rules=SL.filter(SL.rules,function(e){return"videoplayed"===e.event.substring(0,11)}),this.eventHandler=SL.bind(this.onUpdateTime,this)}function LeaveEventEmitter(){SL.getToolsByType("nielsen").length>0&&SL.domReady(SL.bind(this.initialize,this))}function FacebookEventEmitter(e){this.delay=250,this.FB=e,SL.domReady(SL.bind(function(){SL.poll(SL.bind(this.initialize,this),this.delay,8)},this))}function VisibilityEventEmitter(){this.defineEvents(),this.visibilityApiHasPriority=!0,document.addEventListener?this.setVisibilityApiPriority(!1):this.attachDetachOlderEventListeners(!0,document,"focusout");SL.bindEvent("aftertoolinit",function(){SL.fireEvent(SL.visibility.isHidden()?"tabblur":"tabfocus")})}function LocationChangeEventEmitter(){this.lastURL=SL.URL(),this._fireIfURIChanged=SL.bind(this.fireIfURIChanged,this),this._onPopState=SL.bind(this.onPopState,this),this._onHashChange=SL.bind(this.onHashChange,this),this._pushState=SL.bind(this.pushState,this),this._replaceState=SL.bind(this.replaceState,this),this.initialize()}function DataElementChangeEmitter(){var e=SL.filter(SL.rules,function(e){return 0===e.event.indexOf("dataelementchange")});this.dataElementsNames=SL.map(e,function(e){return e.event.match(/dataelementchange\((.*)\)/i)[1]},this),this.initPolling()}function ElementExistsEventEmitter(){this.rules=SL.filter(SL.rules,function(e){return"elementexists"===e.event})}function HoverEventEmitter(){var e=this.eventRegex=/^hover\(([0-9]+)\)$/,t=this.rules=[];SL.each(SL.rules,function(n){n.event.match(e)&&t.push([Number(n.event.match(e)[1]),n.selector])})}function TwitterEventEmitter(e){SL.domReady(SL.bind(function(){this.twttr=e||window.twttr,this.initialize()},this))}function Tnt(e){SL.BaseTool.call(this,e),this.styleElements={},this.targetPageParamsStore={}}function NielsenTool(e){SL.BaseTool.call(this,e),this.defineListeners(),this.beaconMethod="plainBeacon",this.adapt=new NielsenTool.DataAdapters,this.dataProvider=new NielsenTool.DataProvider.Aggregate}function SiteCatalystTool(e){SL.BaseTool.call(this,e),this.varBindings={},this.events=[],this.products=[],this.customSetupFuns=[]}function DefaultTool(){SL.BaseTool.call(this),this.asyncScriptCallbackQueue=[],this.argsForBlockingScripts=[]}function BasicTool(e){SL.BaseTool.call(this,e),this.name=e.name||"Basic"}function VisitorIdTool(e){SL.BaseTool.call(this,e),this.name=e.name||"VisitorID",this.initialize()}function GAUniversalTool(e){SL.BaseTool.call(this,e)}function GATool(e){SL.BaseTool.call(this,e)}var ToString=Object.prototype.toString,Overrides=window._satellite&&window._satellite.override,SL={initialized:!1,$data:function(e,t,n){if(e){var i="__satellite__",r=SL.dataCache,a=e[i];a||(a=e[i]=SL.uuid++);var o=r[a];if(o||(o=r[a]={}),n===undefined)return o[t];o[t]=n}},uuid:1,dataCache:{},keys:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},values:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},isArray:Array.isArray||function(e){return"[object Array]"===ToString.apply(e)},isObject:function(e){return null!=e&&!SL.isArray(e)&&"object"==typeof e},isString:function(e){return"string"==typeof e},isNumber:function(e){return"[object Number]"===ToString.apply(e)&&!SL.isNaN(e)},isNaN:function(e){return e!=e},isRegex:function(e){return e instanceof RegExp},isLinkTag:function(e){return!(!e||!e.nodeName||"a"!==e.nodeName.toLowerCase())},each:function(e,t,n){for(var i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e)},map:function(e,t,n){for(var i=[],r=0,a=e.length;r<a;r++)i.push(t.call(n,e[r],r,e));return i},filter:function(e,t,n){for(var i=[],r=0,a=e.length;r<a;r++){var o=e[r];t.call(n,o,r,e)&&i.push(o)}return i},any:function(e,t,n){for(var i=0,r=e.length;i<r;i++){var a=e[i];if(t.call(n,a,i,e))return!0}return!1},every:function(e,t,n){for(var i=!0,r=0,a=e.length;r<a;r++){var o=e[r];i=i&&t.call(n,o,r,e)}return i},contains:function(e,t){return-1!==SL.indexOf(e,t)},indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=e.length;n--;)if(t===e[n])return n;return-1},find:function(e,t,n){if(!e)return null;for(var i=0,r=e.length;i<r;i++){var a=e[i];if(t.call(n,a,i,e))return a}return null},textMatch:function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))},stringify:function(e,t){if(t=t||[],SL.isObject(e)){if(SL.contains(t,e))return"<Cycle>";t.push(e)}if(SL.isArray(e))return"["+SL.map(e,function(e){return SL.stringify(e,t)}).join(",")+"]";if(SL.isString(e))return'"'+String(e)+'"';if(SL.isObject(e)){var n=[];for(var i in e)e.hasOwnProperty(i)&&n.push(i+": "+SL.stringify(e[i],t));return"{"+n.join(", ")+"}"}return String(e)},trim:function(e){return null==e?null:e.trim?e.trim():e.replace(/^ */,"").replace(/ *$/,"")},bind:function(e,t){return function(){return e.apply(t,arguments)}},throttle:function(e,t){var n=null;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(i,r)},t)}},domReady:function(t){function n(e){for(p=1;e=r.shift();)e()}var i,r=[],a=!1,o=document,c=o.documentElement,s=c.doScroll,l="DOMContentLoaded",d="addEventListener",u="onreadystatechange",p=/^loade|^c/.test(o.readyState);return o[d]&&o[d](l,i=function(){o.removeEventListener(l,i,a),n()},a),s&&o.attachEvent(u,i=function(){/^c/.test(o.readyState)&&(o.detachEvent(u,i),n())}),t=s?function(n){self!=top?p?n():r.push(n):function(){try{c.doScroll("left")}catch(e){return setTimeout(function(){t(n)},50)}n()}()}:function(e){p?e():r.push(e)}}(),loadScript:function(e,t){var n=document.createElement("script");SL.scriptOnLoad(e,n,t),n.src=e,document.getElementsByTagName("head")[0].appendChild(n)},scriptOnLoad:function(e,t,n){function i(e){e&&SL.logError(e),n&&n(e)}"onload"in t?(t.onload=function(){i()},t.onerror=function(){i(new Error("Failed to load script "+e))}):"readyState"in t&&(t.onreadystatechange=function(){var e=t.readyState;"loaded"!==e&&"complete"!==e||(t.onreadystatechange=null,i())})},loadScriptOnce:function(e,t){SL.loadedScriptRegistry[e]||SL.loadScript(e,function(n){n||(SL.loadedScriptRegistry[e]=!0),t&&t(n)})},loadedScriptRegistry:{},loadScriptSync:function(e){document.write?SL.domReadyFired?SL.notify('Cannot load sync the "'+e+'" script after DOM Ready.',1):(e.indexOf('"')>-1&&(e=encodeURI(e)),document.write('<script src="'+e+'"></script>')):SL.notify('Cannot load sync the "'+e+'" script because "document.write" is not available',1)},pushAsyncScript:function(e){SL.tools["default"].pushAsyncScript(e)},pushBlockingScript:function(e){SL.tools["default"].pushBlockingScript(e)},addEventHandler:window.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},removeEventHandler:window.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},preventDefault:window.addEventListener?function(e){e.preventDefault()}:function(e){e.returnValue=!1},stopPropagation:function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},containsElement:function(e,t){return e.contains?e.contains(t):!!(16&e.compareDocumentPosition(t))},matchesCss:function(t){function n(e,t){var n=t.tagName;return!!n&&e.toLowerCase()===n.toLowerCase()}var i=t.matchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||t.msMatchesSelector;return i?function(t,n){if(n===document||n===window)return!1;try{return i.call(n,t)}catch(e){return!1}}:t.querySelectorAll?function(t,i){if(!i.parentNode)return!1;if(t.match(/^[a-z]+$/i))return n(t,i);try{for(var r=i.parentNode.querySelectorAll(t),a=r.length;a--;)if(r[a]===i)return!0}catch(e){}return!1}:function(t,i){if(t.match(/^[a-z]+$/i))return n(t,i);try{return SL.Sizzle.matches(t,[i]).length>0}catch(e){return!1}}}(document.documentElement),cssQuery:(Kq=document,Kq.querySelectorAll?function(t,n){var i;try{i=Kq.querySelectorAll(t)}catch(e){i=[]}n(i)}:function(t,n){if(SL.Sizzle){var i;try{i=SL.Sizzle(t)}catch(e){i=[]}n(i)}else SL.sizzleQueue.push([t,n])}),hasAttr:function(e,t){return e.hasAttribute?e.hasAttribute(t):e[t]!==undefined},inherit:function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},toArray:function(){try{var t=Array.prototype.slice;return t.call(document.documentElement.childNodes,0)[0].nodeType,function(e){return t.call(e,0)}}catch(e){return function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]);return t}}}(),equalsIgnoreCase:function(e,t){return null==e?null==t:null!=t&&String(e).toLowerCase()===String(t).toLowerCase()},poll:function(e,t,n){function i(){SL.isNumber(n)&&r++>=n||e()||setTimeout(i,t)}var r=0;t=t||1e3,i()},escapeForHtml:function(e){return e?String(e).replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#x27;").replace(/\//g,"&#x2F;"):e}},Kq,jv,kv;SL.availableTools={},SL.availableEventEmitters=[],SL.fireOnceEvents=["condition","elementexists"],SL.initEventEmitters=function(){SL.eventEmitters=SL.map(SL.availableEventEmitters,function(e){return new e})},SL.eventEmitterBackgroundTasks=function(){SL.each(SL.eventEmitters,function(e){"backgroundTasks"in e&&e.backgroundTasks()})},SL.initTools=function(e){var t={"default":new DefaultTool},n=SL.settings.euCookieName||"sat_track";for(var i in e)if(e.hasOwnProperty(i)){var r,a,o;if((r=e[i]).euCookie)if("true"!==SL.readCookie(n))continue;if(!(a=SL.availableTools[r.engine])){var c=[];for(var s in SL.availableTools)SL.availableTools.hasOwnProperty(s)&&c.push(s);throw new Error("No tool engine named "+r.engine+", available: "+c.join(",")+".")}(o=new a(r)).id=i,t[i]=o}return t},SL.preprocessArguments=function(e,t,n,i,r){function a(e){return i&&SL.isString(e)?e.toLowerCase():e}function o(e){var s={};for(var l in e)if(e.hasOwnProperty(l)){var d=e[l];SL.isObject(d)?s[l]=o(d):SL.isArray(d)?s[l]=c(d,i):s[l]=a(SL.replace(d,t,n,r))}return s}function c(e){for(var i=[],r=0,c=e.length;r<c;r++){var s=e[r];SL.isString(s)?s=a(SL.replace(s,t,n)):s&&s.constructor===Object&&(s=o(s)),i.push(s)}return i}return e?c(e,i):e},SL.execute=function(t,n,i,r){function a(a){var o=r[a||"default"];if(o)try{o.triggerCommand(t,n,i)}catch(e){SL.logError(e)}}if(!_satellite.settings.hideActivity)if(r=r||SL.tools,t.engine){var o=t.engine;for(var c in r)if(r.hasOwnProperty(c)){var s=r[c];s.settings&&s.settings.engine===o&&a(c)}}else t.tool instanceof Array?SL.each(t.tool,function(e){a(e)}):a(t.tool)},SL.Logger={outputEnabled:!1,messages:[],keepLimit:100,flushed:!1,LEVELS:[null,null,"log","info","warn","error"],message:function(e,t){var n=this.LEVELS[t]||"log";this.messages.push([n,e]),this.messages.length>this.keepLimit&&this.messages.shift(),this.outputEnabled&&this.echo(n,e)},getHistory:function(){return this.messages},clearHistory:function(){this.messages=[]},setOutputState:function(e){this.outputEnabled!=e&&(this.outputEnabled=e,e?this.flush():this.flushed=!1)},echo:function(e,t){window.console&&window.console[e]("SATELLITE: "+t)},flush:function(){this.flushed||(SL.each(this.messages,function(e){!0!==e[2]&&(this.echo(e[0],e[1]),e[2]=!0)},this),this.flushed=!0)}},SL.notify=SL.bind(SL.Logger.message,SL.Logger),SL.cleanText=function(e){return null==e?null:SL.trim(e).replace(/\s+/g," ")},SL.cleanText.legacy=function(e){return null==e?null:SL.trim(e).replace(/\s{2,}/g," ").replace(/[^\000-\177]*/g,"")},SL.text=function(e){return e.textContent||e.innerText},SL.specialProperties={text:SL.text,cleanText:function(e){return SL.cleanText(SL.text(e))}},SL.getObjectProperty=function(e,t,n){for(var i,r=t.split("."),a=e,o=SL.specialProperties,c=0,s=r.length;c<s;c++){if(null==a)return undefined;var l=r[c];if(n&&"@"===l.charAt(0))a=o[l.slice(1)](a);else if(a.getAttribute&&(i=l.match(/^getAttribute\((.+)\)$/))){var d=i[1];a=a.getAttribute(d)}else a=a[l]}return a},SL.getToolsByType=function(e){if(!e)throw new Error("Tool type is missing");var t=[];for(var n in SL.tools)if(SL.tools.hasOwnProperty(n)){var i=SL.tools[n];i.settings&&i.settings.engine===e&&t.push(i)}return t},SL.setVar=function(){var e=SL.data.customVars;if(null==e&&(SL.data.customVars={},e=SL.data.customVars),"string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}},SL.dataElementSafe=function(e,t){if(arguments.length>2){var n=arguments[2];"pageview"===t?SL.dataElementSafe.pageviewCache[e]=n:"session"===t?SL.setCookie("_sdsat_"+e,n):"visitor"===t&&SL.setCookie("_sdsat_"+e,n,730)}else{if("pageview"===t)return SL.dataElementSafe.pageviewCache[e];if("session"===t||"visitor"===t)return SL.readCookie("_sdsat_"+e)}},SL.dataElementSafe.pageviewCache={},SL.realGetDataElement=function(e){var t;return e.selector?SL.hasSelector&&SL.cssQuery(e.selector,function(n){if(n.length>0){var i=n[0];"text"===e.property?t=i.innerText||i.textContent:e.property in i?t=i[e.property]:SL.hasAttr(i,e.property)&&(t=i.getAttribute(e.property))}}):e.queryParam?t=e.ignoreCase?SL.getQueryParamCaseInsensitive(e.queryParam):SL.getQueryParam(e.queryParam):e.cookie?t=SL.readCookie(e.cookie):e.jsVariable?t=SL.getObjectProperty(window,e.jsVariable):e.customJS?t=e.customJS():e.contextHub&&(t=e.contextHub()),SL.isString(t)&&e.cleanText&&(t=SL.cleanText(t)),t},SL.getDataElement=function(e,t,n){if(null==(n=n||SL.dataElements[e]))return SL.settings.undefinedVarsReturnEmpty?"":null;var i=SL.realGetDataElement(n);return i===undefined&&n.storeLength?i=SL.dataElementSafe(e,n.storeLength):i!==undefined&&n.storeLength&&SL.dataElementSafe(e,n.storeLength,i),i||t||(i=n["default"]||""),SL.isString(i)&&n.forceLowerCase&&(i=i.toLowerCase()),i},SL.getVar=function(e,t,n){var i,r,a=SL.data.customVars,o=n?n.target||n.srcElement:null,c={uri:SL.URI(),protocol:document.location.protocol,hostname:document.location.hostname};if(SL.dataElements&&e in SL.dataElements)return SL.getDataElement(e);if((r=c[e.toLowerCase()])===undefined)if("this."===e.substring(0,5))e=e.slice(5),r=SL.getObjectProperty(t,e,!0);else if("event."===e.substring(0,6))e=e.slice(6),r=SL.getObjectProperty(n,e);else if("target."===e.substring(0,7))e=e.slice(7),r=SL.getObjectProperty(o,e);else if("window."===e.substring(0,7))e=e.slice(7),r=SL.getObjectProperty(window,e);else if("param."===e.substring(0,6))e=e.slice(6),r=SL.getQueryParam(e);else if(i=e.match(/^rand([0-9]+)$/)){var s=Number(i[1]),l=(Math.random()*(Math.pow(10,s)-1)).toFixed(0);r=Array(s-l.length+1).join("0")+l}else r=SL.getObjectProperty(a,e);return r},SL.getVars=function(e,t,n){var i={};return SL.each(e,function(e){i[e]=SL.getVar(e,t,n)}),i},SL.replace=function(e,t,n,i){return"string"!=typeof e?e:e.replace(/%(.*?)%/g,function(e,r){var a=SL.getVar(r,t,n);return null==a?SL.settings.undefinedVarsReturnEmpty?"":e:i?SL.escapeForHtml(a):a})},SL.escapeHtmlParams=function(e){return e.escapeHtml=!0,e},SL.searchVariables=function(e,t,n){if(!e||0===e.length)return"";for(var i=[],r=0,a=e.length;r<a;r++){var o=e[r],c=SL.getVar(o,t,n);i.push(o+"="+escape(c))}return"?"+i.join("&")},SL.fireRule=function(e,t,n){var i=e.trigger;if(i){for(var r=0,a=i.length;r<a;r++){var o=i[r];SL.execute(o,t,n)}SL.contains(SL.fireOnceEvents,e.event)&&(e.expired=!0)}},SL.isLinked=function(e){for(var t=e;t;t=t.parentNode)if(SL.isLinkTag(t))return!0;return!1},SL.firePageLoadEvent=function(e){for(var t=document.location,n={type:e,target:t},i=SL.pageLoadRules,r=SL.evtHandlers[n.type],a=i.length;a--;){var o=i[a];SL.ruleMatches(o,n,t)&&(SL.notify('Rule "'+o.name+'" fired.',1),SL.fireRule(o,t,n))}for(var c in SL.tools)if(SL.tools.hasOwnProperty(c)){var s=SL.tools[c];s.endPLPhase&&s.endPLPhase(e)}r&&SL.each(r,function(e){e(n)})},SL.track=function(e){e=e.replace(/^\s*/,"").replace(/\s*$/,"");for(var t=0;t<SL.directCallRules.length;t++){var n=SL.directCallRules[t];if(n.name===e)return SL.notify('Direct call Rule "'+e+'" fired.',1),void SL.fireRule(n,location,{type:e})}SL.notify('Direct call Rule "'+e+'" not found.',1)},SL.basePath=function(){return SL.data.host?("https:"===document.location.protocol?"https://"+SL.data.host.https:"http://"+SL.data.host.http)+"/":this.settings.basePath},SL.setLocation=function(e){window.location=e},SL.parseQueryParams=function(e){var t=function(e){var t=e;try{t=decodeURIComponent(e)}catch(n){}return t};if(""===e||!1===SL.isString(e))return{};0===e.indexOf("?")&&(e=e.substring(1));var n={},i=e.split("&");return SL.each(i,function(e){(e=e.split("="))[1]&&(n[t(e[0])]=t(e[1]))}),n},SL.getCaseSensitivityQueryParamsMap=function(e){var t=SL.parseQueryParams(e),n={};for(var i in t)t.hasOwnProperty(i)&&(n[i.toLowerCase()]=t[i]);return{normal:t,caseInsensitive:n}},SL.updateQueryParams=function(){SL.QueryParams=SL.getCaseSensitivityQueryParamsMap(window.location.search)},SL.updateQueryParams(),SL.getQueryParam=function(e){return SL.QueryParams.normal[e]},SL.getQueryParamCaseInsensitive=function(e){return SL.QueryParams.caseInsensitive[e.toLowerCase()]},SL.encodeObjectToURI=function(e){if(!1===SL.isObject(e))return"";var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},SL.readCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return undefined},SL.setCookie=function(e,t,n){var i;if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),i="; expires="+r.toGMTString()}else i="";document.cookie=e+"="+t+i+"; path=/"},SL.removeCookie=function(e){SL.setCookie(e,"",-1)},SL.getElementProperty=function(e,t){if("@"===t.charAt(0)){var n=SL.specialProperties[t.substring(1)];if(n)return n(e)}return"innerText"===t?SL.text(e):t in e?e[t]:e.getAttribute?e.getAttribute(t):undefined},SL.propertiesMatch=function(e,t){if(e)for(var n in e)if(e.hasOwnProperty(n)){var i=e[n],r=SL.getElementProperty(t,n);if("string"==typeof i&&i!==r)return!1;if(i instanceof RegExp&&!i.test(r))return!1}return!0},SL.isRightClick=function(e){var t;return e.which?t=3==e.which:e.button&&(t=2==e.button),t},SL.ruleMatches=function(t,n,i,r){var a=t.condition,o=t.conditions,c=t.property,s=n.type,l=t.value,d=n.target||n.srcElement,u=i===d;if(t.event!==s&&("custom"!==t.event||t.customEvent!==s))return!1;if(!SL.ruleInScope(t))return!1;if("click"===t.event&&SL.isRightClick(n))return!1;if(t.isDefault&&r>0)return!1;if(t.expired)return!1;if("inview"===s&&n.inviewDelay!==t.inviewDelay)return!1;if(!u&&(!1===t.bubbleFireIfParent||0!==r&&!1===t.bubbleFireIfChildFired))return!1;if(t.selector&&!SL.matchesCss(t.selector,i))return!1;if(!SL.propertiesMatch(c,i))return!1;if(null!=l)if("string"==typeof l){if(l!==i.value)return!1}else if(!l.test(i.value))return!1;if(a)try{if(!a.call(i,n,d))return SL.notify('Condition for rule "'+t.name+'" not met.',1),!1}catch(e){return SL.notify('Condition for rule "'+t.name+'" not met. Error: '+e.message,1),!1}if(o){var p=SL.find(o,function(r){try{return!r.call(i,n,d)}catch(e){return SL.notify('Condition for rule "'+t.name+'" not met. Error: '+e.message,1),!0}});if(p)return SL.notify("Condition "+p.toString()+' for rule "'+t.name+'" not met.',1),!1}return!0},SL.evtHandlers={},SL.bindEvent=function(e,t){var n=SL.evtHandlers;n[e]||(n[e]=[]),n[e].push(t)},SL.whenEvent=SL.bindEvent,SL.unbindEvent=function(e,t){var n=SL.evtHandlers;if(n[e]){var i=SL.indexOf(n[e],t);n[e].splice(i,1)}},SL.bindEventOnce=function(e,t){var n=function(){SL.unbindEvent(e,n),t.apply(null,arguments)};SL.bindEvent(e,n)},SL.isVMLPoisoned=function(t){if(!t)return!1;try{t.nodeName}catch(e){if("Attribute only valid on v:image"===e.message)return!0}return!1},SL.handleEvent=function(e){if(!SL.$data(e,"eventProcessed")){var t=e.type.toLowerCase(),n=e.target||e.srcElement,i=0,r=SL.rules,a=(SL.tools,SL.evtHandlers[e.type]);if(SL.isVMLPoisoned(n))SL.notify("detected "+t+" on poisoned VML element, skipping.",1);else{a&&SL.each(a,function(t){t(e)}),n&&n.nodeName?SL.notify("detected "+t+" on "+n.nodeName,1):SL.notify("detected "+t,1);for(var o=n;o;o=o.parentNode){var c=!1;if(SL.each(r,function(t){SL.ruleMatches(t,e,o,i)&&(SL.notify('Rule "'+t.name+'" fired.',1),SL.fireRule(t,o,e),i++,t.bubbleStop&&(c=!0))}),c)break}SL.$data(e,"eventProcessed",!0)}}},SL.onEvent=document.querySelectorAll?function(e){SL.handleEvent(e)}:(jv=[],kv=function(e){e.selector?jv.push(e):SL.handleEvent(e)},kv.pendingEvents=jv,kv),SL.fireEvent=function(e,t){SL.onEvent({type:e,target:t})},SL.registerEvents=function(e,t){for(var n=t.length-1;n>=0;n--){var i=t[n];SL.$data(e,i+".tracked")||(SL.addEventHandler(e,i,SL.onEvent),SL.$data(e,i+".tracked",!0))}},SL.registerEventsForTags=function(e,t){for(var n=e.length-1;n>=0;n--)for(var i=e[n],r=document.getElementsByTagName(i),a=r.length-1;a>=0;a--)SL.registerEvents(r[a],t)},SL.setListeners=function(){var e=["click","submit"];SL.each(SL.rules,function(t){"custom"===t.event&&t.hasOwnProperty("customEvent")&&!SL.contains(e,t.customEvent)&&e.push(t.customEvent)}),SL.registerEvents(document,e)},SL.getUniqueRuleEvents=function(){return SL._uniqueRuleEvents||(SL._uniqueRuleEvents=[],SL.each(SL.rules,function(e){-1===SL.indexOf(SL._uniqueRuleEvents,e.event)&&SL._uniqueRuleEvents.push(e.event)})),SL._uniqueRuleEvents},SL.setFormListeners=function(){if(!SL._relevantFormEvents){var e=["change","focus","blur","keypress"];SL._relevantFormEvents=SL.filter(SL.getUniqueRuleEvents(),function(t){return-1!==SL.indexOf(e,t)})}SL._relevantFormEvents.length&&SL.registerEventsForTags(["input","select","textarea","button"],SL._relevantFormEvents)},SL.setVideoListeners=function(){if(!SL._relevantVideoEvents){var e=["play","pause","ended","volumechange","stalled","loadeddata"];SL._relevantVideoEvents=SL.filter(SL.getUniqueRuleEvents(),function(t){return-1!==SL.indexOf(e,t)})}SL._relevantVideoEvents.length&&SL.registerEventsForTags(["video"],SL._relevantVideoEvents)},SL.readStoredSetting=function(t){try{return t="sdsat_"+t,window.localStorage.getItem(t)}catch(e){return SL.notify("Cannot read stored setting from localStorage: "+e.message,2),null}},SL.loadStoredSettings=function(){var e=SL.readStoredSetting("debug"),t=SL.readStoredSetting("hide_activity");e&&(SL.settings.notifications="true"===e),t&&(SL.settings.hideActivity="true"===t)},SL.isRuleActive=function(e,t){function n(e,t){return t=r(t,{hour:e[m](),minute:e[f]()}),Math.floor(Math.abs((e.getTime()-t.getTime())/864e5))}function i(e,t){function n(e){return 12*e[u]()+e[p]()}return Math.abs(n(e)-n(t))}function r(e,t){var n=new Date(e.getTime());for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];switch(i){case"hour":n[h](r);break;case"minute":n[g](r);break;case"date":n[v](r)}}return n}function a(e,t){return 60*e[m]()+e[f]()>60*t[m]()+t[f]()}function o(e,t){return 60*e[m]()+e[f]()<60*t[m]()+t[f]()}var c=e.schedule;if(!c)return!0;var s=c.utc,l=s?"getUTCDate":"getDate",d=s?"getUTCDay":"getDay",u=s?"getUTCFullYear":"getFullYear",p=s?"getUTCMonth":"getMonth",m=s?"getUTCHours":"getHours",f=s?"getUTCMinutes":"getMinutes",h=s?"setUTCHours":"setHours",g=s?"setUTCMinutes":"setMinutes",v=s?"setUTCDate":"setDate";if(t=t||new Date,c.repeat){if(a(c.start,t))return!1;if(o(c.end,t))return!1;if(t<c.start)return!1;if(c.endRepeat&&t>=c.endRepeat)return!1;if("daily"===c.repeat){if(c.repeatEvery)if(n(c.start,t)%c.repeatEvery!=0)return!1}else if("weekly"===c.repeat){if(c.days){if(!SL.contains(c.days,t[d]()))return!1}else if(c.start[d]()!==t[d]())return!1;if(c.repeatEvery)if(n(c.start,t)%(7*c.repeatEvery)!=0)return!1}else if("monthly"===c.repeat){if(c.repeatEvery)if(i(c.start,t)%c.repeatEvery!=0)return!1;if(c.nthWeek&&c.mthDay){if(c.mthDay!==t[d]())return!1;var S=Math.floor((t[l]()-t[d]()+1)/7);if(c.nthWeek!==S)return!1}else if(c.start[l]()!==t[l]())return!1}else if("yearly"===c.repeat){if(c.start[p]()!==t[p]())return!1;if(c.start[l]()!==t[l]())return!1;if(c.repeatEvery)if(Math.abs(c.start[u]()-t[u]())%c.repeatEvery!=0)return!1}}else{if(c.start>t)return!1;if(c.end<t)return!1}return!0},SL.isOutboundLink=function(e){if(!e.getAttribute("href"))return!1;var t=e.hostname,n=(e.href,e.protocol);return("http:"===n||"https:"===n)&&(!SL.any(SL.settings.domainList,function(e){return SL.isSubdomainOf(t,e)})&&t!==location.hostname)},SL.isLinkerLink=function(e){return!(!e.getAttribute||!e.getAttribute("href"))&&(SL.hasMultipleDomains()&&e.hostname!=location.hostname&&!e.href.match(/^javascript/i)&&!SL.isOutboundLink(e))},SL.isSubdomainOf=function(e,t){if(e===t)return!0;var n=e.length-t.length;return n>0&&SL.equalsIgnoreCase(e.substring(n),t)},SL.getVisitorId=function(){var e=SL.getToolsByType("visitor_id");return 0===e.length?null:e[0].getInstance()},SL.URI=function(){var e=document.location.pathname+document.location.search;return SL.settings.forceLowerCase&&(e=e.toLowerCase()),e},SL.URL=function(){var e=document.location.href;return SL.settings.forceLowerCase&&(e=e.toLowerCase()),e},SL.filterRules=function(){function e(e){return!!SL.isRuleActive(e)}SL.rules=SL.filter(SL.rules,e),SL.pageLoadRules=SL.filter(SL.pageLoadRules,e)},SL.ruleInScope=function(e,t){function n(e,t){function n(e){return t.match(e)}var r=e.include,a=e.exclude;if(r&&i(r,t))return!0;if(a){if(SL.isString(a)&&a===t)return!0;if(SL.isArray(a)&&SL.any(a,n))return!0;if(SL.isRegex(a)&&n(a))return!0}return!1}function i(e,t){function n(e){return t.match(e)}return!(!SL.isString(e)||e===t)||(!(!SL.isArray(e)||SL.any(e,n))||!(!SL.isRegex(e)||n(e)))}t=t||document.location;var r=e.scope;if(!r)return!0;var a=r.URI,o=r.subdomains,c=r.domains,s=r.protocols,l=r.hashes;return(!a||!n(a,t.pathname+t.search))&&((!o||!n(o,t.hostname))&&((!c||!i(c,t.hostname))&&((!s||!i(s,t.protocol))&&(!l||!n(l,t.hash)))))},SL.backgroundTasks=function(){new Date;SL.setFormListeners(),SL.setVideoListeners(),SL.loadStoredSettings(),SL.registerNewElementsForDynamicRules(),SL.eventEmitterBackgroundTasks();new Date},SL.registerNewElementsForDynamicRules=function(){function e(t,n){var i=e.cache[t];if(i)return n(i);SL.cssQuery(t,function(i){e.cache[t]=i,n(i)})}e.cache={},SL.each(SL.dynamicRules,function(t){e(t.selector,function(e){SL.each(e,function(e){var n="custom"===t.event?t.customEvent:t.event;SL.$data(e,"dynamicRules.seen."+n)||(SL.$data(e,"dynamicRules.seen."+n,!0),SL.propertiesMatch(t.property,e)&&SL.registerEvents(e,[n]))})})})},SL.ensureCSSSelector=function(){document.querySelectorAll?SL.hasSelector=!0:(SL.loadingSizzle=!0,SL.sizzleQueue=[],SL.loadScript(SL.basePath()+"selector.js",function(){if(SL.Sizzle){var e=SL.onEvent.pendingEvents;SL.each(e,function(e){SL.handleEvent(e)},this),SL.onEvent=SL.handleEvent,SL.hasSelector=!0,delete SL.loadingSizzle,SL.each(SL.sizzleQueue,function(e){SL.cssQuery(e[0],e[1])}),delete SL.sizzleQueue}else SL.logError(new Error("Failed to load selector.js"))}))},SL.errors=[],SL.logError=function(e){SL.errors.push(e),SL.notify(e.name+" - "+e.message,5)},SL.pageBottom=function(){SL.initialized&&(SL.pageBottomFired=!0,SL.firePageLoadEvent("pagebottom"))},SL.stagingLibraryOverride=function(){if("true"===SL.readStoredSetting("stagingLibrary")){for(var e,t,n,i=document.getElementsByTagName("script"),r=/^(.*)satelliteLib-([a-f0-9]{40})\.js$/,a=/^(.*)satelliteLib-([a-f0-9]{40})-staging\.js$/,o=0,c=i.length;o<c&&(!(n=i[o].getAttribute("src"))||(e||(e=n.match(r)),t||(t=n.match(a)),!t));o++);if(e&&!t){var s=e[1]+"satelliteLib-"+e[2]+"-staging.js";if(document.write)document.write('<script src="'+s+'"></script>');else{var l=document.createElement("script");l.src=s,document.head.appendChild(l)}return!0}}return!1},SL.checkAsyncInclude=function(){window.satellite_asyncLoad&&SL.notify('You may be using the async installation of Satellite. In-page HTML and the "pagebottom" event will not work. Please update your Satellite installation for these features.',5)},SL.hasMultipleDomains=function(){return!!SL.settings.domainList&&SL.settings.domainList.length>1},SL.handleOverrides=function(){if(Overrides)for(var e in Overrides)Overrides.hasOwnProperty(e)&&(SL.data[e]=Overrides[e])},SL.privacyManagerParams=function(){var e={};SL.extend(e,SL.settings.privacyManagement);var t=[];for(var n in SL.tools)if(SL.tools.hasOwnProperty(n)){var i=SL.tools[n],r=i.settings;if(!r)continue;"sc"===r.engine&&t.push(i)}var a=SL.filter(SL.map(t,function(e){return e.getTrackingServer()}),function(e){return null!=e});e.adobeAnalyticsTrackingServers=a;for(var o=["bannerText","headline","introductoryText","customCSS"],c=0;c<o.length;c++){var s=o[c],l=e[s];if(l)if("text"===l.type)e[s]=l.value;else{if("data"!==l.type)throw new Error("Invalid type: "+l.type);e[s]=SL.getVar(l.value)}}return e},SL.prepareLoadPrivacyManager=function(){function e(e){function t(){++a===r.length&&(n(),clearTimeout(o),e())}function n(){SL.each(r,function(e){SL.unbindEvent(e.id+".load",t)})}function i(){n(),e()}var r=SL.filter(SL.values(SL.tools),function(e){return e.settings&&"sc"===e.settings.engine});if(0===r.length)return e();var a=0;SL.each(r,function(e){SL.bindEvent(e.id+".load",t)});var o=setTimeout(i,5e3)}SL.addEventHandler(window,"load",function(){e(SL.loadPrivacyManager)})},SL.loadPrivacyManager=function(){var e=SL.basePath()+"privacy_manager.js";SL.loadScript(e,function(){var e=SL.privacyManager;e.configure(SL.privacyManagerParams()),e.openIfRequired()})},SL.init=function(e){if(!SL.stagingLibraryOverride()){SL.configurationSettings=e;var t=e.tools;for(var n in delete e.tools,e)e.hasOwnProperty(n)&&(SL[n]=e[n]);SL.data.customVars===undefined&&(SL.data.customVars={}),SL.data.queryParams=SL.QueryParams.normal,SL.handleOverrides(),SL.detectBrowserInfo(),SL.trackVisitorInfo&&SL.trackVisitorInfo(),SL.loadStoredSettings(),SL.Logger.setOutputState(SL.settings.notifications),SL.checkAsyncInclude(),SL.ensureCSSSelector(),SL.filterRules(),SL.dynamicRules=SL.filter(SL.rules,function(e){return e.eventHandlerOnElement}),SL.tools=SL.initTools(t),SL.initEventEmitters(),SL.firePageLoadEvent("aftertoolinit"),SL.settings.privacyManagement&&SL.prepareLoadPrivacyManager(),SL.hasSelector&&SL.domReady(SL.eventEmitterBackgroundTasks),SL.setListeners(),SL.domReady(function(){SL.poll(function(){SL.backgroundTasks()},SL.settings.recheckEvery||3e3)}),SL.domReady(function(){SL.domReadyFired=!0,SL.pageBottomFired||SL.pageBottom(),SL.firePageLoadEvent("domready")}),SL.addEventHandler(window,"load",function(){SL.firePageLoadEvent("windowload")}),SL.firePageLoadEvent("pagetop"),SL.initialized=!0}},SL.pageLoadPhases=["aftertoolinit","pagetop","pagebottom","domready","windowload"],SL.loadEventBefore=function(e,t){return SL.indexOf(SL.pageLoadPhases,e)<=SL.indexOf(SL.pageLoadPhases,t)},SL.flushPendingCalls=function(e){e.pending&&(SL.each(e.pending,function(t){var n=t[0],i=t[1],r=t[2],a=t[3];n in e?e[n].apply(e,[i,r].concat(a)):e.emit?e.emit(n,i,r,a):SL.notify("Failed to trigger "+n+" for tool "+e.id,1)}),delete e.pending)},SL.setDebug=function(t){try{window.localStorage.setItem("sdsat_debug",t)}catch(e){SL.notify("Cannot set debug mode: "+e.message,2)}},SL.getUserAgent=function(){return navigator.userAgent},SL.detectBrowserInfo=function(){function e(e){return function(t){for(var n in e){if(e.hasOwnProperty(n))if(e[n].test(t))return n}return"Unknown"}}var t=e({"IE Edge Mobile":/Windows Phone.*Edge/,"IE Edge":/Edge/,OmniWeb:/OmniWeb/,"Opera Mini":/Opera Mini/,"Opera Mobile":/Opera Mobi/,Opera:/Opera/,Chrome:/Chrome|CriOS|CrMo/,Firefox:/Firefox|FxiOS/,"IE Mobile":/IEMobile/,IE:/MSIE|Trident/,"Mobile Safari":/Mobile(\/[0-9A-z]+)? Safari/,Safari:/Safari/}),n=e({Blackberry:/BlackBerry|BB10/,"Symbian OS":/Symbian|SymbOS/,Maemo:/Maemo/,Android:/Android/,Linux:/ Linux /,Unix:/FreeBSD|OpenBSD|CrOS/,Windows:/[\( ]Windows /,iOS:/iPhone|iPad|iPod/,MacOS:/Macintosh;/}),i=e({Nokia:/Symbian|SymbOS|Maemo/,"Windows Phone":/Windows Phone/,Blackberry:/BlackBerry|BB10/,Android:/Android/,iPad:/iPad/,iPod:/iPod/,iPhone:/iPhone/,Desktop:/.*/}),r=SL.getUserAgent();SL.browserInfo={browser:t(r),os:n(r),deviceType:i(r)}},SL.isHttps=function(){return"https:"==document.location.protocol},SL.BaseTool=function(e){this.settings=e||{},this.forceLowerCase=SL.settings.forceLowerCase,"forceLowerCase"in this.settings&&(this.forceLowerCase=this.settings.forceLowerCase)},SL.BaseTool.prototype={triggerCommand:function(e,t,n){
var i=this.settings||{};if(this.initialize&&this.isQueueAvailable()&&this.isQueueable(e)&&n&&SL.loadEventBefore(n.type,i.loadOn))this.queueCommand(e,t,n);else{var r=e.command,a=this["$"+r],o=!!a&&a.escapeHtml,c=SL.preprocessArguments(e.arguments,t,n,this.forceLowerCase,o);a?a.apply(this,[t,n].concat(c)):this.$missing$?this.$missing$(r,t,n,c):SL.notify("Failed to trigger "+r+" for tool "+this.id,1)}},endPLPhase:function(){},isQueueable:function(e){return"cancelToolInit"!==e.command},isQueueAvailable:function(){return!this.initialized&&!this.initializing},flushQueue:function(){this.pending&&(SL.each(this.pending,function(e){this.triggerCommand.apply(this,e)},this),this.pending=[])},queueCommand:function(e,t,n){this.pending||(this.pending=[]),this.pending.push([e,t,n])},$cancelToolInit:function(){this._cancelToolInit=!0}},window._satellite=SL,SL.visibility={isHidden:function(){var e=this.getHiddenProperty();return!!e&&document[e]},isVisible:function(){return!this.isHidden()},getHiddenProperty:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null},getVisibilityEvent:function(){var e=this.getHiddenProperty();return e?e.replace(/[H|h]idden/,"")+"visibilitychange":null}},SL.ecommerce={addItem:function(){var e=[].slice.call(arguments);SL.onEvent({type:"ecommerce.additem",target:e})},addTrans:function(){var e=[].slice.call(arguments);SL.data.saleData.sale={orderId:e[0],revenue:e[2]},SL.onEvent({type:"ecommerce.addtrans",target:e})},trackTrans:function(){SL.onEvent({type:"ecommerce.tracktrans",target:[]})}},OrientationChangeEventEmitter.orientationChange=function(e){var t=0===window.orientation?"portrait":"landscape";e.orientation=t,SL.onEvent(e)},SL.availableEventEmitters.push(OrientationChangeEventEmitter),InViewEventEmitter.offset=function(t){var n=null,i=null;try{var r=t.getBoundingClientRect(),a=document,o=a.documentElement,c=a.body,s=window,l=o.clientTop||c.clientTop||0,d=o.clientLeft||c.clientLeft||0,u=s.pageYOffset||o.scrollTop||c.scrollTop,p=s.pageXOffset||o.scrollLeft||c.scrollLeft;n=r.top+u-l,i=r.left+p-d}catch(e){}return{top:n,left:i}},InViewEventEmitter.getViewportHeight=function(){var e=window.innerHeight,t=document.compatMode;return t&&(e="CSS1Compat"==t?document.documentElement.clientHeight:document.body.clientHeight),e},InViewEventEmitter.getScrollTop=function(){return document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop},InViewEventEmitter.isElementInDocument=function(e){return document.body.contains(e)},InViewEventEmitter.isElementInView=function(e){if(!InViewEventEmitter.isElementInDocument(e))return!1;var t=InViewEventEmitter.getViewportHeight(),n=InViewEventEmitter.getScrollTop(),i=InViewEventEmitter.offset(e).top,r=e.offsetHeight;return null!==i&&!(n>i+r||n+t<i)},InViewEventEmitter.prototype={backgroundTasks:function(){var e=this.elements;SL.each(this.rules,function(t){SL.cssQuery(t.selector,function(n){var i=0;SL.each(n,function(t){SL.contains(e,t)||(e.push(t),i++)}),i&&SL.notify(t.selector+" added "+i+" elements.",1)})}),this.track()},checkInView:function(e,t,n){var i=SL.$data(e,"inview");if(InViewEventEmitter.isElementInView(e)){i||SL.$data(e,"inview",!0);var r=this;this.processRules(e,function(n,i,a){if(t||!n.inviewDelay)SL.$data(e,i,!0),SL.onEvent({type:"inview",target:e,inviewDelay:n.inviewDelay});else if(n.inviewDelay){var o=SL.$data(e,a);o||(o=setTimeout(function(){r.checkInView(e,!0,n.inviewDelay)},n.inviewDelay),SL.$data(e,a,o))}},n)}else{if(!InViewEventEmitter.isElementInDocument(e)){var a=SL.indexOf(this.elements,e);this.elements.splice(a,1)}i&&SL.$data(e,"inview",!1),this.processRules(e,function(t,n,i){var r=SL.$data(e,i);r&&clearTimeout(r)},n)}},track:function(){for(var e=this.elements.length-1;e>=0;e--)this.checkInView(this.elements[e])},processRules:function(e,t,n){var i=this.rules;n&&(i=SL.filter(this.rules,function(e){return e.inviewDelay==n})),SL.each(i,function(n,i){var r=n.inviewDelay?"viewed_"+n.inviewDelay:"viewed",a="inview_timeout_id_"+i;SL.$data(e,r)||SL.matchesCss(n.selector,e)&&t(n,r,a)})}},SL.availableEventEmitters.push(InViewEventEmitter),VideoPlayedEventEmitter.prototype={backgroundTasks:function(){var e=this.eventHandler;SL.each(this.rules,function(t){SL.cssQuery(t.selector||"video",function(t){SL.each(t,function(t){SL.$data(t,"videoplayed.tracked")||(SL.addEventHandler(t,"timeupdate",SL.throttle(e,100)),SL.$data(t,"videoplayed.tracked",!0))})})})},evalRule:function(e,t){var n=t.event,i=e.seekable,r=i.start(0),a=i.end(0),o=e.currentTime,c=t.event.match(/^videoplayed\(([0-9]+)([s%])\)$/);if(c){var s=c[2],l=Number(c[1]),d="%"===s?function(){return l<=100*(o-r)/(a-r)}:function(){return l<=o-r};!SL.$data(e,n)&&d()&&(SL.$data(e,n,!0),SL.onEvent({type:n,target:e}))}},onUpdateTime:function(e){var t=this.rules,n=e.target;if(n.seekable&&0!==n.seekable.length)for(var i=0,r=t.length;i<r;i++)this.evalRule(n,t[i])}},SL.availableEventEmitters.push(VideoPlayedEventEmitter),LeaveEventEmitter.prototype={obue:!1,initialize:function(){this.attachCloseListeners()},obuePrevUnload:function(){},obuePrevBeforeUnload:function(){},newObueListener:function(){this.obue||(this.obue=!0,this.triggerBeacons())},attachCloseListeners:function(){this.prevUnload=window.onunload,this.prevBeforeUnload=window.onbeforeunload,window.onunload=SL.bind(function(e){this.prevUnload&&setTimeout(SL.bind(function(){this.prevUnload.call(window,e)},this),1),this.newObueListener()},this),window.onbeforeunload=SL.bind(function(e){this.prevBeforeUnload&&setTimeout(SL.bind(function(){this.prevBeforeUnload.call(window,e)},this),1),this.newObueListener()},this)},triggerBeacons:function(){SL.fireEvent("leave",document)}},SL.availableEventEmitters.push(LeaveEventEmitter),FacebookEventEmitter.prototype={initialize:function(){if(this.FB=this.FB||window.FB,this.FB&&this.FB.Event&&this.FB.Event.subscribe)return this.bind(),!0},bind:function(){this.FB.Event.subscribe("edge.create",function(){SL.notify("tracking a facebook like",1),SL.onEvent({type:"facebook.like",target:document})}),this.FB.Event.subscribe("edge.remove",function(){SL.notify("tracking a facebook unlike",1),SL.onEvent({type:"facebook.unlike",target:document})}),this.FB.Event.subscribe("message.send",function(){SL.notify("tracking a facebook share",1),SL.onEvent({type:"facebook.send",target:document})})}},SL.availableEventEmitters.push(FacebookEventEmitter),VisibilityEventEmitter.prototype={defineEvents:function(){this.oldBlurClosure=function(){SL.fireEvent("tabblur",document)},this.oldFocusClosure=SL.bind(function(){this.visibilityApiHasPriority?SL.fireEvent("tabfocus",document):null!=SL.visibility.getHiddenProperty()&&SL.visibility.isHidden()||SL.fireEvent("tabfocus",document)},this)},attachDetachModernEventListeners:function(e){SL[0==e?"removeEventHandler":"addEventHandler"](document,SL.visibility.getVisibilityEvent(),this.handleVisibilityChange)},attachDetachOlderEventListeners:function(e,t,n){var i=0==e?"removeEventHandler":"addEventHandler";SL[i](t,n,this.oldBlurClosure),SL[i](window,"focus",this.oldFocusClosure)},handleVisibilityChange:function(){SL.visibility.isHidden()?SL.fireEvent("tabblur",document):SL.fireEvent("tabfocus",document)},setVisibilityApiPriority:function(e){this.visibilityApiHasPriority=e,this.attachDetachOlderEventListeners(!1,window,"blur"),this.attachDetachModernEventListeners(!1),e?null!=SL.visibility.getHiddenProperty()?this.attachDetachModernEventListeners(!0):this.attachDetachOlderEventListeners(!0,window,"blur"):(this.attachDetachOlderEventListeners(!0,window,"blur"),null!=SL.visibility.getHiddenProperty()&&this.attachDetachModernEventListeners(!0))},oldBlurClosure:null,oldFocusClosure:null,visibilityApiHasPriority:!0},SL.availableEventEmitters.push(VisibilityEventEmitter),LocationChangeEventEmitter.prototype={initialize:function(){this.setupHistoryAPI(),this.setupHashChange()},fireIfURIChanged:function(){var e=SL.URL();this.lastURL!==e&&(this.fireEvent(),this.lastURL=e)},fireEvent:function(){SL.updateQueryParams(),SL.onEvent({type:"locationchange",target:document})},setupSPASupport:function(){this.setupHistoryAPI(),this.setupHashChange()},setupHistoryAPI:function(){var e=window.history;e&&(e.pushState&&(this.originalPushState=e.pushState,e.pushState=this._pushState),e.replaceState&&(this.originalReplaceState=e.replaceState,e.replaceState=this._replaceState)),SL.addEventHandler(window,"popstate",this._onPopState)},pushState:function(){var e=this.originalPushState.apply(history,arguments);return this.onPushState(),e},replaceState:function(){var e=this.originalReplaceState.apply(history,arguments);return this.onReplaceState(),e},setupHashChange:function(){SL.addEventHandler(window,"hashchange",this._onHashChange)},onReplaceState:function(){setTimeout(this._fireIfURIChanged,0)},onPushState:function(){setTimeout(this._fireIfURIChanged,0)},onPopState:function(){setTimeout(this._fireIfURIChanged,0)},onHashChange:function(){setTimeout(this._fireIfURIChanged,0)},uninitialize:function(){this.cleanUpHistoryAPI(),this.cleanUpHashChange()},cleanUpHistoryAPI:function(){history.pushState===this._pushState&&(history.pushState=this.originalPushState),history.replaceState===this._replaceState&&(history.replaceState=this.originalReplaceState),SL.removeEventHandler(window,"popstate",this._onPopState)},cleanUpHashChange:function(){SL.removeEventHandler(window,"hashchange",this._onHashChange)}},SL.availableEventEmitters.push(LocationChangeEventEmitter),DataElementChangeEmitter.prototype.getStringifiedValue=window.JSON&&window.JSON.stringify||SL.stringify,DataElementChangeEmitter.prototype.initPolling=function(){0!==this.dataElementsNames.length&&(this.dataElementsStore=this.getDataElementsValues(),SL.poll(SL.bind(this.checkDataElementValues,this),1e3))},DataElementChangeEmitter.prototype.getDataElementsValues=function(){var e={};return SL.each(this.dataElementsNames,function(t){var n=SL.getVar(t);e[t]=this.getStringifiedValue(n)},this),e},DataElementChangeEmitter.prototype.checkDataElementValues=function(){SL.each(this.dataElementsNames,SL.bind(function(e){var t=this.getStringifiedValue(SL.getVar(e));t!==this.dataElementsStore[e]&&(this.dataElementsStore[e]=t,SL.onEvent({type:"dataelementchange("+e+")",target:document}))},this))},SL.availableEventEmitters.push(DataElementChangeEmitter),ElementExistsEventEmitter.prototype.backgroundTasks=function(){SL.each(this.rules,function(e){SL.cssQuery(e.selector,function(e){if(e.length>0){var t=e[0];if(SL.$data(t,"elementexists.seen"))return;SL.$data(t,"elementexists.seen",!0),SL.onEvent({type:"elementexists",target:t})}})})},SL.availableEventEmitters.push(ElementExistsEventEmitter),HoverEventEmitter.prototype={backgroundTasks:function(){var e=this;SL.each(this.rules,function(t){var n=t[1],i=t[0];SL.cssQuery(n,function(t){SL.each(t,function(t){e.trackElement(t,i)})})},this)},trackElement:function(e,t){var n=this,i=SL.$data(e,"hover.delays");i?SL.contains(i,t)||i.push(t):(SL.addEventHandler(e,"mouseover",function(t){n.onMouseOver(t,e)}),SL.addEventHandler(e,"mouseout",function(t){n.onMouseOut(t,e)}),SL.$data(e,"hover.delays",[t]))},onMouseOver:function(e,t){var n=e.target||e.srcElement,i=e.relatedTarget||e.fromElement;(t===n||SL.containsElement(t,n))&&!SL.containsElement(t,i)&&this.onMouseEnter(t)},onMouseEnter:function(e){var t=SL.$data(e,"hover.delays"),n=SL.map(t,function(t){return setTimeout(function(){SL.onEvent({type:"hover("+t+")",target:e})},t)});SL.$data(e,"hover.delayTimers",n)},onMouseOut:function(e,t){var n=e.target||e.srcElement,i=e.relatedTarget||e.toElement;(t===n||SL.containsElement(t,n))&&!SL.containsElement(t,i)&&this.onMouseLeave(t)},onMouseLeave:function(e){var t=SL.$data(e,"hover.delayTimers");t&&SL.each(t,function(e){clearTimeout(e)})}},SL.availableEventEmitters.push(HoverEventEmitter),TwitterEventEmitter.prototype={initialize:function(){var e=this.twttr;e&&"function"==typeof e.ready&&e.ready(SL.bind(this.bind,this))},bind:function(){this.twttr.events.bind("tweet",function(e){e&&(SL.notify("tracking a tweet button",1),SL.onEvent({type:"twitter.tweet",target:document}))})}},SL.availableEventEmitters.push(TwitterEventEmitter),SL.inherit(Tnt,SL.BaseTool),SL.extend(Tnt.prototype,{name:"tnt",endPLPhase:function(e){"aftertoolinit"===e&&this.initialize()},initialize:function(){SL.notify("Test & Target: Initializing",1),this.initializeTargetPageParams(),this.load()},initializeTargetPageParams:function(){window.targetPageParams&&this.updateTargetPageParams(this.parseTargetPageParamsResult(window.targetPageParams())),this.updateTargetPageParams(this.settings.pageParams),this.setTargetPageParamsFunction()},load:function(){var e=this.getMboxURL(this.settings.mboxURL);!1!==this.settings.initTool?this.settings.loadSync?(SL.loadScriptSync(e),this.onScriptLoaded()):(SL.loadScript(e,SL.bind(this.onScriptLoaded,this)),this.initializing=!0):this.initialized=!0},getMboxURL:function(e){var t=e;return SL.isObject(e)&&(t="https:"===window.location.protocol?e.https:e.http),t.match(/^https?:/)?t:SL.basePath()+t},onScriptLoaded:function(){SL.notify("Test & Target: loaded.",1),this.flushQueue(),this.initialized=!0,this.initializing=!1},$addMbox:function(e,t,n){var i=n.mboxGoesAround,r=i+"{visibility: hidden;}",a=this.appendStyle(r);i in this.styleElements||(this.styleElements[i]=a),this.initialized?this.$addMBoxStep2(null,null,n):this.initializing&&this.queueCommand({command:"addMBoxStep2",arguments:[n]},e,t)},$addMBoxStep2:function(e,t,n){var i=this.generateID(),r=this;SL.addEventHandler(window,"load",SL.bind(function(){SL.cssQuery(n.mboxGoesAround,function(e){var t=e[0];if(t){var a=document.createElement("div");a.id=i,t.parentNode.replaceChild(a,t),a.appendChild(t),window.mboxDefine(i,n.mboxName);var o=[n.mboxName];n.arguments&&(o=o.concat(n.arguments)),window.mboxUpdate.apply(null,o),r.reappearWhenCallComesBack(t,i,n.timeout,n)}})},this)),this.lastMboxID=i},$addTargetPageParams:function(e,t,n){this.updateTargetPageParams(n)},generateID:function(){return"_sdsat_mbox_"+String(Math.random()).substring(2)+"_"},appendStyle:function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("style");return n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n),n},reappearWhenCallComesBack:function(e,t,n,i){function r(){var e=a.styleElements[i.mboxGoesAround];e&&(e.parentNode.removeChild(e),delete a.styleElements[i.mboxGoesAround])}var a=this;SL.cssQuery('script[src*="omtrdc.net"]',function(e){var t=e[0];if(t){SL.scriptOnLoad(t.src,t,function(){SL.notify("Test & Target: request complete",1),r(),clearTimeout(i)});var i=setTimeout(function(){SL.notify("Test & Target: bailing after "+n+"ms",1),r()},n)}else SL.notify("Test & Target: failed to find T&T ajax call, bailing",1),r()})},updateTargetPageParams:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[SL.replace(n)]=SL.replace(e[n]));SL.extend(this.targetPageParamsStore,t)},getTargetPageParams:function(){return this.targetPageParamsStore},setTargetPageParamsFunction:function(){window.targetPageParams=SL.bind(this.getTargetPageParams,this)},parseTargetPageParamsResult:function(e){var t=e;return SL.isArray(e)&&(e=e.join("&")),SL.isString(e)&&(t=SL.parseQueryParams(e)),t}}),SL.availableTools.tnt=Tnt,SL.inherit(NielsenTool,SL.BaseTool),SL.extend(NielsenTool.prototype,{name:"Nielsen",endPLPhase:function(e){switch(e){case"pagetop":this.initialize();break;case"pagebottom":this.enableTracking&&(this.queueCommand({command:"sendFirstBeacon",arguments:[]}),this.flushQueueWhenReady())}},defineListeners:function(){this.onTabFocus=SL.bind(function(){this.notify("Tab visible, sending view beacon when ready",1),this.tabEverVisible=!0,this.flushQueueWhenReady()},this),this.onPageLeave=SL.bind(function(){this.notify("isHuman? : "+this.isHuman(),1),this.isHuman()&&this.sendDurationBeacon()},this),this.onHumanDetectionChange=SL.bind(function(e){this==e.target.target&&(this.human=e.target.isHuman)},this)},initialize:function(){this.initializeTracking(),this.initializeDataProviders(),this.initializeNonHumanDetection(),this.tabEverVisible=SL.visibility.isVisible(),this.tabEverVisible?this.notify("Tab visible, sending view beacon when ready",1):SL.bindEventOnce("tabfocus",this.onTabFocus),this.initialized=!0},initializeTracking:function(){this.initialized||(this.notify("Initializing tracking",1),this.addRemovePageLeaveEvent(this.enableTracking),this.addRemoveHumanDetectionChangeEvent(this.enableTracking),this.initialized=!0)},initializeDataProviders:function(){var e,t=this.getAnalyticsTool();this.dataProvider.register(new NielsenTool.DataProvider.VisitorID(SL.getVisitorId())),t?(e=new NielsenTool.DataProvider.Generic("rsid",function(){return t.settings.account}),this.dataProvider.register(e)):this.notify("Missing integration with Analytics: rsid will not be sent.")},initializeNonHumanDetection:function(){SL.nonhumandetection?(SL.nonhumandetection.init(),this.setEnableNonHumanDetection(0!=this.settings.enableNonHumanDetection),this.settings.nonHumanDetectionDelay>0&&this.setNonHumanDetectionDelay(1e3*parseInt(this.settings.nonHumanDetectionDelay))):this.notify("NHDM is not available.")},getAnalyticsTool:function(){if(this.settings.integratesWith)return SL.tools[this.settings.integratesWith]},flushQueueWhenReady:function(){this.enableTracking&&this.tabEverVisible&&SL.poll(SL.bind(function(){if(this.isReadyToTrack())return this.flushQueue(),!0},this),100,20)},isReadyToTrack:function(){return this.tabEverVisible&&this.dataProvider.isReady()},$setVars:function(e,t,n){for(var i in n){var r=n[i];"function"==typeof r&&(r=r()),this.settings[i]=r}this.notify("Set variables done",2),this.prepareContextData()},$setEnableTracking:function(e,t,n){this.notify("Will"+(n?"":" not")+" track time on page",1),this.enableTracking!=n&&(this.addRemovePageLeaveEvent(n),this.addRemoveHumanDetectionChangeEvent(n),this.enableTracking=n)},$sendFirstBeacon:function(){this.sendViewBeacon()},setEnableNonHumanDetection:function(e){e?SL.nonhumandetection.register(this):SL.nonhumandetection.unregister(this)},setNonHumanDetectionDelay:function(e){SL.nonhumandetection.register(this,e)},addRemovePageLeaveEvent:function(e){this.notify((e?"Attach onto":"Detach from")+" page leave event",1),SL[0==e?"unbindEvent":"bindEvent"]("leave",this.onPageLeave)},addRemoveHumanDetectionChangeEvent:function(e){this.notify((e?"Attach onto":"Detach from")+" human detection change event",1),SL[0==e?"unbindEvent":"bindEvent"]("humandetection.change",this.onHumanDetectionChange)},sendViewBeacon:function(){this.notify("Tracked page view.",1),this.sendBeaconWith()},sendDurationBeacon:function(){if(SL.timetracking&&"function"==typeof SL.timetracking.timeOnPage&&null!=SL.timetracking.timeOnPage()){this.notify("Tracked close",1),this.sendBeaconWith({timeOnPage:Math.round(SL.timetracking.timeOnPage()/1e3),duration:"D",timer:"timer"});var e;for(e=0;e<this.magicConst;e++)"0"}else this.notify("Could not track close due missing time on page",5)},sendBeaconWith:function(e){this.enableTracking&&this[this.beaconMethod].call(this,this.prepareUrl(e))},plainBeacon:function(e){var t=new Image;t.src=e,t.width=1,t.height=1,t.alt=""},navigatorSendBeacon:function(e){navigator.sendBeacon(e)},prepareUrl:function(e){var t=this.settings;return SL.extend(t,this.dataProvider.provide()),SL.extend(t,e),this.preparePrefix(this.settings.collectionServer)+this.adapt.convertToURI(this.adapt.toNielsen(this.substituteVariables(t)))},preparePrefix:function(e){return"//"+encodeURIComponent(e)+".imrworldwide.com/cgi-bin/gn?"},substituteVariables:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=SL.replace(e[n]));return t},prepareContextData:function(){if(this.getAnalyticsTool()){var e=this.settings;e.sdkVersion=_satellite.publishDate,this.getAnalyticsTool().$setVars(null,null,{contextData:this.adapt.toAnalytics(this.substituteVariables(e))})}else this.notify("Adobe Analytics missing.")},isHuman:function(){return this.human},onTabFocus:function(){},onPageLeave:function(){},onHumanDetectionChange:function(){},notify:function(e,t){SL.notify(this.logPrefix+e,t)},beaconMethod:"plainBeacon",adapt:null,enableTracking:!1,logPrefix:"Nielsen: ",tabEverVisible:!1,human:!0,magicConst:2e6}),NielsenTool.DataProvider={},NielsenTool.DataProvider.Generic=function(e,t){this.key=e,this.valueFn=t},SL.extend(NielsenTool.DataProvider.Generic.prototype,{isReady:function(){return!0},getValue:function(){return this.valueFn()},provide:function(){this.isReady()||NielsenTool.prototype.notify("Not yet ready to provide value for: "+this.key,5);var e={};return e[this.key]=this.getValue(),e}}),NielsenTool.DataProvider.VisitorID=function(e,t,n){this.key=t||"uuid",this.visitorInstance=e,this.visitorInstance&&(this.visitorId=e.getMarketingCloudVisitorID([this,this._visitorIdCallback])),this.fallbackProvider=n||new NielsenTool.UUID},SL.inherit(NielsenTool.DataProvider.VisitorID,NielsenTool.DataProvider.Generic),SL.extend(NielsenTool.DataProvider.VisitorID.prototype,{isReady:function(){return null===this.visitorInstance||!!this.visitorId},getValue:function(){return this.visitorId||this.fallbackProvider.get()},_visitorIdCallback:function(e){this.visitorId=e}}),NielsenTool.DataProvider.Aggregate=function(){this.providers=[];for(var e=0;e<arguments.length;e++)this.register(arguments[e])},SL.extend(NielsenTool.DataProvider.Aggregate.prototype,{register:function(e){this.providers.push(e)},isReady:function(){return SL.every(this.providers,function(e){return e.isReady()})},provide:function(){var e={};return SL.each(this.providers,function(t){SL.extend(e,t.provide())}),e}}),NielsenTool.UUID=function(){},SL.extend(NielsenTool.UUID.prototype,{generate:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},get:function(){var e=SL.readCookie(this.key("uuid"));return e||(e=this.generate(),SL.setCookie(this.key("uuid"),e),e)},key:function(e){return"_dtm_nielsen_"+e}}),NielsenTool.DataAdapters=function(){},SL.extend(NielsenTool.DataAdapters.prototype,{toNielsen:function(e){var t=(new Date).getTime(),n={c6:"vc,",c13:"asid,",c15:"apn,",c27:"cln,",c32:"segA,",c33:"segB,",c34:"segC,",c35:"adrsid,",c29:"plid,",c30:"bldv,",c40:"adbid,"},i={ci:e.clientId,c6:e.vcid,c13:e.appId,c15:e.appName,prv:1,forward:0,ad:0,cr:e.duration||"V",rt:"text",st:"dcr",prd:"dcr",r:t,at:e.timer||"view",c16:e.sdkVersion,c27:e.timeOnPage||0,c40:e.uuid,c35:e.rsid,ti:t,sup:0,c32:e.segmentA,c33:e.segmentB,c34:e.segmentC,asn:e.assetName,c29:e.playerID,c30:e.buildVersion};for(key in i)if(i[key]!==undefined&&null!=i[key]&&i[key]!==undefined&&null!=i&&""!=i){var r=encodeURIComponent(i[key]);n.hasOwnProperty(key)&&r&&(r=n[key]+r),i[key]=r}return this.filterObject(i)},toAnalytics:function(e){return this.filterObject({"a.nielsen.clientid":e.clientId,"a.nielsen.vcid":e.vcid,"a.nielsen.appid":e.appId,"a.nielsen.appname":e.appName,"a.nielsen.accmethod":"0","a.nielsen.ctype":"text","a.nielsen.sega":e.segmentA,"a.nielsen.segb":e.segmentB,"a.nielsen.segc":e.segmentC,"a.nielsen.asset":e.assetName})},convertToURI:function(e){if(!1===SL.isObject(e))return"";var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+e[n]);return t.join("&")},filterObject:function(e){for(var t in e)!e.hasOwnProperty(t)||null!=e[t]&&e[t]!==undefined||delete e[t];return e}}),SL.availableTools.nielsen=NielsenTool,SL.inherit(SiteCatalystTool,SL.BaseTool),SL.extend(SiteCatalystTool.prototype,{name:"SC",endPLPhase:function(e){e===this.settings.loadOn&&this.initialize(e)},initialize:function(e){if(!this._cancelToolInit)if(this.settings.initVars=this.substituteVariables(this.settings.initVars,{type:e}),!1!==this.settings.initTool){var t=this.settings.sCodeURL||SL.basePath()+"s_code.js";"object"==typeof t&&(t="https:"===window.location.protocol?t.https:t.http),t.match(/^https?:/)||(t=SL.basePath()+t),this.settings.initVars&&this.$setVars(null,null,this.settings.initVars),SL.loadScript(t,SL.bind(this.onSCodeLoaded,this)),this.initializing=!0}else this.initializing=!0,this.pollForSC()},getS:function(e,t){var n=t&&t.hostname||window.location.hostname,i=this.concatWithToolVarBindings(t&&t.setVars||this.varBindings),r=t&&t.addEvent||this.events,a=this.getAccount(n),o=window.s_gi;if(!o)return null;if(this.isValidSCInstance(e)||(e=null),!a&&!e)return SL.notify("Adobe Analytics: tracker not initialized because account was not found",1),null;e=e||o(a);var c="D"+SL.appVersion;return"undefined"!=typeof e.tagContainerMarker?e.tagContainerMarker=c:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+c&&(e.version+="-"+c),e.sa&&!0!==this.settings.skipSetAccount&&!1!==this.settings.initTool&&e.sa(this.settings.account),this.applyVarBindingsOnTracker(e,i),r.length>0&&(e.events=r.join(",")),SL.getVisitorId()&&(e.visitor=SL.getVisitorId()),e},onSCodeLoaded:function(e){this.initialized=!0,this.initializing=!1;var t=["Adobe Analytics: loaded",e?" (manual)":"","."];SL.notify(t.join(""),1),SL.fireEvent(this.id+".load",this.getS()),e||(this.flushQueueExceptTrackLink(),this.sendBeacon()),this.flushQueue()},getAccount:function(e){return window.s_account?window.s_account:e&&this.settings.accountByHost&&this.settings.accountByHost[e]||this.settings.account},getTrackingServer:function(){var e=this,t=e.getS();if(t){if(t.ssl&&t.trackingServerSecure)return t.trackingServerSecure;if(t.trackingServer)return t.trackingServer}var n,i=e.getAccount(window.location.hostname);if(!i)return null;var r,a,o="",c=t&&t.dc;return(r=(n=i).indexOf(","))>=0&&(n=n.gb(0,r)),n=n.replace(/[^A-Za-z0-9]/g,""),o||(o="2o7.net"),c=c?(""+c).toLowerCase():"d1","2o7.net"==o&&("d1"==c?c="112":"d2"==c&&(c="122"),a=""),r=n+"."+c+"."+a+o},sendBeacon:function(){var e=this.getS(window[this.settings.renameS||"s"]);e?this.settings.customInit&&!1===this.settings.customInit(e)?SL.notify("Adobe Analytics: custom init suppressed beacon",1):(this.settings.executeCustomPageCodeFirst&&this.applyVarBindingsOnTracker(e,this.varBindings),this.executeCustomSetupFuns(e),e.t(),this.clearVarBindings(),this.clearCustomSetup(),SL.notify("Adobe Analytics: tracked page view",1)):SL.notify("Adobe Analytics: page code not loaded",1)},pollForSC:function(){SL.poll(SL.bind(function(){if("function"==typeof window.s_gi)return this.onSCodeLoaded(!0),!0},this))},flushQueueExceptTrackLink:function(){if(this.pending){for(var e=[],t=0;t<this.pending.length;t++){var n=this.pending[t];"trackLink"===n[0].command?e.push(n):this.triggerCommand.apply(this,n)}this.pending=e}},isQueueAvailable:function(){return!this.initialized},substituteVariables:function(e,t){var n={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];n[i]=SL.replace(r,location,t)}return n},$setVars:function(e,t,n){for(var i in n)if(n.hasOwnProperty(i)){var r=n[i];"function"==typeof r&&(r=r()),this.varBindings[i]=r}SL.notify("Adobe Analytics: set variables.",2)},$customSetup:function(e,t,n){this.customSetupFuns.push(function(i){n.call(e,t,i)})},isValidSCInstance:function(e){return!!e&&"function"==typeof e.t&&"function"==typeof e.tl},concatWithToolVarBindings:function(e){var t=this.settings.initVars||{};return SL.map(["trackingServer","trackingServerSecure"],function(n){t[n]&&!e[n]&&(e[n]=t[n])}),e},applyVarBindingsOnTracker:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},clearVarBindings:function(){this.varBindings={}},clearCustomSetup:function(){this.customSetupFuns=[]},executeCustomSetupFuns:function(e){SL.each(this.customSetupFuns,function(t){t.call(window,e)})},$trackLink:function(e,t,n){var i=(n=n||{}).type,r=n.linkName;!r&&e&&e.nodeName&&"a"===e.nodeName.toLowerCase()&&(r=e.innerHTML),r||(r="link clicked");var a=n&&n.setVars,o=n&&n.addEvent||[],c=this.getS(null,{setVars:a,addEvent:o});if(c){var s=c.linkTrackVars,l=c.linkTrackEvents,d=this.definedVarNames(a);n&&n.customSetup&&n.customSetup.call(e,t,c),o.length>0&&d.push("events"),c.products&&d.push("products"),d=this.mergeTrackLinkVars(c.linkTrackVars,d),o=this.mergeTrackLinkVars(c.linkTrackEvents,o),c.linkTrackVars=this.getCustomLinkVarsList(d);var u=SL.map(o,function(e){return e.split(":")[0]});c.linkTrackEvents=this.getCustomLinkVarsList(u),c.tl(!0,i||"o",r),SL.notify(["Adobe Analytics: tracked link ","using: linkTrackVars=",SL.stringify(c.linkTrackVars),"; linkTrackEvents=",SL.stringify(c.linkTrackEvents)].join(""),1),c.linkTrackVars=s,c.linkTrackEvents=l}else SL.notify("Adobe Analytics: page code not loaded",1)},mergeTrackLinkVars:function(e,t){return e&&(t=e.split(",").concat(t)),t},getCustomLinkVarsList:function(e){var t=SL.indexOf(e,"None");return t>-1&&e.length>1&&e.splice(t,1),e.join(",")},definedVarNames:function(e){e=e||this.varBindings;var t=[];for(var n in e)e.hasOwnProperty(n)&&/^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$/.test(n)&&t.push(n);return t},$trackPageView:function(e,t,n){var i=n&&n.setVars,r=n&&n.addEvent||[],a=this.getS(null,{setVars:i,addEvent:r});a?(a.linkTrackVars="",a.linkTrackEvents="",this.executeCustomSetupFuns(a),n&&n.customSetup&&n.customSetup.call(e,t,a),a.t(),this.clearVarBindings(),this.clearCustomSetup(),SL.notify("Adobe Analytics: tracked page view",1)):SL.notify("Adobe Analytics: page code not loaded",1)},$postTransaction:function(e,t,n){var i=SL.data.transaction=window[n],r=this.varBindings,a=this.settings.fieldVarMapping;if(SL.each(i.items,function(e){this.products.push(e)},this),r.products=SL.map(this.products,function(e){var t=[];if(a&&a.item)for(var n in a.item)if(a.item.hasOwnProperty(n)){var i=a.item[n];t.push(i+"="+e[n]),"event"===i.substring(0,5)&&this.events.push(i)}var r=["",e.product,e.quantity,e.unitPrice*e.quantity];return t.length>0&&r.push(t.join("|")),r.join(";")},this).join(","),a&&a.transaction){var o=[];for(var c in a.transaction)if(a.transaction.hasOwnProperty(c)){n=a.transaction[c];o.push(n+"="+i[c]),"event"===n.substring(0,5)&&this.events.push(n)}r.products.length>0&&(r.products+=","),r.products+=";;;;"+o.join("|")}},$addEvent:function(){for(var e=2,t=arguments.length;e<t;e++)this.events.push(arguments[e])},$addProduct:function(){for(var e=2,t=arguments.length;e<t;e++)this.products.push(arguments[e])}}),SL.availableTools.sc=SiteCatalystTool,SL.inherit(DefaultTool,SL.BaseTool),SL.extend(DefaultTool.prototype,{name:"Default",$loadIframe:function(e,t,n){var i=n.pages,r=n.loadOn,a=SL.bind(function(){SL.each(i,function(n){this.loadIframe(e,t,n)},this)},this);r||a(),"domready"===r&&SL.domReady(a),"load"===r&&SL.addEventHandler(window,"load",a)},loadIframe:function(e,t,n){var i=document.createElement("iframe");i.style.display="none";var r=SL.data.host,a=n.data,o=this.scriptURL(n.src),c=SL.searchVariables(a,e,t);r&&(o=SL.basePath()+o),o+=c,i.src=o;var s=document.getElementsByTagName("body")[0];s?s.appendChild(i):SL.domReady(function(){document.getElementsByTagName("body")[0].appendChild(i)})},scriptURL:function(e){return(SL.settings.scriptDir||"")+e},$loadScript:function(e,t,n){var i=n.scripts,r=n.sequential,a=n.loadOn,o=SL.bind(function(){r?this.loadScripts(e,t,i):SL.each(i,function(n){this.loadScripts(e,t,[n])},this)},this);a?"domready"===a?SL.domReady(o):"load"===a&&SL.addEventHandler(window,"load",o):o()},loadScripts:function(t,n,i){function r(){o.length>0&&a&&o.shift().call(t,n,c);var e=i.shift();if(e){var l=SL.data.host,d=s.scriptURL(e.src);l&&(d=SL.basePath()+d),a=e,SL.loadScript(d,r)}}try{i=i.slice(0);var a,o=this.asyncScriptCallbackQueue,c=n.target||n.srcElement,s=this}catch(e){console.error("scripts is",SL.stringify(i))}r()},$loadBlockingScript:function(e,t,n){var i=n.scripts;n.loadOn;SL.bind(function(){SL.each(i,function(n){this.loadBlockingScript(e,t,n)},this)},this)()},loadBlockingScript:function(e,t,n){var i=this.scriptURL(n.src),r=SL.data.host,a=t.target||t.srcElement;r&&(i=SL.basePath()+i),this.argsForBlockingScripts.push([e,t,a]),SL.loadScriptSync(i)},pushAsyncScript:function(e){this.asyncScriptCallbackQueue.push(e)},pushBlockingScript:function(e){var t=this.argsForBlockingScripts.shift(),n=t[0];e.apply(n,t.slice(1))},$writeHTML:SL.escapeHtmlParams(function(e,t){if(!SL.domReadyFired&&document.write)if("pagebottom"===t.type||"pagetop"===t.type)for(var n=2,i=arguments.length;n<i;n++){var r=arguments[n].html;r=SL.replace(r,e,t),document.write(r)}else SL.notify("You can only use writeHTML on the `pagetop` and `pagebottom` events.",1);else SL.notify("Command writeHTML failed. You should try appending HTML using the async option.",1)}),linkNeedsDelayActivate:function(e,t){t=t||window;var n=e.tagName,i=e.getAttribute("target"),r=e.getAttribute("href")
;return(!n||"a"===n.toLowerCase())&&(!!r&&(!i||"_blank"!==i&&("_top"===i?t.top===t:"_parent"!==i&&("_self"===i||(!t.name||i===t.name)))))},$delayActivateLink:function(e,t){if(this.linkNeedsDelayActivate(e)){SL.preventDefault(t);var n=SL.settings.linkDelay||100;setTimeout(function(){SL.setLocation(e.href)},n)}},isQueueable:function(e){return"writeHTML"!==e.command}}),SL.availableTools["default"]=DefaultTool,SL.inherit(BasicTool,SL.BaseTool),SL.extend(BasicTool.prototype,{initialize:function(){var e=this.settings;if(!1!==this.settings.initTool){var t=e.url;t="string"==typeof t?SL.basePath()+t:SL.isHttps()?t.https:t.http,SL.loadScript(t,SL.bind(this.onLoad,this)),this.initializing=!0}else this.initialized=!0},isQueueAvailable:function(){return!this.initialized},onLoad:function(){this.initialized=!0,this.initializing=!1,this.settings.initialBeacon&&this.settings.initialBeacon(),this.flushQueue()},endPLPhase:function(e){e===this.settings.loadOn&&(SL.notify(this.name+": Initializing at "+e,1),this.initialize())},$fire:function(e,t,n){this.initializing?this.queueCommand({command:"fire",arguments:[n]},e,t):n.call(this.settings,e,t)}}),SL.availableTools.am=BasicTool,SL.availableTools.adlens=BasicTool,SL.availableTools.aem=BasicTool,SL.availableTools.__basic=BasicTool,SL.extend(VisitorIdTool.prototype,{getInstance:function(){return this.instance},initialize:function(){var e,t=this.settings;SL.notify("Visitor ID: Initializing tool",1),null!==(e=this.createInstance(t.mcOrgId,t.initVars))&&(t.customerIDs&&this.applyCustomerIDs(e,t.customerIDs),t.autoRequest&&e.getMarketingCloudVisitorID(),this.instance=e)},createInstance:function(e,t){if(!SL.isString(e))return SL.notify('Visitor ID: Cannot create instance using mcOrgId: "'+e+'"',4),null;e=SL.replace(e),SL.notify('Visitor ID: Create instance using mcOrgId: "'+e+'"',1),t=this.parseValues(t);var n=Visitor.getInstance(e,t);return SL.notify("Visitor ID: Set variables: "+SL.stringify(t),1),n},applyCustomerIDs:function(e,t){var n=this.parseIds(t);e.setCustomerIDs(n),SL.notify("Visitor ID: Set Customer IDs: "+SL.stringify(n),1)},parseValues:function(e){if(!1===SL.isObject(e))return{};var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=SL.replace(e[n]));return t},parseIds:function(e){var t={};if(!1===SL.isObject(e))return{};for(var n in e)if(e.hasOwnProperty(n)){var i=SL.replace(e[n].id);i!==e[n].id&&i&&(t[n]={},t[n].id=i,t[n].authState=Visitor.AuthState[e[n].authState])}return t}}),SL.availableTools.visitor_id=VisitorIdTool;var GAUtils={allowLinker:function(){return SL.hasMultipleDomains()},cookieDomain:function(){var e=SL.settings.domainList,t=SL.find(e,function(e){var t=window.location.hostname;return SL.equalsIgnoreCase(t.slice(t.length-e.length),e)});return t?"."+t:"auto"}};SL.inherit(GAUniversalTool,SL.BaseTool),SL.extend(GAUniversalTool.prototype,{name:"GAUniversal",endPLPhase:function(e){e===this.settings.loadOn&&(SL.notify("GAU: Initializing at "+e,1),this.initialize(),this.flushQueue(),this.trackInitialPageView())},getTrackerName:function(){return this.settings.trackerSettings.name||""},isPageCodeLoadSuppressed:function(){return!1===this.settings.initTool||!0===this._cancelToolInit},initialize:function(){if(this.isPageCodeLoadSuppressed())return this.initialized=!0,void SL.notify("GAU: Page code not loaded (suppressed).",1);var e="ga";window[e]=window[e]||this.createGAObject(),window.GoogleAnalyticsObject=e,SL.notify("GAU: Page code loaded.",1),SL.loadScriptOnce(this.getToolUrl());var t=this.settings;(GAUtils.allowLinker()&&!1!==t.allowLinker?this.createAccountForLinker():this.createAccount(),this.executeInitCommands(),t.customInit)&&(!1===(0,t.customInit)(window[e],this.getTrackerName())&&(this.suppressInitialPageView=!0));this.initialized=!0},createGAObject:function(){var e=function(){e.q.push(arguments)};return e.q=[],e.l=1*new Date,e},createAccount:function(){this.create()},createAccountForLinker:function(){var e={};GAUtils.allowLinker()&&(e.allowLinker=!0),this.create(e),this.call("require","linker"),this.call("linker:autoLink",this.autoLinkDomains(),!1,!0)},create:function(e){var t=this.settings.trackerSettings;(t=SL.preprocessArguments([t],location,null,this.forceLowerCase)[0]).trackingId=SL.replace(this.settings.trackerSettings.trackingId,location),t.cookieDomain||(t.cookieDomain=GAUtils.cookieDomain()),SL.extend(t,e||{}),this.call("create",t)},autoLinkDomains:function(){var e=location.hostname;return SL.filter(SL.settings.domainList,function(t){return t!==e})},executeInitCommands:function(){var e=this.settings;e.initCommands&&SL.each(e.initCommands,function(e){var t=e.splice(2,e.length-2);e=e.concat(SL.preprocessArguments(t,location,null,this.forceLowerCase)),this.call.apply(this,e)},this)},trackInitialPageView:function(){this.suppressInitialPageView||this.isPageCodeLoadSuppressed()||this.call("send","pageview")},call:function(){"function"==typeof ga?this.isCallSuppressed()||(arguments[0]=this.cmd(arguments[0]),this.log(SL.toArray(arguments)),ga.apply(window,arguments)):SL.notify("GA Universal function not found!",4)},isCallSuppressed:function(){return!0===this._cancelToolInit},$missing$:function(e,t,n,i){i=i||[],i=[e].concat(i),this.call.apply(this,i)},getToolUrl:function(){var e=this.settings,t=SL.isHttps();return e.url?t?e.url.https:e.url.http:(t?"https://ssl":"http://www")+".google-analytics.com/analytics.js"},cmd:function(e){var t=["send","set","get"],n=this.getTrackerName();return n&&-1!==SL.indexOf(t,e)?n+"."+e:e},log:function(e){var t="GA Universal: sent command "+e[0]+" to tracker "+(this.getTrackerName()||"default");if(e.length>1){SL.stringify(e.slice(1));t+=" with parameters "+SL.stringify(e.slice(1))}t+=".",SL.notify(t,1)}}),SL.availableTools.ga_universal=GAUniversalTool,SL.inherit(GATool,SL.BaseTool),SL.extend(GATool.prototype,{name:"GA",initialize:function(){var e=this.settings,t=window._gaq,n=e.initCommands||[],i=e.customInit;if(t||(_gaq=[]),this.isSuppressed())SL.notify("GA: page code not loaded(suppressed).",1);else{if(!t&&!GATool.scriptLoaded){var r=SL.isHttps(),a=(r?"https://ssl":"http://www")+".google-analytics.com/ga.js";e.url&&(a=r?e.url.https:e.url.http),SL.loadScript(a),GATool.scriptLoaded=!0,SL.notify("GA: page code loaded.",1)}e.domain;var o=e.trackerName,c=GAUtils.allowLinker(),s=SL.replace(e.account,location);SL.settings.domainList;_gaq.push([this.cmd("setAccount"),s]),c&&_gaq.push([this.cmd("setAllowLinker"),c]),_gaq.push([this.cmd("setDomainName"),GAUtils.cookieDomain()]),SL.each(n,function(e){var t=[this.cmd(e[0])].concat(SL.preprocessArguments(e.slice(1),location,null,this.forceLowerCase));_gaq.push(t)},this),i&&(this.suppressInitialPageView=!1===i(_gaq,o)),e.pageName&&this.$overrideInitialPageView(null,null,e.pageName)}this.initialized=!0,SL.fireEvent(this.id+".configure",_gaq,o)},isSuppressed:function(){return this._cancelToolInit||!1===this.settings.initTool},tracker:function(){return this.settings.trackerName},cmd:function(e){var t=this.tracker();return t?t+"._"+e:"_"+e},$overrideInitialPageView:function(e,t,n){this.urlOverride=n},trackInitialPageView:function(){if(!this.isSuppressed()&&!this.suppressInitialPageView)if(this.urlOverride){var e=SL.preprocessArguments([this.urlOverride],location,null,this.forceLowerCase);this.$missing$("trackPageview",null,null,e)}else this.$missing$("trackPageview")},endPLPhase:function(e){e===this.settings.loadOn&&(SL.notify("GA: Initializing at "+e,1),this.initialize(),this.flushQueue(),this.trackInitialPageView())},call:function(e,t,n,i){if(!this._cancelToolInit){this.settings;var r=this.tracker(),a=this.cmd(e);i=i?[a].concat(i):[a];_gaq.push(i),r?SL.notify("GA: sent command "+e+" to tracker "+r+(i.length>1?" with parameters ["+i.slice(1).join(", ")+"]":"")+".",1):SL.notify("GA: sent command "+e+(i.length>1?" with parameters ["+i.slice(1).join(", ")+"]":"")+".",1)}},$missing$:function(e,t,n,i){this.call(e,t,n,i)},$postTransaction:function(e,t,n){var i=SL.data.customVars.transaction=window[n];this.call("addTrans",e,t,[i.orderID,i.affiliation,i.total,i.tax,i.shipping,i.city,i.state,i.country]),SL.each(i.items,function(n){this.call("addItem",e,t,[n.orderID,n.sku,n.product,n.category,n.unitPrice,n.quantity])},this),this.call("trackTrans",e,t)},delayLink:function(e,t){var n=this;if(GAUtils.allowLinker()&&e.hostname.match(this.settings.linkerDomains)&&!SL.isSubdomainOf(e.hostname,location.hostname)){SL.preventDefault(t);var i=SL.settings.linkDelay||100;setTimeout(function(){n.call("link",e,t,[e.href])},i)}},popupLink:function(e,t){if(window._gat){SL.preventDefault(t);var n=this.settings.account,i=window._gat._createTracker(n)._getLinkerUrl(e.href);window.open(i)}},$link:function(e,t){"_blank"===e.getAttribute("target")?this.popupLink(e,t):this.delayLink(e,t)},$trackEvent:function(e,t){var n=Array.prototype.slice.call(arguments,2);if(n.length>=4&&null!=n[3]){var i=parseInt(n[3],10);SL.isNaN(i)&&(i=1),n[3]=i}this.call("trackEvent",e,t,n)}}),SL.availableTools.ga=GATool,_satellite.init({tools:{"77f5d81ac8009c9bed292e5cc84e1ff7":{engine:"sc",loadOn:"pagebottom",account:"cwccostcodebug",euCookie:!1,sCodeURL:"6d09a901247b3615ff6f4d9f22bda8ea810f369e/s-code-contents-8320d40e8dc87e87b7ccf841a249be2b825aa12b.js",renameS:"s",initVars:{trackingServer:"costco.d2.sc.omtrdc.net",trackingServerSecure:"costco.d2.sc.omtrdc.net",trackInlineStats:!1,trackDownloadLinks:!1,trackExternalLinks:!1,linkLeaveQueryString:!1,dynamicVariablePrefix:"D="},skipSetAccount:!0,customInit:function(s){function pmcstart(){}function PTM1(){function PDB(){}function $click(e,t,n,i,r){$(e);return $(e).on("click",t,n,i,r)}function $on(e,t,n,i,r,a){$(e);return $(e).on(t,n,c,i,r,a)}function mark(){$(this).css("background-color","red")}function isValidRef(e,t,n){void 0===t&&(t=window);for(var i=e.split("."),r=0;r<i.length;r++){if(t[i[r]]==undefined)return!1;t=t[i[r]]}return n!=undefined?typeof t==n:void 0!==t}function cleanText(e,t){var n="",i=!1;e=pcl.strOrBlank(e).trim();for(var r=0;r<e.length;r++){var a=e[r];" \t\r\n".indexOf(a)>-1?(i||(n+=" "),i=!0):(i=!1,n+=a)}return t!=undefined&&(n=n.substring(0,t)),n}function isRefinementPage(){return"Search|Category|Facet".indexOf(pmc.pageType)>-1}function prodIdFromUrl(e){var t=/\.product\.(.*)\.html/g.exec(e);return t?t[1]:""}function escapeProdStringVal(e){return encodeURIComponent(e.toString().substring(0,30).replace("|","_").replace(";","_").replace(",","_"))}function pstrProdBldr(e,t,n){this.args=["",e||"",t||"",n||"","",""],this.events=[],this.evars=[]}function clickTaleGetUID_PID(){if(document.cookie.indexOf("WRUID")>-1&&-1==document.cookie.indexOf("WRIgnore=true")){for(var e=document.cookie.split(";"),t=0,n=0,i=0;i<e.length;i++){for(var r=e[i];" "==r.charAt(0);)r=r.substring(1,r.length);r.indexOf("CT_Data")>-1&&(t=r.substring(r.indexOf("apv_")).split("_")[1]),(1==(document.cookie.match(/WRUID/g)||[]).length&&r.indexOf("WRUID")>-1||r.indexOf("WRUID")>-1&&(document.cookie.match(/WRUID/g)||[]).length>1&&-1==r.indexOf("WRUID="))&&(n=r.split("=")[1])}return 0==n||0==t?null:n+"."+t}return null}var pmc={},prx={},pcl={};pmc.ver="19jan18x0000",pmc.linkTrackEvents="",pmc.memberProductType="",pmc.isSearchFormSubmitted=!1,pmc.formToSubmit=null,pmc.isPurchase=!1,pmc.nameValuePairArray=[],pmc.initialLoad=!1,pmc.count=0,pmc.firePage=[],pmc.errorP=[],pmc.fDebugExceptions=!1,pmc.dbForceErrorOn="",pmc.V66ErrTags="",pmc.pageName="",pmc.pageType="",pmc.E67Retries=0,pmc.videoInterval=0,pmc.videoPresent=!1,pmc.videoPollCount=0,pmc.externalLink=null,pmc.ccPageType="",pmc.ccPageName="",pmc.quickViewListenersAdded=!1,pmc.V64BreadCrumbs="",path=window.location.pathname,pmc.topLevelCat="",pstrProdBldr.prototype.addEvent=function(e,t){this.events.push("event"+e+t?"="+t:"")},pstrProdBldr.prototype.addEvar=function(e,t){this.evars.push("eVar"+e+"="+escapeProdStringVal(t))},pstrProdBldr.prototype.category=function(e){return e?this.args[0]=e:this.args[0]},pstrProdBldr.prototype.sku=function(e){return e?this.args[1]=e:this.args[1]},pstrProdBldr.prototype.quantity=function(e){return e?this.args[2]=e:this.args[2]},pstrProdBldr.prototype.price=function(e){return e?this.args[3]=e:this.args[3]},pstrProdBldr.prototype.prodId=function(e){this.addEvar(52,e)},pstrProdBldr.prototype.prodName=function(e){this.addEvar(53,e)},pstrProdBldr.prototype.pstr=function(){return this.args[4]=this.events.join("|"),this.args[5]=this.evars.join("|"),this.args.join(";")},pmc.product=function(){this.category="",this.prodSku="",this.totalQuantity="",this.totalPrice="",this.eventIncrementer=[],this.merchandisingEvar=[]},pmc.productArray=[],pmc.prodStringFromDDOProd=function(e){var t,n,i=";"+e.itemNumber+";";if(pmc.isPurchase)try{t=1*e.quantity,n="fr"==pmc.lang?1*e.price.replace(" ","").replace(" ","").replace(",",".").replace("$",""):1*e.price.replace(",","").replace("$",""),isNaN(t)||isNaN(n)?(isNaN(t)&&(t=""),isNaN(n)&&(n="")):n=pmc.roundValue(n*t,2),i+=t+";",i+=n+";"}catch(r){i+=";;"}else i+=";;";return i+=";eVar52="+e.id,i+="|eVar53="+e.name.substring(0,30).replace("|","_").replace(";","_").replace(",","_"),e.hasOwnProperty("deliveryType")&&(i+="|eVar58="+e.deliveryType),i},pmc.prodStringFromDDO=function(){if(isValidRef("cart.products",digitalData)&&0!=digitalData.cart.products.length){for(var e="",t=0;t<digitalData.cart.products.length;t++)currentProd=digitalData.cart.products[t],pmc.isExcludedItem(currentProd.itemNumber)||(e+=pmc.prodStringFromDDOProd(currentProd)+",");return","==e.slice(-1)&&(e=e.slice(0,-1)),e}},pmc.prodFromDDOItemAttrib=function(e,t){t==undefined&&(t="itemNumber");for(var n=0;n<digitalData.cart.products.length;n++)if(currentProd=digitalData.cart.products[n],currentProd[t]==e)return currentProd;return undefined},pmc.prodFromDDOCartRow=function(e){var t=undefined,n=$(e).closest(".order-item, .cart-item").find(".product-title a");if(1==n.length){var i=$(n).attr("href").split("product.")[1].split(".")[0];t=pmc.prodFromDDOItemAttrib(i)}return t},pmc.getProductString=function(e){for(var t="",n={},i=e.length,r=0;r<i;r++){if((n=e[r]).category="",t+=n.category+";",t+=n.itemNumber+";",pmc.isPurchase)try{quantity=1*n.quantity,"en"==pmc.lang&&(price=1*n.price.replace(",","").replace("$","")),"fr"==pmc.lang&&(price=1*n.price.replace(" ","").replace(" ","").replace(",",".").replace("$","")),isNaN(quantity)||isNaN(price)?(isNaN(quantity)&&(quantity=""),isNaN(price)&&(price="")):price=pmc.roundValue(price*quantity,2),t+=quantity+";",t+=price+";"}catch(a){t+=";;"}else t+=";;";t+=";",t+=pmc.nameValuePairArrayToString(n.merchandisingEvar,"|"),r<i-1&&(t+=",")}return t},pmc.setCampaignCookie=function(e,t){return pmc.readCookie(e)!==t&&(pmc.setCookie(e,t,30),!0)},pmc.getProductIDFromDetailsPage=function(){return"object"==typeof digitalData?digitalData.product[0].id:"Unknown"},pmc.getProductNameFromDetailsPage=function(){return"object"==typeof digitalData?digitalData.product[0].name:"Unknown"},pmc.getProductDetailTypeFromDetailsPage=function(){var e="Single SKU";return($(".product-option").length>0||$("select.productOptions").length>0||$("select").filter(function(){return this.name.match("Option")}).length>0)&&(e="Variants"),$("input.bundle-product-qty").length>0&&(e="Bundle"),e},pmc.getProductRatingFromDetailsPage=function(){var e=$('#header-bazaar-voice meta[itemProp="ratingValue"]').attr("content");return e==undefined||""==e||isNaN(e)?"No Rating":Math.round(10*e)/10+" Stars"},pmc.pageViewProductDetailsPage=function(){($("h1").text().indexOf("Product Not Found")>=0||$(".stockMsg").text().indexOf("Out of Stock")>=0)&&PDB("product not found"),"object"==typeof digitalData&&(pmc.pageName=digitalData.page.pageName,pmc.pageType=digitalData.page.pageType,pmc.productID=digitalData.product[0].id,pmc.prodId=pmc.productID,pmc.productName=digitalData.product[0].name,pmc.memberProductType=digitalData.product[0].membershipReq),pmc.productDetailType=pmc.getProductDetailTypeFromDetailsPage(),pcl.addEvent(17);var e=window.location.hash;e&&e.indexOf("review")>0?pcl.addEvent(22):pcl.addEvent(18),pcl.addEvar(15,pmc.productID),pcl.addEvar(16,pmc.productName),pmc.setIdandNameMerchEvars(),pcl.addEvar(18,pmc.productDetailType),""!==pmc.memberProductType&&pcl.addEvar(20,pmc.memberProductType)},pmc.socialShare=function(e,t){var n=$(t).find('[class^="fi-social"]').attr("class").replace("fi-social-","");pcl.addEvent(50),pcl.addEvar(50,n),pmc.fireEvt(e,"o","social share")},pmc.productDetailsClick=function(e){pmc.productID=pmc.getProductIDFromDetailsPage(),pmc.productName=pmc.getProductNameFromDetailsPage(),pmc.productDetailType=pmc.getProductDetailTypeFromDetailsPage(),PDB("END productDetailsClick()"),pcl.addEvent(18),pcl.addEvar(15,pmc.productID),pmc.setIdandNameMerchEvars(),pcl.addEvar(16,pmc.productName),pcl.addEvar(18,pmc.productDetailType),""!==pmc.memberProductType&&pcl.addEvar(20,pmc.memberProductType),pmc.fireEvt(e,"o","product details tab")},pmc.productSpecsClick=function(e){pmc.productID=pmc.getProductIDFromDetailsPage(),pmc.productName=pmc.getProductNameFromDetailsPage(),pmc.productDetailType=pmc.getProductDetailTypeFromDetailsPage(),pcl.addEvent(19),pcl.addEvar(15,pmc.productID),pcl.addEvar(16,pmc.productName),pmc.setIdandNameMerchEvars(),pcl.addEvar(18,pmc.productDetailType),""!==pmc.memberProductType&&pcl.addEvar(20,pmc.memberProductType),pmc.fireEvt(e,"o","product specifications tab")},pmc.productTermsClick=function(e){pmc.productID=pmc.getProductIDFromDetailsPage(),pmc.productName=pmc.getProductNameFromDetailsPage(),pmc.productDetailType=pmc.getProductDetailTypeFromDetailsPage(),pcl.addEvent(20),pcl.addEvar(15,pmc.productID),pcl.addEvar(16,pmc.productName),pmc.setIdandNameMerchEvars(),pcl.addEvar(18,pmc.productDetailType),""!==pmc.memberProductType&&pcl.addEvar(20,pmc.memberProductType),pmc.fireEvt(e,"o","product terms tab")},pmc.productReturnsClick=function(e){pmc.productID=pmc.getProductIDFromDetailsPage(),pmc.productName=pmc.getProductNameFromDetailsPage(),pmc.productDetailType=pmc.getProductDetailTypeFromDetailsPage(),pcl.addEvent(21),pcl.addEvar(15,pmc.productID),pcl.addEvar(16,pmc.productName),pmc.setIdandNameMerchEvars(),pcl.addEvar(18,pmc.productDetailType),""!==pmc.memberProductType&&pcl.addEvar(20,pmc.memberProductType),pmc.fireEvt(e,"o","product returns tab")},pmc.productReviewsClick=function(e){pmc.productID=pmc.getProductIDFromDetailsPage(),pmc.productName=pmc.getProductNameFromDetailsPage(),pmc.productDetailType=pmc.getProductDetailTypeFromDetailsPage(),pcl.addEvent(22),pcl.addEvar(15,pmc.productID),pcl.addEvar(16,pmc.productName),pmc.setIdandNameMerchEvars(),pcl.addEvar(18,pmc.productDetailType),""!==pmc.memberProductType&&pcl.addEvar(20,pmc.memberProductType),pmc.fireEvt(e,"o","product review tab")},pmc.productConciergeClick=function(e){pmc.productDetailType=pmc.getProductDetailTypeFromDetailsPage(),PDB("END productDetailsClick()"),pcl.addEvent(59),pcl.addEvar(18,pmc.productDetailType),pmc.fireEvt(e,"o","product concierge tab")},pmc.wishlistAddLocation=function(e){pcl.addEvent(23),pcl.addEvar(23,pmc.pageType),pmc.setIdandNameMerchEvars(),""!==pmc.memberProductType&&pcl.addEvar(20,pmc.memberProductType),pmc.fireEvt(e,"o","wishlist add")},pmc.cartPage=function(){isValidRef("digitalData.cart.products")&&digitalData.cart.products.length>0?pmc.pageName="ShoppingCart | Full":pmc.pageName="ShoppingCart | Empty"},pmc.cartAdd=function(e,t,n){var i=new Array,r=pmc.getProductIDFromDetailsPage();if($(".products select").filter(function(e,t){return t.selectedIndex<1}).length>0)return!1;if(n==undefined&&(n=pmc.pageType),"Related Products"===n){var a=$(t).closest("form"),o=$(a).find("input[name=addedItem]").val();if(!pmc.isExcludedItem(o)){var c=$(a).find(".RelatedProduct-description a").text(),s=$(a).find(".price").text();(v=pmc.newOrderItem()).description=c,v.itemNumber=o,v.itemProductId=r,v.quantity=1,v.price=s,i.push(v)}}else if("Compare Products"===n){a=$(t).closest("form");var l=$(a).closest(".product");o=$(a).find("input[name=addedItem]").val();if(!pmc.isExcludedItem(o)){c=$(l).find(".description").text(),s=$(l).find(".price").text();(v=pmc.newOrderItem()).description=c,v.itemNumber=o,v.itemProductId=r,v.quantity=1,v.price=s,i.push(v)}}else if("Product Detail"===n){var d=$(t).text();if(pmc.hasValue(d)||(d=$(t).val()),""===(d=$.trim(d).toLowerCase())||d.indexOf("sign in")>=0||d.indexOf("membership")>=0)return;pmc.starRating=pmc.getProductRatingFromDetailsPage();o=null;if("object"==typeof singleProduct&&(pmc.hasValue(singleProduct)&&(o=singleProduct.partNumber),!pmc.hasValue(o)&&pmc.hasValue(singleProduct)&&singleProduct.length>0&&(o=singleProduct[0].partNumber)),o||(o=$("span[itemprop='sku']").first().text()),o||(o=$("[data-sku]").first().text()),pmc.hasValue(o)||(o=$("input[name=addedItem]").val()),o){if(0===jQuery.grep(pmc.excludedItems,function(e){return e.itemNumber===y}).length){s=$.trim($(".your-price span.currency").text()),c=$.trim($("h1[itemprop='name']").text());pmc.hasValue(c)||(c=$.trim($(".pTitle h2").text())),pmc.hasValue(c)||(c=cleanText($("#product-details h1").text()));var u=$("input#minQtyText").val();(v=pmc.newOrderItem()).description=c,v.itemNumber=o,v.itemProductId=r,v.quantity=u,v.price=s,i.push(v)}}else{var p=jQuery($("input").filter(function(){return(this.name+"").match("productName")}));pmc.hasValue(c)||(c=$.trim($(".pTitle h2").text())),pmc.hasValue(c)||(c=cleanText($("#product-details h1").text()));var m=jQuery($("input").filter(function(){return(this.name+"").match("addedItem")})),f=jQuery($("input").filter(function(){return(this.name+"").match("quantity")})),h=jQuery($("input").filter(function(){return(this.name+"").match("price")}));if(null!==m)for(var g=0;g<m.length;g++)if(0===jQuery.grep(pmc.excludedItems,function(e){return e.itemNumber===m[g].value}).length){PDB(g);var v=pmc.newOrderItem();p[g]!==undefined&&(v.description=p[g].value),v.itemNumber=m[g].value,v.itemProductId=r,PDB(f[g]),v.quantity=f[g].value,h[g]!==undefined&&(v.price=h[g].value),v.itemTotal="",i.push(v)}}}else{if("Quick View"===n){var S=$(t).closest("#product-quick-view");r=prodIdFromUrl($(S).find("a:contains('View Details')").attr("href"));v=$('.product-list a[href*=".product.'+r+'.html"]').closest(".product-tile-set")}else v=$(t).closest(".product-tile-set");c=cleanText($(v).find(".description").text()),s=cleanText($(v).find(".price").text().replace("$",""));var y=$(v).find(".itemNumber").val(),L=(r=$(v).find(".scProdId").attr("sc.prodid"),$(v).find(".scMemberProductType").attr("sc.memberproducttype"));if(pmc.memberProductType=L,0===jQuery.grep(pmc.excludedItems,function(e){return e.itemNumber===y}).length)(v=pmc.newOrderItem()).description=c,v.itemNumber=y,v.itemProductId=r,v.quantity=u,v.price=s,i.push(v)}if(pmc.debug&&PDB(i),!(i.length<1)){pcl.addEvent(24),"Related Products"!==n&&pcl.addEvar(19,pmc.roundStar(pmc.starRating));g=0;var b=i.length,E=!1,k=localStorage.getItem("pmc-reco-last-clicked"),w="",C="",D="";for(k!=undefined&&(k=k.split("|")).length>2&&(w=k[0],C=k[1],D=k[2]);g<b;g++){var P=i[g];P.merchandisingEvar=[],P.merchandisingEvar.push(pmc.newNameValuePair("eVar24",n)),P.merchandisingEvar.push(pmc.newNameValuePair("eVar52",P.itemProductId)),P.merchandisingEvar.push(pmc.newNameValuePair("eVar53",P.description)),P.itemProductId==w&&(E=!0)}E&&(pcl.addEvar(77,C),pcl.addEvar(78,D)),pcl.addEvar(64,pmc.V64BreadCrumbs),pcl.setProductString(pmc.getProductString(i)),pmc.fireEvt(e,"o","cart add")}},pmc.isExcludedItem=function(e){return 0!==$.grep(pmc.excludedItems,function(t){return t.itemNumber.match(e)}).length},pmc.setVideo=function(){$("#thumbnails").on("mousedown","a",function(){$(this).find('[id*="videoOverlay"]').length>0&&pmc.videoLinkClick()}),"/merchant-account.html"==window.location.pathname&&($('[data-target="#costco-services-merchant-video-modal"]').on("click",function(){pmc.interfaceClick(this,"play video:merchant-account:hero")}),pmc.pollVideoPlayer=setInterval(function(){document.activeElement==$("#video_1518368349")[0]&&(pmc.interfaceClick(this,"play video:merchant-account:payments"),clearInterval(pmc.pollVideoPlayer))},1e3)),"/identity-protection-services.html"==window.location.pathname&&$('[data-target="#rs-services-video-modal"]').on("click",function(){pmc.interfaceClick(this,"play video:identity-protection-services:hero")}),"/life-insurance-services.html"==window.location.pathname&&($('[data-target="#costco-services-life-video-modal"]').on("click",function(){pmc.interfaceClick(this,"play video:life-insurance-services:hero")}),$(".costco-services-life-quote-body a").on("click",function(){setTimeout(function(){$(".costco-services-life-result-banner:visible").length>0&&(pcl.addEvent(51),pcl.addEvent(52),pmc.interfaceClick(this,"quote: see your personalized quote"))},2e3)}),$('.costco-services-life-result-body a:contains("Application")').on("click",function(){pcl.addEvent(53),pmc.interfaceClick(this,"quote: start your online application")}),$('a:contains("Get Your Free Quote")').on("click",function(){pcl.addEvent(51),pmc.interfaceClick(this,"quote: get your free quote")}),$('a:contains("Start Your Online Application")').on("click",function(){pcl.addEvent(51),pmc.interfaceClick(this,"quote: start your online application")}),$('a:contains("Calculate Your Needs")').on("click",function(){pmc.interfaceClick(this,"quote: calculate your needs")}),$('a:contains("Learn More")').on("click",function(){pmc.interfaceClick(this,"quote: learn more")})),"/services.html"==window.location.pathname&&($('[data-target="#rs-services-video-modal"]').on("click",function(){pmc.interfaceClick(this,"play video:services:hero")}),$('[data-target="#rs-payment-video-modal"]').on("click",function(){pmc.interfaceClick(this,"play video:services:payments")}),$('[data-target="#rs-identity-video-modal"]').on("click",function(){pmc.interfaceClick(this,"play video:services:identity")}),$('[data-target="#rs-life-video-modal"]').on("click",function(){pmc.interfaceClick(this,"play video:services:life")}),$('[data-target="#rs-intermedia-video-modal"]').on("click",function(){pmc.interfaceClick(this,"play video:services:business phone")}),$('[data-target="#rs-hc-video-modal').on("click",function(){pmc.interfaceClick(this,"play video:services:checks")}),$('[data-target="#rs-firstchoice-video-modal').on("click",function(){pmc.interfaceClick(this,"play video:services:mortgage")})),"/business-phone-services.html"==window.location.pathname&&$('[data-target="#costco-services-phone-video-modal"]').on("click",function(){pmc.interfaceClick(this,"play video:business phone services:hero")}),"/check-services.html"==window.location.pathname&&$('[data-target="#costco-services-hero-video-modal"]').on("click",function(){pmc.interfaceClick(this,"play video:check services:hero")}),"/mortgage-services.html"==window.location.pathname&&$('[data-target="#costco-services-hero-video-modal"]').on("click",function(){pmc.interfaceClick(this,"play video:mortgage services:hero")})},pmc.videoLinkClick=function(e){pcl.addEvent(55),pcl.addEvar(15,pmc.productID),pcl.addEvar(16,pmc.productName),pmc.setIdandNameMerchEvars(),pcl.addEvar(18,pmc.productDetailType),pcl.addEvar(19,pmc.starRating),""!==pmc.memberProductType&&pcl.addEvar(20,pmc.memberProductType),s.products+="|eVar55=yes",pmc.fireEvt(e,"o","liveclicker video clicked")},pmc.roundStar=function(e){var t="No Rating";return pmc.hasValue(e)&&(e.length>0&&(e=e.replace(" Stars","")),isNaN(e)||(t=Math.round(10*e)/10,t+=" Stars")),t},pmc.compareProductPage=function(){document.referrer.indexOf("/CompareProductsDisplay")>-1||""===document.referrer||window.setTimeout(function(){var e=$(".product");if(!(e.length<1)){$(".add-to-cart-form").on("submit",function(e){pmc.cartAdd(e,this,"Compare Products")});$(e[0]).parents("tr").next().find("td");for(var t=0;t<e.length;t++){var n=e[t];if(pmc.productID=$(n).find(".scProdId").attr("sc.prodid"),pmc.productID!=undefined){pmc.productName=cleanText($(n).find(".description").text()),pcl.addEvent(16),pcl.addEvar(15,pmc.productID),pmc.setIdandNameMerchEvars(),pmc.fireEvt(undefined,"o","compare products");for(var i=0;i<2e3;i++)i++}}window.setTimeout(function(){pcl.addEvent(15),pmc.fireEvt(undefined,"o","compare products")},10)}},10)},pmc.cartRemove=function(e,t){var n=new Array,i=$(e).closest(".order-item, .cart-item");if("row"===t)if(i.length>0){var r=pmc.newOrderItem();if((l=$(i).find(".product-title a")).length>0){var a=l[0];r.description=cleanText($(a).text()),(d=a.href).length>0&&d.indexOf("product.")>0&&(r.itemNumber=d.split("product.")[1].split(".")[0])}r.itemProductId="";var o=$(i).find(".omniture div");o.length>0&&(r.itemProductId=$(o).attr("sc.prodid")),0===jQuery.grep(pmc.excludedItems,function(e){return e.itemNumber===r.itemNumber}).length&&n.push(r)}else{i=jQuery($(e)[0]).parent().parent()[0];r=pmc.newOrderItem();if((l=$(i).find("td a")).length>1)r.description=l[1].title,(d=l[1].href).length>0&&d.indexOf("product.")>0&&(r.itemNumber=d.split("product.")[1].split(".")[0]);r.itemProductId="",$(i).find("td div.omniture div").each(function(){var e=this.getAttribute("sc.prodid");e&&(r.itemProductId=e)}),0===jQuery.grep(pmc.excludedItems,function(e){return e.itemNumber===r.itemNumber}).length&&n.push(r)}if("update"===t)for(var c=$("input").filter(function(){return!!this.id&&!(!this.id.match(/quantity/)&&!this.id.match(/qty/))}),s=0;s<c.length;s++)if("0"===c[s].value){var l,d;i=jQuery($(c)[s]).parent().parent()[0],r=pmc.newOrderItem();if((l=$(i).find("td a")).length>1)r.description=l[1].title,(d=l[1].href).length>0&&d.indexOf("product.")>0&&(r.itemNumber=d.split("product.")[1].split(".")[0]);0===jQuery.grep(pmc.excludedItems,function(e){return e.itemNumber===r.itemNumber}).length&&n.push(r)}if(pmc.debug&&PDB(n),PDB("END cartRemove()"),0!=n.length){var u=n,p={};s=0;if(pmc.hasValue(u)){pcl.addEvent(25);s=0;for(var m=u.length;s<m;s++){(p=u[s]).merchandisingEvar=[],p.merchandisingEvar.push(pmc.newNameValuePair("eVar52",p.itemProductId)),p.merchandisingEvar.push(pmc.newNameValuePair("eVar53",p.description))}pcl.setProductString(pmc.getProductString(u)),pmc.fireEvt(e,"o","cart removal")}}},pmc.cartCheckout=function(e,t){pcl.addEvent(26),pcl.setProductString(pmc.prodStringFromDDO()),pcl.addEvent(14),pcl.addEvar(14,t),pmc.fireEvt(e,"o","cart checkout")},pmc.cartShip=function(){pcl.addEvent(27),pcl.setProductString(pmc.prodStringFromDDO())},pmc.cartShipClick=function(e){pmc.order=this.newOrder();for(var t=$("tr.item"),n=0;n<t.length;n++){var i=this.newOrderItem();i.description=jQuery(t[n]).find("td a")[1].title;var r=$(t[n]).find("td a")[1].href;r.length>0&&r.indexOf("product.")>0&&(i.itemNumber=r.split("product.")[1].split(".")[0]),i.itemProductId="",$(itemrow).find("td div.omniture div").each(function(){var e=this.getAttribute("sc.prodid");e&&(i.itemProductId=e)}),i.quantity=jQuery.trim(jQuery(t[n]).find("td").filter(function(){return this.id.match(/WC_MSOrderItemDetailsSummaryf_td_4/)})[0].innerHTML),i.price=jQuery.trim(jQuery(t[n]).find("td").filter(function(){return this.id.match(/WC_MSOrderItemDetailsSummaryf_td_5/)})[0].innerHTML),i.itemTotal=jQuery.trim(jQuery(t[n]).find("td").filter(function(){return this.id.match(/WC_MSOrderItemDetailsSummaryf_td_6/)})[0].innerHTML),0===jQuery.grep(pmc.excludedItems,function(e){return e.itemNumber.match(i.itemNumber)}).length?pmc.order.orderItems.push(i):pmc.order.excludedItems.push(i)}var a=$("select.addressselect"),o=new Array;for(n=0;n<a.length;n++)o.push(a[n].value);pmc.numberOfAddressesSelected=$.grep(o,function(e,t){return $.inArray(e,o)===t}).length,pmc.numberOfAddressesSelected&&pmc.numberOfAddressesSelected>0&&(pcl.addEvar(27,pmc.numberOfAddressesSelected),pmc.fireEvt(e,"o","shipping address count"))},pmc.PreferredDelivery_init=function(){lastDates=pmc.PreferredDelivery_current(),setTimeout(pmc.PreferredDelivery_Timer,1e3)},pmc.PreferredDelivery_Timer=function(){pmc.PreferredDelivery_current()===lastDates?0!=$(".ui-datepicker:visible").length&&setTimeout(pmc.PreferredDelivery_Timer,250):pmc.interfaceClick(this,"preferred delivery date selected")},pmc.PreferredDelivery_current=function(){var e="";return $(".ship-date-display").each(function(){e+=this.value}),e},pmc.firedVisaCheckout=!1,pmc.cartPay=function(){$("#visa-payment-block img").on("click",function(){pmc.firedVisaCheckout||(pmc.interfaceClick(this,"payment: visacheckout click"),pmc.firedVisaCheckout=!0)}),pcl.addEvent(28)},pmc.cartDeliveryOptions=function(){if(pcl.addEvent(37),pmc.order){for(var e=pmc.order.orderItems,t=0,n=e.length;t<n;t++){var i=e[t];i.merchandisingEvar=[],i.merchandisingEvar.push(pmc.newNameValuePair("eVar52",i.itemProductId)),i.merchandisingEvar.push(pmc.newNameValuePair("eVar53",i.description))}prodString=pmc.getProductString(e)}else prodString=localStorage.getItem("pmcCheckoutProducts");pcl.setProductString(prodString)},pmc.cartReview=function(){pcl.addEvent(29),pcl.setProductString(pmc.prodStringFromDDO())},
pmc.newOrderItem=function(){function e(){this.description="",this.itemNumber="",this.shippingOptions="",this.quantity="",this.itemProductId="",this.price="",this.itemTotal=""}return new e},pmc.newOrder=function(){function e(){this.number="",this.placedDate="",this.membershipNumber="",this.orderItems=new Array,this.excludedItems=new Array,this.subtotal="",this.lessPromoCode="",this.shippingAndHandling="",this.tax="",this.total=""}return new e},pmc.purchase=function(){var e;try{isValidRef("digitalData.cart.transactionID")?(e=digitalData.cart.transactionID)==undefined&&(e=rrData.orderId):e=rrData.orderId,pcl.addEvar("purchaseID",e)}catch(r){}pmc.isPurchase=!0,pcl.addEvent("purchase");try{pcl.addEvar(25,digitalData.cart.memberStatus)}catch(r){}var t="Credit or Debit Card";1==$("#visa-checkout-image-display").length?t="Visa Wallet":1==$("#masterpass-image-display:visible").length&&(t="Masterpass"),pcl.addEvar(57,t);try{deliveryTypes={},$(".omniture").each(function(){try{var e=$(this).find("div").attr("sc.prodid"),t=$(this).closest(".order-item"),n=($(t).find(".delivery-options-selected"),cleanText($(t).find(".delivery-options-selected").first().text())),i=n.indexOf(":");i>-1&&(n=n.slice(0,i)),deliveryTypes[e]=n}catch(r){}}),$.each(digitalData.cart.products,function(){this.isGrocery?this.deliveryType="CostcoGrocery":deliveryTypes.hasOwnProperty(this.id)&&(this.deliveryType=deliveryTypes[this.id])})}catch(r){}try{pcl.setProductString(pmc.prodStringFromDDO())}catch(r){}try{var n=0,i=0;$("#order-items-grocery .order-item").each(function(){var e=1*$(this).find(".itemQuantityPurchased").first().text();n+=$(this).find(".itemPricePurchased").first().text()*e,i+=e}),i>0&&(s.events+=",event69,event70="+n+",event71="+i)}catch(r){}"true"==localStorage.getItem("pmc-showcase-kiosk")&&(pmc.codeQR="showcase"),$('#order-confirmation-header input[type="button"]').on("click",function(){pmc.interfaceClick(this,"order confirmation:continue shopping")})},pmc.pageViewBreadcrumbs=function(){var e="",t={},n={};0==(t=$(".crumbs li")).length&&(t=$("ul#breadcrumbs li")),pmc.breadcrumbs=new Array;for(var i=0;i<t.length;i++)e="",(n=$(t[i]).text())&&(e=$.trim(n)),e.length>0&&pmc.breadcrumbs.push(e)},pmc.getBreadcrumbsString=function(){var e="";if(pmc.breadcrumbs){e=e+"breadcrumb | "+pmc.breadcrumbs[0];for(var t=1;t<pmc.breadcrumbs.length;t++)e=e+":"+pmc.breadcrumbs[t]}return e},pmc.getCategoryBreadcrumbsString=function(){var e="";if(pmc.breadcrumbs){var t=new Array;jQuery.each(pmc.breadcrumbs,function(e,n){t.push(n)}),e=t.splice(1).join(":")}return e},pmc.getBreadcrumbsLinkString=function(e){if(pmc.breadcrumbs){var t=pmc.breadcrumbs.indexOf($.trim($(e).text()));if(0===t)return"breadcrumb | "+pmc.breadcrumbs[t];if(t>0){var n=new Array;return jQuery.each(pmc.breadcrumbs,function(e,t){n.push(t)}),"breadcrumb | "+n.splice(1,t).join(":")}return"Unknown"}return"Unknown"},pmc.pageViewHome=function(){if(wcs.locale!=undefined&&wcs.locale.indexOf("_CA")>0){$(document).on("mousedown","#language-region-set",function(){localStorage.setItem("pmc-supress-ple-for-refresh",window.location.href)});var e=localStorage.getItem("pmc-supress-ple-for-refresh");e&&(e===window.location.href&&(window.pmcSuppressPageLoadEvent=!0),localStorage.removeItem("pmc-supress-ple-for-refresh"))}},pmc.pageViewWarehouseLocatorPage=function(){$("button#executeSearch.submit").on("click",function(){pmc.warehouseLocatorFormSubmitLocation="Warehouse Locator Page"}),$("button#executeUpdate.submit").on("click",function(){pmc.warehouseLocatorFormSubmitLocation="Warehouse Locator Page"}),$("#warehousemapcontent").on("click",'a[href*="WarehouseLocatorDirectionsView"]',function(e){pmc.storeViewDirections(e,e.target.href)}),$("#warehouse-list-container").on("click",'a:contains("directions"), a:contains("Directions")',function(e){var t=$(this).closest("ul").find('a[href*="warehouse-locations"]:first').attr("href");return pmc.storeViewDirections(e,t),!1})},pmc.pageViewWarehouseLocatorDetailsView=function(){pmc.pageType=pmc.pageName="WarehouseLocatorDetailsView";var e=window.location.href;pmc.storeNumber=e.slice(e.lastIndexOf("-")+1,e.lastIndexOf(".html")),$("#oo-warehouse").on("click",pmc.olFeedbackClick),$($("button#getDirections")[0]).click(function(e){return pmc.storeViewDirections(e,window.location.href),!1}),$('a:contains("directions"), a:contains("Directions")').on("click",function(e){return pmc.storeViewDirections(e,window.location.href),!1}),pcl.addEvent(42),pcl.addEvar(42,pmc.storeNumber)},pmc.pageWarehouseTiresLocatorView=function(){pmc.pageName=path.substring(1),$("#warehouse-list").on("mousedown","button",function(e){pmc.interfaceClick(e,"tires locator: select warehouse")})},pmc.storeFindSearch=function(e,t,n){this.storeLocatorFormSubmitLocation=t,this.storeLocatorLocation=n,t.indexOf("Header")>-1&&(this.storeOptionsSelected=new Array,$(".warehouse-options-list :checked").next("label").each(function(){pmc.storeOptionsSelected.push(jQuery.trim(this.innerHTML))})),t.indexOf("Warehouse Locator Page")>-1&&(this.storeOptionsSelected=new Array,$("div#left_nav :checked").next("label").each(function(){pmc.storeOptionsSelected.push(jQuery.trim(this.innerHTML))}),this.storeLocatorLocation="string"==typeof n?n:$("div#left_nav input#txtLocation")[0].value,this.storeLocatorLocation!==undefined&&""!==this.storeLocatorLocation||(this.storeLocatorLocation="(No Search Term Entered)")),this.storeLocatorLocation!==undefined&&""!==this.storeLocatorLocation||(this.storeLocatorLocation="(No Search Term Entered)"),PDB("END storeFindSearch()"),PDB(this.storeLocatorFormSubmitLocation),PDB(this.storeLocatorLocation),PDB(this.storeOptionsSelected),pcl.addEvent(40),pcl.addEvar(40,pmc.storeLocatorLocation),pcl.addEvar(41,pmc.storeLocatorFormSubmitLocation),pmc.fireEvt(e,"o","warehouse find")},pmc.storeBrowseInit=function(e){pcl.addEvent(41),pmc.fireEvt(e,"o","warehouse browse")},pmc._storeViewDetails=function(e){pcl.addEvent(42),pcl.addEvar(42,pmc.storeNumber),pmc.fireEvt(e,"o","warehouse details")},pmc.storeViewDirections=function(e,t){pmc.storeNumber=pcl.qsVal("warehouseNumber",t),""===pmc.storeNumber&&(pmc.storeNumber=t.slice(t.lastIndexOf("-")+1,t.lastIndexOf(".html"))),PDB("END storeViewDirections()"),PDB(pmc.storeNumber),pcl.addEvent(43),pcl.addEvar(42,pmc.storeNumber),pmc.fireEvt(e,"o","warehouse directions")},pmc.landingPageView=function(){pmc.pageType="Landing";var e=path.split(".html");e.length>0&&(e=e[0]),e=e.replace("/",""),pmc.pageName="Landing | "+e},pmc.groceryPageView=function(){if("Search Results|No Search Results".indexOf(pmc.ccPageType)>-1)return pmc.pageViewSearchPage();pmc.pageViewCategoryPage()},pmc.pageViewSearchPage=function(){"/CatalogSearch"!=window.location.pathname&&"/grocery-household.html"!=window.location.pathname&&pmc.pageViewCategoryPage();var e=window.location.search;if(e&&e.indexOf("keyword")>=0)if(pmc.searchKeyword=pmc.urlDecode(e.split("keyword=")[1].split("&")[0]),pcl.addEvar(10,pmc.searchKeyword),$("#no-results-suggestions").length>0)pcl.addEvent(11);else if(-1==window.location.search.indexOf("currentPage")){var t=[],n=$(".product-list .product").slice(0,100);$(n).each(function(e){prod=new pstrProdBldr,prod.prodId($(this).find("div.omniture").children("div.scProdId").attr("sc.prodid")),prod.prodName($(this).find("img").attr("alt")),prod.addEvar(59,e+1),t.push(prod.pstr())}),pcl.setProductString(t.join(","))}},pmc.pageViewCategoryPage=function(){pmc.pageType="Category",window.location.search.indexOf("refine=")>-1&&(pmc.pageType="Facet"),pmc.pageName=pmc.pageType+" | "+jQuery("<div/>").html(window.location.pathname.split("/")[1].split(".html")[0]).text(),pmc.breadcrumbs&&pmc.breadcrumbs.length>0&&pcl.addEvar(7,pmc.getCategoryBreadcrumbsString())},pmc.refineBrowse=function(e,t,n){pmc.refine=pcl.qsVal("refine"),pmc.searchKeyword=pcl.qsVal("keyword"),pmc.browseRefinementCategory="Shop By "+t,pmc.browseRefinementSelection=null!==n?n:$.trim($("<div/>").html(e.innerHTML.split(" (")[0]).text()),pcl.addEvent(8),pcl.addEvar(8,pmc.browseRefinementSelection),pcl.addEvar(9,pmc.browseRefinementCategory),pmc.fireEvt(e,"o","browse refinement")},pmc.refineHandler=function(){if($(this).prop("checked")){var e=cleanText($(this).closest(".panel-default").find(".panel-heading").text()),t=cleanText($(this).parent().text()),n=cleanText($(this).parent().find(".count").text());t=cleanText(t.replace(n,""));var i=pcl.qsVal("keyword");i.length>0?pmc.refineSearch(this,i,t,e):pmc.refineBrowse(this,e,t)}},pmc.shopByCategoryHandler=function(){if(cleanText($(this).text()).toLowerCase().match("select a different"))return this;var e=cleanText($.trim($(this).text()).split("(")[0]);"Category"===pmc.pageType?pmc.navClick(this,"left rail | "+e):pmc.refineBrowse(event,"Category",e)},pmc.searchKeywordFired="",pmc.search=function(e,t){if(PDB("this.search(); BEGIN"),t!==undefined&&null!==t)if(""!==$.trim(t))if(pmc.searchKeyword=t,PDB("pmc.search(); END"),!0===pmc.debug&&PDB("this.searchKeyword: "+pmc.searchKeyword),pmc.searchKeyword=pmc.searchKeyword.toLowerCase(),pmc.searchKeyword!==pmc.searchKeywordFired){pmc.searchKeywordFired=pmc.searchKeyword,pcl.addEvent(10),pcl.addEvar(10,pmc.searchKeyword),pcl.addEvar(11,""!=pmc.searchType?pmc.searchType:"typed");var n="All Products";"grocery-household.html"==$("#search-dropdown-select").val()&&(n="Grocery"),pcl.addEvar(79,n),pmc.fireEvt(e,"o","search button click")}else PDB("this.search(); Already fired");else PDB("this.search(); END - no keyword");else PDB("this.search(); END - no keyword")},pmc.refineSearch=function(e,t,n,i){pmc.searchKeyword=t,pmc.searchRefinementSelection=n,pmc.searchRefinementCategory="Shop By "+i,PDB("pmc.refineSearch(); END"),!0===pmc.debug&&(PDB("searchKeyword "+pmc.searchKeyword),PDB("searchRefinementSelection "+pmc.searchRefinementSelection),PDB("searchRefinementCategory "+pmc.searchRefinementCategory)),pcl.addEvent(12),pcl.addEvar(10,pmc.searchKeyword),pcl.addEvar(12,pmc.searchRefinementSelection),pcl.addEvar(13,pmc.searchRefinementCategory),pmc.fireEvt(e,"o","search refinement")},pmc.clickSearchResult=function(e){var t=$(event.target).closest(".product"),n=$(t).find('a[href*=".product."]'),i=[];$('.product-list a[href*=".product."').each(function(){i.push($(this).attr("href"))});var r=$.inArray($(n).attr("href"),i)+1;prod=new pstrProdBldr,prod.prodId($(t).find("div.omniture").children("div.scProdId").attr("sc.prodid")),prod.prodName($(t).find("img").attr("alt")),pcl.setProductString(prod.pstr()),pmc.searchKeyword=pmc.urlDecode(pmc.searchKeyword),pcl.addEvent(13),pcl.addEvar(10,pmc.searchKeyword),-1==window.location.search.indexOf("currentPage")&&pcl.addEvar(59,r),pmc.fireEvt(e,"o","search result click")},pmc.diamondFinderClick=function(myevent){pmc.diamondFinderClickToggles=eval("("+decodeURIComponent(document.location.href.split("#")[1]).replace(/"/g,"'")+")"),pmc.diamondFinderClickToggles.changedFromDefaults=!1,1===pmc.diamondFinderClickToggles.shapes.length&&"ROUND"===pmc.diamondFinderClickToggles.shapes[0]||(pmc.diamondFinderClickToggles.changedFromDefaults=!0),0===pmc.diamondFinderClickToggles.options.price[0]&&7===pmc.diamondFinderClickToggles.price[1]||(pmc.diamondFinderClickToggles.changedFromDefaults=!0),0===pmc.diamondFinderClickToggles.options.clarity[0]&&5===pmc.diamondFinderClickToggles.clarity[1]||(pmc.diamondFinderClickToggles.changedFromDefaults=!0),0===pmc.diamondFinderClickToggles.options.color[0]&&5===pmc.diamondFinderClickToggles.color[1]||(pmc.diamondFinderClickToggles.changedFromDefaults=!0),0===pmc.diamondFinderClickToggles.options.carats[0]&&14===pmc.diamondFinderClickToggles.carats[1]||(pmc.diamondFinderClickToggles.changedFromDefaults=!0),pcl.addEvent(47),pcl.addEvar(47,pmc.diamondFinderClickToggles.changedFromDefaults),pmc.fireEvt(myevent,"o","diamond finder")},pmc.inkFinderClick=function(e,t){pmc.inkFinderSearchTerm=null===t?jQuery.trim(e.href.split("keyword=")[1].split("&")[0]):t,pmc.debug&&PDB(pmc.inkFinderSearchTerm),PDB("END inkFinderClick()"),pcl.addEvent(48),pcl.addEvar(48,pmc.inkFinderSearchTerm),pmc.fireEvt(e,"o","ink finder")},pmc.recommendationClick=function(e){e.href.indexOf("RRSTRAT=")>-1&&(pmc.recommendationStrategy=jQuery.trim(e.href.split("RRSTRAT=")[1].split("&")[0])),e.href.indexOf("RRPLACE=")>-1&&(pmc.recommendationPlacement=jQuery.trim(e.href.split("RRPLACE=")[1].split("&")[0])),e.href.indexOf("RRPROD=")>-1&&(pmc.recommendationTargetProduct=jQuery.trim(e.href.split("RRPROD=")[1].split("&")[0])),pmc._recommendationClick(e)},pmc._recommendationClick=function(e){pcl.addEvent(36),pcl.addEvar(36,pmc.recommendationStrategy),pcl.addEvar(37,pmc.recommendationPlacement),pcl.addEvar(38,pmc.recommendationTargetProduct),pmc.fireEvt(e,"o","rich relevance click")},pmc.richRelevanceClick=function(e,t,n,i){pmc.recommendationStrategy=t,pmc.recommendationPlacement=n,pmc.recommendationTargetProduct=i,pmc._recommendationClick(e)},pmc.targetRecoClick=function(e,t){var n=$(this).closest("[data-reco-act]");if(1==n.length){var i=$(n).attr("data-reco-act"),r=$(n).attr("data-reco-exp"),a=prodIdFromUrl($(this).attr("href")),o=$(this).attr("data-bi-sku");prod=new pstrProdBldr,prod.sku(o),prod.addEvar(21,$(this).index()+1),prod.addEvar(43,r),prod.addEvar(52,a),prod.addEvar(83,"no"),prod.addEvar(81,pmc.pageType),pcl.setProductString(prod.pstr()),pcl.addEvar(76,a),pcl.addEvar(82,i)}else pcl.addEvar(76,t);pcl.addEvent(68),pmc.fireEvt(e,"o","target reco click");var c=$(".at-criteria-title, #mbox-recommend h3").first().text();localStorage.setItem("pmc-reco-last-clicked",t+"|"+c+"|"+pmc.pageType)},pmc.targetRecoImpression=function(e,t){var n=$(e).attr("data-reco-act"),i=$(e).attr("data-reco-exp"),r=[];$(".product-list .product").slice(0,100);$(t).each(function(){var e=prodIdFromUrl($(this).attr("href")),t=$(this).attr("data-bi-sku");prod=new pstrProdBldr,prod.sku(t),prod.addEvar(21,$(this).index()+1),prod.addEvar(43,i),prod.addEvar(52,e),prod.addEvar(83,"no"),prod.addEvar(81,pmc.pageType),r.push(prod.pstr())}),pcl.setProductString(r.join(",")),pcl.addEvar(82,n),pcl.addEvent(72),pmc.fireEvt(!0,"o","reco impression")},pmc.isUrlExternal=function(e){if("https://www.costco.ca/masterpass.html"==e)return!1;var t=e.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof t[2]&&t[2].length>0&&t[2].replace(new RegExp(":("+{"http:":80,"https:":443}[location.protocol]+")?$"),"")!==location.host},pmc.promotionNameFromEspot=function(t){pName="",clickedLinkText="",$(t).text().indexOf("/ClickInfo")>0&&(t=$(t).closest("a")[0]),pmc.memberProductType=jQuery($(t)).closest("div.product-tile").children(".omniture").children("div.scMemberProductType").attr("sc.memberproducttype"),pmc.memberProductType||(pmc.memberProductType="na"),pmc.prodId=jQuery($(t)).closest("div.product-tile").children(".omniture").children("div.scProdId").attr("sc.prodid"),clickedLinkText=cleanText($(t).text());var n=t;"A"!==$(t).prop("tagName")&&(n=$(t).find("a:not(.co-lists)"));var i=$(n).attr("href"),r=$(t).closest("[data-bi-placement]").attr("data-bi-placement");if(r==undefined&&(r=$(t).find("[data-bi-placement]:first").attr("data-bi-placement")),r==undefined){var o=$(t).closest("div.genericESpot").attr("id");o!=undefined&&(r=o.split("WC_ContentAreaESpot_div_1_")[1])}r==undefined&&(r=$(t).closest(".espot").find("[data-bi-placement]").attr("data-bi-placement")),r==undefined&&"WarehouseLocator"==pmc.pageType&&(r=$('[id^="WC_ContentAreaESpot"]').attr("id")),r==undefined&&(r=$(t).closest("[data-bi-layout]").attr("data-bi-layout")),r==undefined&&(r="unknown");e:try{var c=i.split("?")[0].split("/"),s=jQuery.trim(c[c.length-1].split(".")[0]);if("fp-membership-renewal_Slot 1"==r){title=pName=r+" | "+cleanText($(t).find("img").attr("alt"));break e}if("FORM"===t.nodeName){t.action.indexOf("ProductDisplay")>-1&&(pName=r+" | product | "+jQuery($(t)).find("input").filter(function(){return this.name.match(/partNumber/)})[0].value);break e}if(pmc.isUrlExternal(i)){pName=r+" | ext | "+i;break e}if(i.indexOf("/CatalogSearch")>-1||$(t).text().indexOf("/CatalogSearch")>0){pName=r+" | search | "+pcl.qsVal("keyword",i);break e}var l=pcl.qsDict(i);if(l.hasOwnProperty("refine")){var d="unknown";for(a in l)("type"===a||a.indexOf("-type")>-1)&&(d=l[a]);pName=r+" | facet | "+s+" | "+d;break e}if(i.indexOf("/ManageShoppingCartCmd?")>-1&&"add"==l.actionType&&l.itemNumber!=undefined){pName=r+" | cart add | "+l.itemNumber;break e}if(i.indexOf(".product.")>-1||$(t).text().indexOf(".product.")>0){pName=r+" | product | "+i.split(".product.")[1].split(".html")[0];break e}if("Footer"===r)return pmc.navClick(t,"footer | "+jQuery.trim(c[c.length-1].split(".")[0])),!0;pName=r+" | "+s}catch(e){}return null!==pName&&""!==pName||(pName=r+" | unknown | "+$(t).text()),pmc.prodId&&""!==pmc.prodId&&(pName.indexOf(pmc.prodId)<0&&(pName+=" | "+pmc.prodId),clickedLinkText&&""===clickedLinkText&&(pName+=":"+clickedLinkText)),pName},pmc.inSitePromoClick=function(e,t){t==undefined&&(t=this),$(this).is(".mkl-carousel a")||(title=pmc.promotionNameFromEspot(t),"| #"!=title.slice(-3)&&(pcl.addEvent(5),pcl.addEvar(5,title),pmc.fireEvt(e,"o","eSpot click")))},pmc.interfaceClick=function(e,t){pmc.interfaceClickElement=t,pcl.addEvent(14),pcl.addEvar(14,pmc.interfaceClickElement),pmc.fireEvt(e,"o","interface click")},pmc.setSearchEngineReferrer=function(){pmc.searchEngineReferrer=jQuery.grep(pmc.searchReferrers,function(e){var t=document.referrer;return t.indexOf(e)>-1||t.indexOf(e.replace(".com",".ca"))>-1})},pmc.setSitePlatform=function(){pmc.hostname=window.location.hostname,pmc.isPC=!0,pmc.sitePlatform="PC"},pmc.setAuthenticationStatus=function(){pmc.authenticationStatus="Unauthenticated",isValidRef("COSTCO.util.getMemberCookie")&&1==COSTCO.util.getMemberCookie().signedIn&&(pmc.authenticationStatus="Authenticated")},pmc.setLanguage=function(){if("undefined"==typeof wcs||wcs.locale==undefined){pmc.lang="en";var e="",t=$("input[name=settings]");if(pmc.hasValue(t)&&t.length>0&&t.val().indexOf("fr-CA")>=0)pmc.lang="fr";else if(e=$("html").attr("lang"),pmc.hasValue(e)&&e.indexOf("fr")>=0)pmc.lang="fr";else if((t=$("input#langId"))&&t[0])"-25"===t[0].value&&(pmc.lang="fr");else{var n=$(".drop_down_language_select option:selected");pmc.hasValue(n)&&n.length>0||(n=$("#selLanguage option:selected")),"-25"===n.val()&&(pmc.lang="fr"),lang=$("html")[0].lang}}else pmc.lang=wcs.locale.substring(0,2)},pmc.emailSignUp=function(e,t){pmc.emailSignUpPageLocation=t,pcl.addEvent(44),pcl.addEvar(44,pmc.emailSignUpPageLocation),pmc.fireEvt(e,"o","email sign up")},pmc.visitFromEmail=function(){var e=pcl.qsVal("EMID");0!=e.length&&(pmc.codeEmail=e)},pmc.visitFromExternal=function(){var e=pcl.qsVal("EXTID");0!=e.length&&(pmc.codeExternal=e)},pmc.visitFromInternal=function(){var e=pcl.qsVal("COSTID");0!=e.length&&(pmc.codeInternal=e)},pmc.visitFromSocial=function(){var e=pcl.qsVal("SOCID");0!=e.length&&(pmc.codeSocial=e)},pmc.visitFromQR=function(){var e=pcl.qsVal("QRID");0!=e.length&&(pmc.codeQR=e)},pmc.navClick=function(e,t){if(PDB("BEGIN navClick() "+t),pmc.navigationElement=cleanText($("<div/>").html(t).text()).toLowerCase(),PDB("END navClick() "+t),-1==t.indexOf("category tile |")&&-1==t.indexOf("left side nav |"))try{var n=$(e).closest("a").attr("href");if(n!=undefined&&!pmc.isUrlExternal(n))return void sessionStorage.setItem("bi-nav-event",pmc.navigationElement)}catch(i){}!1!==$(e).is(":enabled")&&(pcl.addEvent(6),pcl.addEvar(6,pmc.navigationElement),pmc.fireEvt(e,"o","navigation click"))},pmc.getLayoutMode=function(){if(layoutMode="desktop",isValidRef("COSTCO.util.getScreenType")){var e=COSTCO.util.getScreenType();e.indexOf("PHONE")>-1?layoutMode="mobile":e.indexOf("TABLET")>-1&&(layoutMode="tablet")}return layoutMode},pmc.olFeedbackClick=function(e){pcl.addEvent(67),pmc.fireEvt(e,"o","opinionlab feedback click")},pmc.E2E3_bind=function(){var e='#LogonForm input[type="submit"], #RegisterForm input[type="submit"]';pcl.$Required(e).on("click",pmc.E2E3_loginClick)},pmc.E2E3_loginClick=function(){var e="Unknown";return $("#LogonForm").length>0?e="Sign in":$("#RegisterForm").length>0&&(e="Register"),localStorage.setItem("pmcauthaction",e),!0},pmc.E2E3_loginDetect=function(){var e=localStorage.getItem("pmcauthaction");null!=e&&0!==e.length&&(pmc.signedInMethod=e,localStorage.removeItem("pmcauthaction"))},pmc.formSubmitListener=function(e){var t=e.target,n=$(t).attr("id"),i=$(e.target).attr("action"),r=$(e.target).find('input[type="text"], input[type="search"]').val();if("/EmailSubscription"==i||"/email-sign-up.html"==i){var a="";return a="EmailOffersForm"==n?"Footer":"header_emailSignup"==n?"Header":$(t).closest("#costcoModal").length>0?"Footer":"Unknown",void(pcl.isValidEmail(r)&&pmc.emailSignUp(this,a))}if("InkSearchForm"==n)return r===undefined&&(r=$(t).find(".PLACEHOLDER-INPUT").val()),void pmc.inkFinderClick(this,r);i.indexOf("/warehouse-locations")>-1&&(a="WarehouseSearchForm"==n?"Footer":"warehouse_locator_search-desktop"==n?"Header":"Unknown",pmc.storeFindSearch(this,a,r)),$(e.target).find("#search-warehouse-container").length>0&&(r=$("#search-warehouse").val(),pmc.storeFindSearch(this,"Warehouse Locator Page",r))},pmc.navigationTagging=function(){function e(e,t,n){$(e).is(t.target)&&pmc.navClick(e,n)}$(".category-level-1").on("mouseenter",function(){pmc.topLevelCat=cleanText($(this).find("a").text().trim()+":"),PDB("PMC: nav category: "+pmc.topLevelCat)}),$(document).on("click",function(e){var t=$(e.target);if($(t).is("#tertiary-category-container .category-level-1 > a")){var n=cleanText($("#tertiary-category-container .active").text())+":";pmc.navClick(t,"flyout | "+pmc.topLevelCat+n+cleanText($(t).text()))}else if($(t).is("#secondary-category-container .category-level-1 > a"))$(t).parent().attr("data-sublevel")==undefined&&pmc.navClick(t,"flyout | "+pmc.topLevelCat+cleanText($(t).text()));else if($(t).is(".category-level-1 > a"))"mobile"!=pmc.getLayoutMode()&&pmc.navClick(t,"left rail | "+$(t).text());else if($(t).is(".ancillary_level_1 > a")){var i=(o=$(t).attr("href")).indexOf("?");if(i>-1&&(o=o.slice(0,i)),"mobile"==pmc.getLayoutMode()){if("/grocery-household.html | /warehouse-locations".indexOf(o)<0)return;pmc.navClick(t,"topnav | "+$(t).text())}else pmc.navClick(t,"topnav | "+$(t).text())}else if($(t).is(".category-level-2 > li > a"))pmc.navClick(t,"flyout | "+pmc.topLevelCat+$(t).text());else if($(t).is(".category-level-3 > li > a")){n=$(t).parents(".category-level-2").children("li:first").text()+":";pmc.navClick(t,"flyout | "+pmc.topLevelCat+n+$(t).text())}else{var r;if(1==(r=$(t).closest("#rr-placement a.rrTile")).length)(o=$(r).attr("href")).length>0&&o.indexOf("product.")>0&&(a=o.split("product.")[1].split(".")[0]),pmc.richRelevanceClick(e,"","",a);if(1==(r=$(t).closest('#mbox-recommend a[href*=".product."], .mbox-track-recos a[href*=".product."], [data-bi-track="reco"] a[href*=".product."]')).length){var a,o;(o=$(r).attr("href")).length>0&&o.indexOf("product.")>0&&(a=o.split("product.")[1].split(".")[0]);var c="";pmc.targetRecoClick.call(r,e,a,c)}var s=$(t).closest("a.external");s.length>0?pmc.externalLink=$(s).attr("href"):null!=pmc.externalLink&&($(t).is('.modal-content button:contains("Visit External Link")')&&pmc.interfaceClick(t,"ext link visit:"+pmc.externalLink),$(t).is('.modal-content button:contains("Lien externe")')&&pmc.interfaceClick(t,"ext link visit:"+pmc.externalLink),$(t).is('.modal-content button:contains("Cancel")')&&pmc.interfaceClick(t,"ext link cancel:"+pmc.externalLink))}}),$(document).on("mousedown",function(e){var t=$(e.target);if($(t).is("#oo_tab, #opinionLabFooterLink"))pmc.olFeedbackClick(e);else{1==$(t).closest("#Home_Ancillary_Popover_4-container").length&&$('a[href="/installed-products.html"]').closest(".row").attr("data-bi-placement","Home_Ancillary_Popover_4");var n=$(t).closest('[data-bi-placement*="Home_Ancillary_Popover"]');if($(n).length>0){var i=$(n).attr("data-bi-placement");"undefined"!=typeof wcs&&wcs.locale!=undefined&&wcs.locale.indexOf("_CA")>0&&(i+="_ca");var r=pmc.placementMap[i];"string"==typeof r&&""!=r||(r="unknown");var a=t.closest("a");$(a).children().length>0?pmc.inSitePromoClick(e,a):pmc.navClick(t,"topnav | "+r+":"+cleanText($(a).text()))}}}),$('#navigation-widget a[href*="/grocery-household.html"]').on("click",function(t){e(this,t,"topnav | grocery")}),$('#navigation-widget a[href*="costcobusiness"]').on("click",function(t){e(this,t,"topnav | business center")}),$('#navigation-widget a[href*="/Pharmacy/"], #navigation-widget a[href*="costcopharmacy.ca"]').on("click",function(t){e(this,t,"topnav | pharmacy")}),$('#navigation-widget a[href*="/services.html"]').on("click",function(t){e(this,t,"topnav | services")}),$('#navigation-widget a[href*="costcotravel"]').on("click",function(t){e(this,t,"topnav | travel")}),$('#navigation-widget a[href*="costcophoto"]').on("click",function(t){e(this,t,"topnav | photo")}),$('#navigation-widget a[href*="/optical.html"]').on("click",function(t){e(this,t,"topnav | optical")}),$('#navigation-widget a[href*="/join-costco.html"]').on("click",function(t){e(this,t,"topnav | membership")}),$('#navigation-widget a[href*="locations"]').on("click",function(t){e(this,t,"topnav | locations")}),$("#navigation-flyout-container").on("click",".genericESpot a",function(e){$(this).closest(".category-level-2").length>0||pmc.inSitePromoClick(e,this)}),$("#warehouse-coupons, #warehouse-savings").on("click",function(){pmc.navClick(this,"header | View Warehouse Coupons ")}),$("#customer-service-link").on("click",function(){pmc.navClick(this,"header | Customer Service")}),$('#header-widget a[href*="LogonForm"], #header-widget a[href*="AccountInformationView"]').on("click",function(){pmc.navClick(this,"header | account")}),$('#header-widget a[href*="CheckoutCartView"]').on("click",function(){pmc.navClick(this,"header | cart")}),$("ul#lob-navigation a").on("click",function(){pmc.navClick(this,"header | "+$(this).text())}),$(document).on("click","#target-leftsidecont a",function(){0===$(this).find(".co-arrow-right").length&&0===$(this).find(".co-arrow-right").length&&pmc.navClick(this,"left side nav | "+$(this).text())}),$("ul#header_links1.axs.navigation a").on("click",function(){pmc.navClick(this,"header | "+this.innerHTML)}),$("ul#header_links a").on("click",function(){pmc.navClick(this,"topnav | "+this.innerHTML)}),$("a#WC_CachedHeaderDisplay_Link_2.header-logo").on("click",function(){pmc.navClick(this,"logo | "+jQuery(this).find("img")[0].alt)}),$(".logo img").on("click",function(){pmc.navClick(this,"logo | "+$(this).attr("alt"))}),$("#category-navigation").on("click",function(e){if($(e.target).closest("a").attr("id")){var t=$(e.target).closest("a").attr("id").match(/wc_contentareaespot/i);t&&t.length>0?pmc.inSitePromoClick(e,$(e.target).closest("a")):e.target.href!==undefined&&(""===$(e.target).parents("div").parents("div")[0].id?(PDB("flyout | "+e.target.innerHTML),pmc.navClick(e.target,"flyout | "+e.target.innerHTML)):(PDB("left rail | "+e.target.innerHTML),pmc.navClick(e.target,"left rail | "+e.target.innerHTML)))}else e.target.href!==undefined&&(""===$(e.target).parents("div").parents("div")[0].id?(PDB("flyout | "+e.target.innerHTML),pmc.navClick(e.target,"flyout | "+e.target.innerHTML)):(PDB("left rail | "+e.target.innerHTML),pmc.navClick(e.target,"left rail | "+e.target.innerHTML)))})},pmc.footerTagging=function(){setTimeout(function(){$("li.footer-column a").on("click",function(){pmc.navClick(this,"footer | "+this.innerHTML.replace(/(\r\n|\n|\r)/gm,""))})},1e3),$("#footer-widget a:not(#opinionLabFooterLink)").on("click",function(){pmc.navClick(this,"footer | "+$(this).text())}),$(".crumbs > li a").on("click",function(){pmc.navClick(this,pmc.getBreadcrumbsLinkString(this))}),$("ul#breadcrumbs > li a").on("click",function(){pmc.navClick(this,pmc.getBreadcrumbsLinkString(this))})},pmc.documentReady=function(){if(pmc.fDebugExceptions="yes"===pmc.getDebugValue("pointmarcDebug"),pmc.dbForceErrorOn=pmc.getDebugValue("pointmarcForceErrorOn"),prx.isPharmacy())return pmc.navigationTagging(),pmc.lang="en",void pmc.setSitePlatform();pcl.initalize();var t={E1:function(){pcl.addEvent(1),PDB("| RUNNING LOCALLY: "+pmc.ver),PDB("BEGIN pageView()"),pmc.pmcPSTDate=pmc.GetPSTDateString()},dataLayerFix:function(){if("undefined"==typeof PageAnalyticsInfo){PDB("Missing Data Layer");var e=$('script:contains("PageAnalyticsInfo = {")').first().text().trim();if(""!=e){var t=/PageAnalyticsInfo\s*=\s*\{pageType:\s*'(.*)',pageName:\s*'(.*)'\s*\};/g.exec(e);null!=t&&3==t.length&&(window.PageAnalyticsInfo={pageType:t[1],pageName:t[2]},PDB("Fixed Bad Data Layer"))}}},_setAuthenticationStatus:function(){pmc.setAuthenticationStatus(),"Authenticated"==pmc.authenticationStatus&&pmc.E2E3_loginDetect()},_setSitePlatform:pmc.setSitePlatform,_setLanguage:pmc.setLanguage,_visitFromEmail:pmc.visitFromEmail,_visitFromExternal:pmc.visitFromExternal,_visitFromInternal:pmc.visitFromInternal,_visitFromSocial:pmc.visitFromSocial,_visitFromQR:pmc.visitFromQR,_setVideo:pmc.setVideo,_pageViewBreadcrumbs:pmc.pageViewBreadcrumbs,_setSearchEngineReferrer:pmc.setSearchEngineReferrer,breadCrumbs:function(){var e=$(".crumbs");0===e.length&&(e=$("#breadcrumbs"));var t=$(e).find("li:nth-child(2)").text().trim();t.length>0&&(pcl.addEvar(63,t),t="",$(e).find("li").each(function(e){e>1&&(t+=" | "),e>0&&(t+=$(this).text().trim())}),pcl.addEvar(64,t),pmc.V64BreadCrumbs=t)},detectShowcaseKiosk:function(){var e=_satellite.readCookie("wcMember");"string"==typeof e&&"123456789123456789"==e.slice(0,18)&&localStorage.setItem("pmc-showcase-kiosk","true")},determinePageNameType:function(){pmc.pageType="Undetermined",pmc.pageName="Undetermined";var e=window.location.pathname;if(pmc.ccPageType="",pmc.ccPageName="","object"==typeof PageAnalyticsInfo?(pmc.ccPageName=PageAnalyticsInfo.pageName,pmc.ccPageType=PageAnalyticsInfo.pageType):isValidRef("digitalData.page.pageName")?(pmc.ccPageName=digitalData.page.pageName,pmc.ccPageType=digitalData.page.pageType):$("#left_nav div:contains('Category')").length>0&&(pmc.ccPageType="Category",pmc.ccPageName=pmc.ccPageType+" | "+$(document).attr("title")),"Generic Error"===$("div#errorPage h1").text())return pmc.pageType="GenericError",void(pmc.pageName="GenericError");if($("h1").text().indexOf("Product Not Found")>=0){pmc.pageType="Product Not Found";var t=window.location.href,n="";return t.length>0&&t.indexOf("product.")>0&&(n=t.split("product.")[1].split(".")[0]),void(pmc.pageName=pmc.pageType+" | "+n)}var i=undefined,r=e.split("*").join("%").split("/");if(r.length>1&&""!=r[r.length-1]){var a=new RegExp(r[r.length-1],"i");this.knownPage=$.each(pmc.pagesByPath,function(e,t){if(t.pathname.match(a))return i=t,!1})}if(i==undefined&&(i=pmc.pagesByType[pmc.ccPageType]),i!=undefined)return i.hasOwnProperty("type")?(pmc.pageType=i.type,pmc.pageName=pmc.pageType+" | "+jQuery("<div/>").html(i.title).text()):i.hasOwnProperty("nameAndType")?pmc.pageName=pmc.pageType=i.nameAndType:i.hasOwnProperty("title")&&(""!=pmc.ccPageType?(pmc.pageName=pmc.ccPageType+" | "+jQuery("<div/>").html(i.title).text(),pmc.pageType=pmc.ccPageType):(pmc.pageName=jQuery("<div/>").html(i.title).text(),pmc.pageType=jQuery("<div/>").html(i.title).text())),void("function"==typeof i.onPageView&&i.onPageView(i));"object"==typeof PageAnalyticsInfo?(pmc.pageType=PageAnalyticsInfo.pageName,pmc.pageName=PageAnalyticsInfo.pageType):(pmc.pageType="Unknown",pmc.pageName=e.substring(1))},setPageNameType:function(){pcl.addEvar(1,pmc.pageName),pcl.addEvar(2,pmc.pageType)},isErrorPage:function(){var e=document.getElementsByTagName("title")[0].innerHTML.trim();(e.toLowerCase().indexOf("error")>=0||"Category Not Found"===e||"Generic Error"==$("title").text().trim())&&pcl.addEvent(58)},trackSignIn:function(){"Sign in"==pmc.signedInMethod&&pcl.addEvent(2),"Register"==pmc.signedInMethod&&pcl.addEvent(3)},trackNavElement:function(){var e=sessionStorage.getItem("bi-nav-event");"string"==typeof e&&(sessionStorage.removeItem("bi-nav-event"),pcl.addEvent(6),pcl.addEvar(6,e))},authenticationStatus:function(){pmc.authenticationStatus&&pmc.authenticationStatus.length>0&&pcl.addEvar(26,pmc.authenticationStatus)},_setProductString:function(){pmc.productString&&pmc.productString.length>0&&pcl.setProductString(pmc.productString)},_codeEmail:function(){pmc.codeEmail&&pmc.codeEmail.length>0&&(pcl.addEvar(30,pmc.codeEmail),pcl.addEvent(30),pmc.channelAttributionLastTouch="Email",pmc.channelAttributionLinear="Email")},_codeExternal:function(){pmc.codeExternal&&pmc.codeExternal.length>0&&(pcl.addEvar(31,pmc.codeExternal),pcl.addEvent(31),pmc.channelAttributionLastTouch="External link",pmc.channelAttributionLinear="External link")},_codeInternal:function(){pmc.codeInternal&&pmc.codeInternal.length>0&&(pcl.addEvar(32,pmc.codeInternal),pcl.addEvent(32),
pmc.channelAttributionLastTouch="Costco link",pmc.channelAttributionLinear="Costco link")},_codeSocial:function(){pmc.codeSocial&&pmc.codeSocial.length>0&&(pcl.addEvar(33,pmc.codeSocial),pcl.addEvent(33),pmc.channelAttributionLastTouch="Social link",pmc.channelAttributionLinear="Social link")},_codeQR:function(){pmc.codeQR&&pmc.codeQR.length>0&&(pcl.addEvar(34,pmc.codeQR),pcl.addEvent(34),pmc.channelAttributionLastTouch="QR Code",pmc.channelAttributionLinear="QR Code")},_searchEngineReferrer:function(){pmc.searchEngineReferrer&&pmc.searchEngineReferrer.length>0&&(pmc.channelAttributionLastTouch="Search engine",pmc.channelAttributionLinear="Search engine")},setAttribution:function(){pmc.channelAttributionLastTouch&&pmc.channelAttributionLastTouch.length>0&&pcl.addEvar(28,pmc.channelAttributionLastTouch),pmc.channelAttributionLinear&&pmc.channelAttributionLinear.length>0&&pcl.addEvar(29,pmc.channelAttributionLinear)},_storeNumber:function(){pmc.storeNumber&&pmc.storeNumber.length>0&&(null!=pmc.knownPage&&pmc.knownPage.length>0&&"WarehouseLocatorDetailsView"==pmc.knownPage[0].title&&pcl.addEvent(42),pcl.addEvar(42,pmc.storeNumber))},_clickTaleValues:function(){var e=clickTaleGetUID_PID();null!=e&&(".ca"==window.location.hostname.slice(-3)?pcl.addEvar(68,e):pcl.addEvar(69,e))},reportErrors:function(){var e=window.location.host.indexOf("m.costco.")>-1?"www.costco.":"m.costco.";(r=$('a[href*="'+e+'"]').length)>0&&(pmc.V66ErrTags="crosslinks: "+r+" on "+$('meta[name="LocalName"]').attr("content"));var t=localStorage.getItem("pmc-ikid");if("string"==typeof t){var n="kiosk ",i=localStorage.getItem("pmc-whnum");return"string"==typeof i&&(n+="wh#"+i+" "),n+=t,pcl.addEvent(66),void pcl.addEvar(66,n)}var r;e=window.location.host.indexOf("m.costco.")>-1?"www.costco.":"m.costco.";if((r=$('a[href*="'+e+'"]').length)>0&&(pmc.V66ErrTags="crosslinks"),pmc.V66ErrTags.length>0)pcl.addEvent(66),pcl.addEvar(66,pmc.V66ErrTags.trim());else{var a=localStorage.getItem("pmc-error");"string"==typeof a&&""!=a&&(pcl.addEvent(66),pcl.addEvar(66,a),localStorage.removeItem("pmc-error"))}pmc.V66ErrTags=""},varsForAllEvents:pmc.varsForAllEvents,dbEvent:function(){PDB(s)},firePageView:function(){if(!0===window.pmcSuppressPageLoadEvent)return console.log("Suppressing Page Load Event"),void pcl.clearSObj();s.sa(pmcPlatform.getProp("account")),s.t(),pcl.clearSObj()},fireExcludedItems:function(){pmc._excludedItems()},addFormListener:function(){$(window).on("submit",pmc.formSubmitListener)},E2:function(){(pcl.isScriptName("LogonForm")||pcl.isScriptName("RegisterView")||pcl.isScriptName("Logoff"))&&pmc.E2E3_bind()},E5:function(){if("Home"==pmc.pageType){$('[data-bi-placement^="Home_Hero_"]').on("click",'.slick-track [id^="slick-slide"]',pmc.inSitePromoClick),$(".slick-track [id^=slick-slide5]").each(function(e){$(this).attr("data-bi-placement","Home_Featured_Row2_ESpot_"+(e+1))}),$(".slick-track [id^=slick-slide6]").each(function(e){$(this).attr("data-bi-placement","Home_Featured_Row3_ESpot_"+(e+1))}),$('[data-bi-placement^="Home_Featured_"]').on("click",pmc.inSitePromoClick),$('[data-bi-placement^="Home_SmallFenceRow1_ESpot_"]').on("click",pmc.inSitePromoClick),$('[data-bi-placement^="Home_SmallFenceRow2_ESpot_"]').on("click",pmc.inSitePromoClick),$('[data-bi-placement^="Home_BottomRow_ESpot_"]').on("click",pmc.inSitePromoClick),$('[data-bi-placement^="Home_Sponsored_Products"]').on("click",'.slick-track [id^="slick-slide"]',pmc.inSitePromoClick);var e=0;$("#headerskip").nextAll(":visible").each(function(){if(e+=1,"footer-widget"==$(this).attr("id"))return!1;if("DIV"==$(this).prop("tagName")){if(0==$(this).find("[data-bi-placement]").length&&$(this).attr("data-bi-placement")==undefined&&$(this).find("a").length>0){var t="Home_Untagged_Row_"+e;$(this).attr("data-bi-placement",t),$(this).find("a").on("click",pmc.inSitePromoClick)}$(this).find('[data-bi-placement="Home_TopRow_ESpot_1"]').length>0&&($(this).attr("data-bi-placement","Home_TopRow_ESpot_1"),$(this).find("a").on("click",pmc.inSitePromoClick))}})}if($("div.genericESpot a").on("mousedown",function(e){if(!($(this).closest(".rr-products").length>0)&&"Footer"!==$($(this)).closest("div.genericESpot")[0].id.split("WC_ContentAreaESpot_div_1_")[1])return pmc.inSitePromoClick(e,this),!0}),$("div.espot a").on("mousedown",function(e){"WarehouseLocator"!=pmc.pageType&&pmc.inSitePromoClick(e,this)}),$("div.genericESpot form").filter(function(){return(this.action+"").match(/ProductDisplay/)}).on("submit",function(e){return!1!==pmc.isSearchFormSubmitted||(pmc.isSearchFormSubmitted=!0,pmc.inSitePromoClick(e,this),pmc.espotForm=this,window.setTimeout(function(){pmc.espotForm.submit()},50),!1)}),"WarehouseLocator"==pmc.pageType&&$('[id^="WC_ContentAreaESpot"]').on("click",function(e){pmc.inSitePromoClick(e,this)}),"WarehouseLocatorDetailsView"==pmc.pageType)if(".ca"==window.location.hostname.slice(-3)){var t=$('a[id="WC_ContentAreaESpot_links_7_"]');$(t).each(function(e,t){$(t).attr("data-bi-placement","WC_ContentAreaESpot_links_7_"+e)}),$(t).on("click",function(e){pmc.inSitePromoClick(e,this)})}else{var n=$(".espot-container [data-bi-placement]").attr("data-bi-placement");n!=undefined&&$(".espot-container").attr("data-bi-placement",n),$(".espot-container a").on("click",function(e){pmc.inSitePromoClick(e,this)})}},E6:pmc.navigationTagging,E6Footer:pmc.footerTagging,E10:function(){pmc.searchType="",$(".tt-menu").on("mousedown",".tt-suggestion",function(e){$(this).closest("h6").length>0?(pmc.searchType="visual look ahead",pmc.search(e,$(this).text())):null!=$(this).text().match(/\d\d\d\d\d-\d\d\d\d/g)?(pmc.searchType="look ahead warehouse",pmc.search(e,$(this).text())):(pmc.searchType="look ahead",pmc.search(e,$(this).text()))}),isRefinementPage()&&($("#accordion-filter_collapse-1 a").on("click",pmc.shopByCategoryHandler),$(document).on("click","#costcoModal #accordion-filter_collapse-1 a",pmc.shopByCategoryHandler)),$("div.category-tile a").on("click",function(){"Category"!==pmc.pageType&&"Landing"!==pmc.pageType||pmc.navClick(this,"category tile | "+$(this).find(".category-tile-title").text())}),$(".category-tile").closest("a").on("click",function(){"Category"!==pmc.pageType&&"Landing"!==pmc.pageType||pmc.navClick(this,"category tile | "+$(this).find(".category-tile-title").text())}),$('form[action*="CatalogSearch"], form[action*="grocery-household.html"]').on("submit",function(){if(PDB("search submission trigger"),null===pmc.formToSubmit){pmc.formToSubmit=this;var e=$(this).find('input[id*="search-field"], .search-input2').val();return pmc.search(this,e),window.setTimeout(function(){PDB("search submission submit"),$(pmc.formToSubmit).submit()},50),!1}return!0})},E12:function(){$("ul.left-navigation-list a").filter(function(){var e=$(this).text();if(!this.href.match("javascript")&&!e.match("Select a different"))return this}).on("click",function(){if("Search"===pmc.pageType){var e=$.trim(jQuery(this).parents("ul").prev("div.title").children("h2").text());pmc.refineSearch(this,jQuery.trim(this.href.split("keyword=")[1].split("&")[0]),jQuery.trim(this.href.split("refine=")[1].split("&")[0]),e)}}),$(".refinement_facets input[type='checkbox']:visible").on("change",function(){if($(this).attr("checked")){var e=$(this).closest(".refinement_facets").find(".titleMiddle").text(),t=$(this).closest(".refinementContainer").children(".refinementMiddle").text().trim(),n=pcl.qsVal("keyword");"Search"===pmc.pageType?pmc.refineSearch(this,n,t,e):pmc.refineBrowse(this,e,t)}}),isRefinementPage()&&($('#search-filter input[type="checkbox"]').on("change",pmc.refineHandler),$(document).on("change",'#costcoModal #accordion-filter input[type="checkbox"]',pmc.refineHandler))},E13:function(){"Search"==pmc.pageType&&$(".link-behavior").on("click",function(){pmc.memberProductType=$(this).closest(".product").find("div.omniture").children("div.scMemberProductType").attr("sc.memberproducttype"),pmc.memberProductType==undefined&&(pmc.memberProductType=$(this).parents("div.product-tile-image-container").siblings("div.omniture").children("div.scMemberProductType").attr("sc.memberproducttype")),pmc.clickSearchResult(this)})},E14:function(){$(".dod-gift-msg-panel a").on("click",function(){pmc.interfaceClick(this,"add gift message")}),$(".ship-date-display").on("click",pmc.PreferredDelivery_init),"Search|Category|Facet".indexOf(pmc.pageType)>-1&&($("#sort_by").on("change",function(){var e=this[this.selectedIndex].text;if("fr"==pmc.lang){var t={BestMatch:"Best Match","PriceMax|1":"Price (High to Low)","PriceMin|0":"Price (Low to High)","BrandName|0":"Brand (A to Z)","BrandName|1":"Brand (Z to A)","FrenchAverageRating|1":"Ratings (High to Low)","P_CAQCPRICE|1":"Price (High to Low)"},n=$(this).val();t.hasOwnProperty(n)&&(e=t[n])}pmc.interfaceClick(this,"sort by:"+e.toLowerCase())}),$(".co-grid-view").on("click",function(){pmc.interfaceClick(this,"grid view")}),$(".co-list-view").on("click",function(){pmc.interfaceClick(this,"list view")}),$(".pagination ul.inline-list a").on("click",function(){pmc.interfaceClick(this,"items per page:"+$(this).text())}),$(".pagination ul:not(.inline-list) a").on("click",function(){pmc.interfaceClick(this,"page:"+$(this).text())}),$('.rule-message a[href*="sameday.costco.com"]').on("click",function(){pmc.interfaceClick(this,"search:try sameday.costco.com")}))},E17:function(){"Product Detail"==pmc.pageType&&($("#share-links div").on("click",function(e){PDB("social share click."),pmc.socialShare(e,this)}),$('[class^="fi-social"]').parent().on("click",function(e){PDB("social share click."),pmc.socialShare(e,this)}),$("a").filter(function(){return this.href.match(/#product-tab.+/)}).on("click",function(){var e=jQuery.trim($("<div/>").html(this.innerHTML).text());e.indexOf("Product Details")>-1&&pmc.productDetailsClick(this),e.indexOf("Specifications")>-1&&pmc.productSpecsClick(this),e.indexOf("Shipping & Terms")>-1&&pmc.productTermsClick(this),e.indexOf("Warranty")>-1&&pmc.productReturnsClick(this),e.indexOf("Reviews")>-1&&pmc.productReviewsClick(this),e.indexOf("Concierge")>-1&&pmc.productConciergeClick(this)}),$("#product-info .panel-title").on("mousedown",function(){if(0!==$(this).find("a.collapsed").length){var e=$(this).find("a").first(),t=e[0],n=jQuery.trim(e.text());n.indexOf("Details")>-1&&pmc.productDetailsClick(t),n.indexOf("Specifications")>-1&&pmc.productSpecsClick(t),n.indexOf("Shipping")>-1&&pmc.productTermsClick(t),n.indexOf("Warranty")>-1&&pmc.productReturnsClick(t),n.indexOf("Reviews")>-1&&pmc.productReviewsClick(t),n.indexOf("Concierge")>-1&&pmc.productConciergeClick(t)}}),$("#product-info").on("mousedown",".view-more",function(){pmc.interfaceClick(this,"product page:view more details")}),$("#header-bazaar-voice, #details-bazaar-voice").on("mousedown","a.bv-rating-stars-container",function(){pmc.interfaceClick(this,"pdp interaction:star reviews")}),$(document).on("click","button.bv-read-review",function(){pmc.interfaceClick(this,"pdp interaction:read reviews")}))},E23:function(){"Product Detail"==pmc.pageType&&$("#addListbtn").closest("a").on("mousedown",function(){pmc.wishlistAddLocation(this)}),"ShoppingCart"==pmc.pageType&&$(".wish-list a").on("click",function(e){var t=pmc.prodFromDDOCartRow(this);t!=undefined&&(pcl.setProductString(pmc.prodStringFromDDOProd(t)),pcl.addEvent(23),pcl.addEvar(23,pmc.pageType),pcl.addEvar(20,t.type),pmc.fireEvt(e,"o","wishlist add"))}),"Home"==pmc.pageType&&$('i[title*="Add"]').on("mousedown",function(){var e=$(this).closest(".slick-slide");pmc.productName=cleanText($(e).find(".description").text()),pmc.productID=$(e).find(".omniture .scProdId").attr("sc.prodid"),pmc.wishlistAddLocation(this)}),"Category"==pmc.pageType&&$('i[title*="Add"]').on("mousedown",function(){var e=$(this).closest(".product");pmc.productName=cleanText($(e).find(".description").text()),pmc.productID=$(e).find(".omniture .scProdId").attr("sc.prodid"),pmc.wishlistAddLocation(this)}),"Compare Products"==pmc.pageType&&$('i[title*="Add"]').on("mousedown",function(){var e=$(this).closest(".product");pmc.productName=cleanText($(e).find(".description").text()),pmc.productID=$(e).find(".omniture .scProdId").attr("sc.prodid"),pmc.wishlistAddLocation(this)})},E24:function(){isRefinementPage()?$('button[id^="addbutton-"]').on("mousedown",function(e){pmc.cartAdd(e,this)}):$("#ProductForm").on("click",function(e){$(e.target).is("#addToCartBtn, #add-to-cart input")&&pmc.cartAdd(e,this)}),$('form[action!="ProductDisplay"] button.addtocart').on("mousedown",function(e){pmc.cartAdd(e,this)}),$("#costcoModal").on("mousedown",'button[id^="addRelatedItemToCartBtn_"] ',function(e){pmc.cartAdd(e,this,"Related Products")})},E25:function(){$("a.delete-icon").on("click",function(){pmc.cartRemove(this,"row")}),$("a[onclick*='delegate_remove_action']").on("click",function(){pmc.cartRemove(this,"row")}),$("button#shopCartUpdateSubmitButton").on("click",function(){pmc.cartRemove(this,"update")}),$("button#shopCartUpdateSubmitButtonBot").on("click",function(){pmc.cartRemove(this,"update")})},E26:function(){var e;"ShoppingCart"==pmc.pageType&&($('[id="shopCartCheckoutSubmitButton"]').on("click",function(){var t="";2==(e=$('[id="shopCartCheckoutSubmitButton"]:visible')).length&&(t=$(this).is(e[0])?":top":":bottom"),pmc.cartCheckout(this,"cart:begin checkout"+t)}),$('[title^="Continue"], input[value^="Continue"]').on("click",function(){var t=$(this).is('[title^="Continue"], input[value^="Continue"]')?"top":"bottom";t="";2==(e=$('[title^="Continue"]:visible, input[value^="Continue"]:visible')).length&&(t=$(this).is(e[0])?":top":":bottom"),pmc.interfaceClick(this,"cart:continue shopping"+t)}),$('input[value^="Express"]').on("click",function(){var e="";if("mobile"!=pmc.getLayoutMode()){e=":bottom";var t=$('input[value^="Express"]:visible');2==t.length&&$(t[0]).is(this)&&(e=":top")}pmc.cartCheckout(this,"cart:express checkout"+e)}),$('[title^="Express"]').on("click",function(){var e=$(this).is('[title^="Express"]:first')?"top":"bottom";pmc.cartCheckout(this,"cart:express checkout:"+e)})),$("#ShopCartForm .submit").on("click",function(){pmc.interfaceClick(this,"cart:proceed to checkout")}),$("#addressFormInlineButton").on("mousedown",function(){pmc.cartShipClick(this)}),$("button#shipSubmitButton1").on("mousedown",function(){pmc.cartShipClick(this)}),$("#shipToThisAddressSubmitButton").on("mousedown",function(){pmc.cartShipClick(this)}),$("button#shipSubmitButton2").on("mousedown",function(){pmc.cartShipClick(this)}),$("#return-to-cart").on("click",function(){pmc.interfaceClick(this,"checkout:return to cart")}),$("#customer-service-header").on("click",function(){pmc.interfaceClick(this,"checkout:customer service")})},E35:function(){isRefinementPage()&&$(".quick-view-button").on("click",function(e){var t=$(event.target).closest(".product");prod=new pstrProdBldr,prod.prodId($(t).find("div.omniture").children("div.scProdId").attr("sc.prodid")),prod.prodName($(t).find("img").attr("alt")),pcl.setProductString(prod.pstr()),pcl.addEvent(35),pmc.fireEvt(e,"o","quickview click"),pmc.quickViewListenersAdded||($("body").on("click","#product-quick-view #add-to-cart-btn",function(e){pmc.cartAdd(e,this,"Quick View")}),$("body").on("click",'#product-quick-view a:contains("View Details")',function(){pmc.interfaceClick(this,"quick view:view details")}),pmc.quickViewListenersAdded=!0)})},E40:function(){$("button#executeSearch").on("click",function(){pmc.pageName.indexOf("WarehouseLocator")>-1&&(PDB("warehouse search event"),pmc.storeFindSearch(this,"Warehouse Locator Page"))}),$("button#executeUpdate").on("click",function(){pmc.pageName.indexOf("WarehouseLocator")>-1&&(PDB("warehouse search event"),pmc.storeFindSearch(this,"Warehouse Locator Page"))})},E41:function(){$("button#executeSearchForWarehouses").on("click",function(){pmc.pageName.indexOf("WarehouseLocatorBrowseView")>-1&&(PDB("warehouse browse event"),pmc.storeBrowseInit(this))}),$("input#txtLocation").on("keypress",function(e){pmc.pageName.indexOf("WarehouseLocator")>-1&&13==e.which&&(PDB("warehouse search event"),pmc.storeFindSearch(this,"Warehouse Locator Page"))})},E44:function(){$("#footer_emailSignup").closest("ul").find("button:first").on("click",function(){pcl.isValidEmail($("#footer_emailSignUpEmail").val())&&pmc.emailSignUp(this,"Footer")})},E47:function(){$("table#diamond-table tr").filter(function(){return this.innerHTML.match(/details/)}).on("mousedown",function(){pmc.diamondFinderClick(this)})}};for(var n in t)if(pmc.fDebugExceptions)t[n]();else try{t[n]()}catch(i){console.error(e,"at "+n),pmc.V66ErrTags+=n+" ",PDB("failure: listener "+n)}},pmc.setIdandNameMerchEvars=function(){var e="";if(pmc.productName&&pmc.productName.length>0)e="|eVar53="+pmc.productName.substring(0,30).replace("|","_").replace(";","_").replace(",","_");var t=";;;;;eVar52="+pmc.productID+e;pmc.videoExists&&(t+="|eVar54=yes"),pcl.setProductString(t)},pmc._checkCardBalance=function(e){pcl.addEvent(45),pcl.addEvar(45,pmc.cardCheckPageLocation),pmc.fireEvt(e,"o","check card balance")},pmc._excludedItems=function(){if(pmc.isPurchase){if(window.digitalData==undefined)return pmc._excludedItemsLegacy();for(var e=0;e<digitalData.cart.products.length;e++)currentProd=digitalData.cart.products[e],pmc.isExcludedItem(currentProd.itemNumber)&&(pcl.addEvent(46),pcl.addEvar(46,currentProd.itemNumber),pmc.fireEvt(!0,"o","excluded items"))}},pmc._excludedItemsLegacy=function(){var e=pmc.order.excludedItems,t=e.length;pcl.addEvent(46);for(var n=0;n<t;n++){try{e[n].quantity&&1}catch(i){PDB("Checkout flow - Confirmation | Excluded Items | Quantity is not a number")}pcl.addEvar(46,e[n].itemNumber),null!=s.eVar46&&s.eVar46.length>0&&pmc.fireEvt(!0,"o","excluded items")}},pmc.eventDispatcher=function(e){e.data.handler(e)},pmc.onEvent=function(e,t,n){$(e).bind(t,n)},pmc.varsForAllEvents=function(){var e=pmcPlatform.getProp("host");1!=pmcPlatform.getProp("isPharmacy")?(pcl.addEvar(3,0==e.indexOf("m.")?"mobile":"pc"),pcl.addEvar(4,pmc.lang),pcl.addEvar(3,0==e.indexOf("m.")?"mobile":"pc"),pcl.addEvar(4,pmc.lang),pcl.addEvar(70,pmc.getLayoutMode()),pcl.addEvar(71,pmcPlatform.getProp("hostDebug")),pcl.addEvar(73,pmc.GetPSTDateString()),pcl.addEvar(75,$("meta[name='currentBuildNumber']").attr("content")+" "+pmc.ver)):prx.rxVarsForAllEvents()},pmc.fireEvt=function(e,t,n){pmc.varsForAllEvents(),PDB(s),pmc.dbForceError(s),s.sa(pmcPlatform.getProp("account")),s.tl(e,t,n),pcl.clearSObj()},pmc.dbForceError=function(e){if(!pcl.strBlank(pmc.dbForceErrorOn)){var t,n=e.events+","+e.linkTrackVars+",",i=pmc.dbForceErrorOn.split(",");for(t=0;t<i.length;t++)if(n.indexOf(i[t]+",")>=0)throw"forced error"}},pmc.getDebugValue=function(e){var t=pcl.qsVal(e);return pcl.strNotBlank(t)?t:pcl.strOrBlank(localStorage.getItem(e))};var prx={isPharmacy:function(){if(1!=pmcPlatform.getProp("isPharmacy"))return!1;if(pcl.initalize(prx),pmc.fDebugExceptions)prx.onPageLoad();else try{prx.onPageLoad()}catch(e){PDB(e)}return!0},onPageLoad:function(){return prx.event1(),pcl.processEventArray(!0,[{eventID:30,isQueryParam:"EMID"},{eventID:31,isQueryParam:"EXTID"},{eventID:32,isQueryParam:"COSTID"},{eventID:33,isQueryParam:"SOCID"},{eventID:34,isQueryParam:"QRID"}]),pcl.processEventArray(!0,[{inScriptName:"home|PharmacyRedirectingToPatientProfileCmd",siteSection:"home delivery"},{inURL:"warehouse-locations/",siteSection:"warehouse locations",eventID:42},{isScript:"warehouse-locations",siteSection:"warehouse locations",eventID:40},{inScriptName:"warehouse|PharmacyCheckWHPrescriptionStatusDetailsCmd",siteSection:"warehouse"},{inScriptName:"drug-|PharmacyDrugAlphabeticalSearchCmd",siteSection:"drug directory"},{inScriptName:"customer-service|pharmacy-customer-service.html|contact-us|how-to-use-costco-pharmacy.html",siteSection:"customer service"},{inScriptName:"member-prescription-program",siteSection:"customer service"},{isScript:"AccountRegister|ResetPasswordSuccessView|LogonForm|UserRegistrationAdd|Logon|ChangePassword|UserRegistrationForm",siteSection:"account"},{isScript:"pet-medications.html|adult-immunization-program.html|costco-employees-mail-order.html|prescription-auto-refill-program.html",siteSection:"misc"},{isScript:"prescription-status|PharmacyAddPrescriptionDrugCmd|PharmacyManagePatientProfileCmd|patient-profile",siteSection:"home delivery"},{isScript:"CheckoutDeliveryView",siteSection:"home delivery"},{isScript:"CheckoutCartView",siteSection:"home delivery"},{isScript:"CheckoutShippingView",siteSection:"home delivery"},{isScript:"CheckoutReviewView",siteSection:"home delivery"},{isScript:"medicare-plan-finder.html",siteSection:"misc"},{inURL:"aisle7",siteSection:"misc"}]),pcl.processEventsByLookup(prx.scriptName,{"home-delivery":{pageName:"home"},PharmacyRedirectingToPatientProfileCmd:{pageName:"home"},LogonForm:{pageName:"log in"},"warehouse-pickup":{pageName:"home"},"about-home-delivery.html":{eventID:7},"how-to-use-costco-pharmacy.html":{eventID:7},"costco.html":{eventID:7,siteSection:"home delivery"},"home-delivery-frequently-asked-questions.html":{eventID:7},"warehouse-pickup-frequently-asked-questions.html":{eventID:7},"member-prescription-program-frequently-asked-questions.html":{eventID:7},"drug-directory-search-results":{eventID:10},"drug-results-details-price":{eventID:14},"prescription-information":{eventID:16,siteSection:"home delivery"},PharmacyNewPrescriptionOrderVerificationView:{eventID:17,siteSection:"home delivery"},PharmacyNewPrescriptionConfirmationView:{eventID:18,siteSection:"home delivery"},"warehouse-pickup-prescription-refill":{eventID:19,siteSection:"warehouse"},PharmacyCheckRefillPrescriptionDetailsCmd:{eventID:19,siteSection:"warehouse"},CheckoutConfirmationView:{eventID:21,siteSection:"warehouse"},"transfer-home-delivery":{eventID:23,siteSection:"home delivery"},PharmacyTransferPrescriptionOrderVerificationView:{eventID:24,siteSection:"warehouse"},PharmacyTransferPrescriptionConfirmationView:{eventID:25,siteSection:"home delivery | transfer prescriptions"},PharmacyRefillPrescriptionOrderVerificationView:{eventID:26,siteSection:"home delivery"},PharmacyRefillPrescriptionOrderConfirmationView:{eventID:28,siteSection:"home delivery"},PharmacyContactUsSendMsgCmd:{eventID:38,siteSection:"customer service"}}),pcl.processEventArray(!1,[{isScript:"AccountRegister|LogonForm|home-delivery",handler:prx.event2and3_bind},{handler:prx.event2and3_loginDetect},{handler:prx.event5_bind},{handler:prx.event6_bind},{handler:prx.event10_bind},{handler:prx.event44_bind},{isScript:"prescription-status|patient-profile",handler:prx.event7_bind}]),prx.event1_finish(),pcl.submitToAnalytics(),PDB("!! END PAGE LOAD"),!0},event1:function(){prx.pageTitle=$(document).find("title").text().trim().toLowerCase(),prx.drugName="",prx.currentURL=window.location.href,prx.scriptName=pcl.scriptNameFromURL(),prx.siteSection="",prx.pageName=prx.pageTitle,prx.pageDetail="";try{prx.drugName=prx.pageDetail=pcl.filterOddChars(drugName)}catch(e){}},event1_finish:function(){var e=prx.siteSection;pcl.strNotBlank(prx.pageName)&&(e+=" | "+prx.pageName.toLowerCase()),pcl.strNotBlank(prx.pageDetail)&&(e+=" : "+prx.pageDetail.toLowerCase());var t=pcl.getCookie("WC_PATIENT_PROFILE_EXISTS").search("doesExistFlag%22%3Atrue")>0?"yes":"no";"warehouse | thank you"==e&&(e="home delivery | transfer prescriptions | thank you"),pcl.addEvent(1,{eVar1:e,eVar2:prx.siteSection,eVar16:pcl.selExists("#header-pharmacy-user-box:visible")?"authenticated":"guest",eVar17:t,eVar25:pcl.selExists("#header-pharmacy-user-box:visible")?"authenticated":"guest",eVar55:window.location,eVar56:pcl.$Required('meta[name="currentBuildNumber"]').attr("content")+" "+pmc.ver}),prx.rxVarsForAllEvents(),e.toLowerCase().indexOf("error")>=0&&pcl.addEvent(58)},event2and3_bind:function(){var e="#PharmacyLogonForm button, #RegisterForm button, #HDLogonForm button";pcl.$Required(e).on("click",prx.event2and3_loginClick)},event2and3_loginClick:function(){return pcl.setCookie("pmcauthaction",$(this).attr("title").trim()),!0},event2and3_loginDetect:function(){var e=pcl.getCookie("pmcauthaction");0!==e.length&&(pcl.selExists("#header-pharmacy-user-box:visible")?("Register"==e?pcl.addEvent(3):"Sign in"==e&&pcl.addEvent(2),prx.rxVarsForAllEvents(),pcl.submitToAnalytics(),pcl.removeCookie("pmcauthaction")):setTimeout(prx.event2and3_loginDetect,1e3))},event5_bind:function(){$("[data-bi-placement] a").bind("click",prx.event5_espotClick)},event5_espotClick:function(e){var t,n=$(this).closest("[data-bi-placement]"),i=$(n).attr("data-bi-placement");if(evar=i+" | ","RX_Home_Hero"==i)evar+=cleanText($(this).find("img").attr("title"),40).toLowerCase();else{if("RX_Footer"==i)return evar="footer | "+cleanText(pcl.meaningfulName(this),40),pcl.addEvent(6,{eVar6:evar}),prx.rxVarsForAllEvents(),void pcl.submitToAnalytics(e,"espot click");(t=$(this).find("h3")).length>0?evar+=cleanText($(t).text(),40).toLowerCase():(t=$(n).find("h3")).length>0?(evar+=cleanText($(t).text(),40).toLowerCase()+": ",evar+=cleanText(pcl.meaningfulName(this),40)):evar+=cleanText(pcl.meaningfulName(this),40)}pcl.addEvent(5,{eVar5:evar}),prx.rxVarsForAllEvents(),pcl.submitToAnalytics(e,"espot click")},event6_bind:function(){$(".header-logo").on("click",function(e){prx.event6_click(e,"logo")}),$("#div_leftnav_pharmacy").on("click","a",function(e){prx.event6_click(e,"left nav")}),$("#header_links1").on("click","a",function(e){prx.event6_click(e,"top nav")}),$("#lob-navigation").on("click","a",function(e){prx.event6_click(e,"top nav")}),$("#breadcrumbs").on("click","a",function(e){prx.event6_click(e,"breadcrumb")}),$("#footer a").on("click",function(e){prx.event6_click(e,"footer")})},event6_click:function(e,t){var n,i=t;switch(t){case"logo":i+="top nav | logo";break;case"left nav":var r="";$ul=$(e.target).parent(),sections=$ul.siblings(".sub_section");for(var a=0;a<sections.length;a++)0===r.length&&$ul.index()>$(sections[a]).index()&&(r=pcl.meaningfulNameLC(sections[a]));i=t+" | "+r+" : "+pcl.meaningfulNameLC(e.target);break;case"footer":n=$(e.target).parent().siblings(".column-header"),i=t+" | "+pcl.meaningfulNameLC(n),i+=" : "+pcl.meaningfulNameLC(e.target);break;case"top nav":1===$(e.target).closest(".dropdown-list").length?(n=pcl.$Required(e.target).parent().parent().siblings(".dropdown-link"),i+=" | "+pcl.meaningfulNameLC(n),i+=" : "+pcl.meaningfulNameLC(e.target)):i+=" | "+pcl.meaningfulNameLC(e.target);break;default:i+=" | "+pcl.meaningfulName(e.target)}return pcl.addEvent(6,{eVar6:i}),prx.rxVarsForAllEvents(),pcl.submitToAnalytics(e,t+" click"),!0},event7:function(){pcl.addEvent(7,{eVar7:prx.pageTitle}),prx.event8_bind()},event7_timer:0,event7_pollCount:0,event7_bind:function(){$("#in-process_help_link, #account_help_link").on("click",function(){var e=cleanText($(".ui-dialog-title").first().text()).toLowerCase();window.location.pathname.indexOf("patient-profile")>-1&&(e="patient profile help"),pcl.addEvent(7,{eVar7:e}),prx.rxVarsForAllEvents(),pcl.submitToAnalytics(event,"help topic click")}),$("#status-need-help-dialog .parent-accordian > h3, .need-help-dialog .parent-accordian > h3").on("click",function(){if(0!=$(this).find(".Active:visible").length){var e=cleanText(pcl.meaningfulName(this).toLowerCase());return e=(e=e.replace("+\u2212","")).replace(":",""),pcl.addEvent(8,{eVar8:e}),prx.rxVarsForAllEvents(),pcl.submitToAnalytics(event,"help topic click"),!0}})},event8_bind:function(){pcl.$Required(".rx-toc a").on("click",prx.event8_helpClick)},event8_helpClick:function(e){return pcl.addEvent(8,{eVar8:cleanText(pcl.meaningfulName(this).toLowerCase())}),prx.rxVarsForAllEvents(),pcl.submitToAnalytics(e,"help topic click"),!0},event10:function(){pcl.addEvent(10,{eVar10:pcl.selHTML("#search-more-link a")}),prx.event11_DrugSearchResults_Timer(),prx.event12_bind()},event10_bind:function(){pcl.$Required("#search_submit").bind("mousedown",prx.event10_MouseDown),prx.searchType="",$("#results").on("mousedown","li.ui-menu-item",function(){prx.searchType="look ahead"})},event10_MouseDown:function(e){return pcl.addEvent(10,{eVar10:pcl.selVal("#SimpleSearchForm_SearchTerm"),eVar11:""!==prx.searchType?prx.searchType:"typed"}),prx.rxVarsForAllEvents(),pcl.submitToAnalytics(e,"drug search click"),!0},event11_DrugSearchResults_Timer:function(){if(!pcl.selExists("#drugNoResults:hidden"))return pcl.selExists("#drugResults:hidden")?(pcl.addEvent(11,{eVar10:pcl.selHTML("#drug_search_keyword")}),prx.rxVarsForAllEvents(),void pcl.submitToAnalytics()):void setTimeout(prx.event11_DrugSearchResults_Timer,1e3);PDB("detected search results")},event12_bind:function(){pcl.$Required("#search-more-link a").on("click",prx.event12_MoreOnCCCom_Click)},event12_MoreOnCCCom_Click:function(e){return pcl.addEvent(12,{eVar10:pcl.meaningfulName(this)}),prx.rxVarsForAllEvents(),pcl.submitToAnalytics(e,"more on costco.com click"),!0},event14:function(){pcl.addEvent(14,{eVar14:prx.drugName})},event19:function(){pcl.selExists("#refill-prescription-title")?(pcl.addEvent(19),$(".prescription-submit").on("click",prx.event20_click)):pcl.addEvent(21)},event20_click:function(e){return pcl.addEvent(20),prx.rxVarsForAllEvents(),pcl.submitToAnalytics(e,"warehouse refill submit click"),!0},event26:function(){pcl.addEvent(26),$(".complete_prescription_button").on("click",prx.event27_click)},event27_click:function(e){return pcl.addEvent(27),prx.rxVarsForAllEvents(),pcl.submitToAnalytics(e,"HD refill submit click"),!0},event30:function(){pcl.addEvent(30,{eVar30:pcl.qsVal("EMID"),eVar28:"Email",eVar29:"Email"})},event31:function(){pcl.addEvent(31,{eVar31:pcl.qsVal("EXTID"),eVar28:"External link",eVar29:"External link"})},event32:function(){pcl.addEvent(32,{eVar32:pcl.qsVal("COSTID"),eVar28:"Costco link",eVar29:"Costco link"})},event33:function(){pcl.addEvent(33,{eVar33:pcl.qsVal("SOCID"),eVar28:"Social link",eVar29:"Social link"})},event34:function(){pcl.addEvent(34,{eVar34:pcl.qsVal("QRID"),eVar28:"QR Code",eVar29:"QR Code"})},event40:function(){prx.event40_WarehouseSearch_Bind();var e=pcl.selVal("#txtLocation"),t="searchpage";if(pcl.inURL("fromWLocSubmit=true"))t="navbar",e=pcl.qsVal("location");else if(""===e)return void prx.event40_WarehouseSearch_Timer();pcl.addEvent(40,{eVar40:e,eVar41:t})},event40_WarehouseSearch_Bind:function(){pcl.$Required('form[onsubmit*="find_warehouse"] button').on("mousedown",prx.event40_WarehouseSearch_Click),$("#warehousemapcontent").on("click",'a[href*="WarehouseLocatorDirectionsView"]',function(e){pmc.storeViewDirections(e,e.target.href)})},event40_WarehouseSearch_Click:function(e){return pcl.addEvent(40,{event:e,eVar40:pcl.selVal("#search-warehouse"),eVar41:"searchpage"}),prx.rxVarsForAllEvents(),pcl.submitToAnalytics(e,"warehouse search click"),!1},event40_WarehouseSearch_Timer:function(){var e=pcl.selVal("#txtLocation");""!==e?(pcl.addEvent(40,{eVar40:e,eVar41:"searchpage"}),prx.rxVarsForAllEvents(),pcl.submitToAnalytics()):setTimeout(prx.event42_WarehouseSearch_Timer,1e3)},event42:function(){var e=pcl.currentURL,t=pcl.qsVal("warehouseNumber",e);""===t&&(t=e.slice(e.lastIndexOf("-")+1,e.lastIndexOf(".html"))),pcl.addEvent(42,{eVar42:t}),$($("button#getDirections")[0]).click(function(e){return pmc.storeViewDirections(e,window.location.href),!1})},event43:function(){var e=pcl.currentURL,t=pcl.qsVal("warehouseNumber",e);""===t&&(t=e.slice(e.lastIndexOf("-")+1,e.lastIndexOf(".html"))),pcl.addEvent(43,{eVar42:pcl.qsVal("storeId")})},event44_bind:function(){$('#header-pharmacy-user-box div:first a[href*="prescription-status"]').on("click",function(){pcl.addEvent(44,{eVar44:"prescription status"}),prx.rxVarsForAllEvents(),pcl.submitToAnalytics(event,"prescription status click")}),$("#header-prescription-processed-link").on("click",function(){pcl.addEvent(44,{eVar44:"prescriptions processing"}),prx.rxVarsForAllEvents(),pcl.submitToAnalytics(event,"prescription status click")}),$("#header-prescription-shippped-link").on("click",function(){pcl.addEvent(44,{eVar44:"prescriptions shipping"}),prx.rxVarsForAllEvents(),pcl.submitToAnalytics(event,"prescription status click")})},rxVarsForAllEvents:function(){var e=pmcPlatform.getProp("host");pcl.addEvar(3,0==e.indexOf("m.")?"mobile":"pc"),pcl.addEvar(4,"en"),pcl.addEvar(54,pcl.GetPSTDateString()),pcl.addEvar(70,pmc.getLayoutMode())}};return pmc.pagesByType={"Product Detail":{onPageView:pmc.pageViewProductDetailsPage},"Product Not Found":{onPageView:pmc.pageViewProductDetailsPage},Category:{onPageView:pmc.pageViewCategoryPage},"Search Results":{onPageView:pmc.pageViewSearchPage},"No Search Results":{onPageView:pmc.pageViewSearchPage},Landing:{onPageView:pmc.landingPageView},"Warehouse Location Details":{onPageView:pmc.pageViewWarehouseLocatorDetailsView},"Home Page":{nameAndType:"Home",onPageView:pmc.pageViewHome}},pmc.pagesByPath=[{pathname:"TopCategories1",nameAndType:"Home"},{
pathname:"TopCategoriesDisplay",nameAndType:"Home"},{pathname:"CheckoutCartView",nameAndType:"ShoppingCart",onPageView:pmc.cartPage},{pathname:"OrderItemDisplayViewShiptoAssoc",nameAndType:"ShoppingCart",onPageView:pmc.cartPage},{pathname:"CheckoutShippingView",nameAndType:"Checkout Flow - Ship",onPageView:pmc.cartShip},{pathname:"CheckoutPaymentView",nameAndType:"Checkout Flow - Pay",onPageView:pmc.cartPay},{pathname:"CostcoOrderProcess",nameAndType:"Checkout Flow - Pay",onPageView:pmc.cartPay},{pathname:"CheckoutDeliveryView",nameAndType:"Checkout Flow - Delivery Options",onPageView:pmc.cartDeliveryOptions},{pathname:"CheckoutReviewView",nameAndType:"Checkout Flow - Review",onPageView:pmc.cartReview},{pathname:"CostcoOrderReview",nameAndType:"Checkout Flow - Review",onPageView:pmc.cartReview},{pathname:"CheckoutConfirmationView",title:"Checkout Flow - Confirmation",onPageView:pmc.purchase},{pathname:"CompareProductsDisplay",nameAndType:"Compare Products",onPageView:pmc.compareProductPage},{pathname:"CatalogSearch",nameAndType:"Search",onPageView:pmc.pageViewSearchPage},{pathname:"grocery-household.html",nameAndType:"Search",onPageView:pmc.groceryPageView},{pathname:"warehouse-locations",nameAndType:"WarehouseLocator",onPageView:pmc.pageViewWarehouseLocatorPage},{pathname:"WarehouseLocatorView",nameAndType:"WarehouseLocator",onPageView:pmc.pageViewWarehouseLocatorPage},{pathname:"WarehouseLocatorDetailsView",nameAndType:"WarehouseLocatorDetailsView",onPageView:pmc.pageViewWarehouseLocatorDetailsView},{pathname:"WarehouseLocatorBrowseView",nameAndType:"WarehouseLocatorBrowseView"},{pathname:"WarehouseLocatorDirectionsView",nameAndType:"WarehouseLocatorDirectionsView"},{pathname:"WarehouseTiresLocatorView",nameAndType:"WarehouseTiresLocatorView",onPageView:pmc.pageWarehouseTiresLocatorView},{pathname:"LogonForm",nameAndType:"Sign In"},{pathname:"RegisterView",nameAndType:"Create Account"},{pathname:"ForgotPasswordView",nameAndType:"Password Reset"},{pathname:"Logoff",nameAndType:"Logoff"},{pathname:"ReLogonFormView",nameAndType:"Session Timed Out"},{pathname:"AccountInformationView",title:"Account Information",type:"My Account"},{pathname:"AddressBookDisplayView",title:"Address Book",type:"My Account"},{pathname:"PaymentMethodDisplayView",title:"Payment Method",type:"My Account"},{pathname:"OrderStatusCmd",title:"Order Status",type:"My Account"},{pathname:"OrderStatusDetailsView",title:"Order Status Details",type:"My Account"},{pathname:"MemberCommunicationPreferencesView",title:"Communication Preferences",type:"My Account"},{pathname:"NonAjaxAccountWishListDisplayView",title:"Wish Lists",type:"My Account"},{pathname:"WishListAddView",title:"Wish List Add",type:"My Account"},{pathname:"WishListDetailView",title:"Wish List Detail",type:"My Account"}],pmc.excludedItems=[{department:"80 - MISCELLANEOUS",itemNumber:"751249"},{department:"80 - MISCELLANEOUS",itemNumber:"694409"},{department:"80 - MISCELLANEOUS",itemNumber:"478218"},{department:"80 - MISCELLANEOUS",itemNumber:"478217"},{department:"80 - MISCELLANEOUS",itemNumber:"478216"},{department:"80 - MISCELLANEOUS",itemNumber:"478214"},{department:"80 - MISCELLANEOUS",itemNumber:"478222"},{department:"80 - MISCELLANEOUS",itemNumber:"478213"},{department:"80 - MISCELLANEOUS",itemNumber:"478215"},{department:"80 - MISCELLANEOUS",itemNumber:"478212"},{department:"80 - MISCELLANEOUS",itemNumber:"478207"},{department:"80 - MISCELLANEOUS",itemNumber:"478211"},{department:"80 - MISCELLANEOUS",itemNumber:"694399"},{department:"80 - MISCELLANEOUS",itemNumber:"999902"},{department:"80 - MISCELLANEOUS",itemNumber:"238080"},{department:"80 - MISCELLANEOUS",itemNumber:"751269"},{department:"80 - MISCELLANEOUS",itemNumber:"751259"},{department:"80 - MISCELLANEOUS",itemNumber:"283738"},{department:"80 - MISCELLANEOUS",itemNumber:"283737"},{department:"80 - MISCELLANEOUS",itemNumber:"283735"},{department:"80 - MISCELLANEOUS",itemNumber:"283733"},{department:"80 - MISCELLANEOUS",itemNumber:"283734"},{department:"80 - MISCELLANEOUS",itemNumber:"694389"},{department:"80 - MISCELLANEOUS",itemNumber:"694379"},{department:"80 - MISCELLANEOUS",itemNumber:"283728"},{department:"80 - MISCELLANEOUS",itemNumber:"294858"},{department:"80 - MISCELLANEOUS",itemNumber:"794256"},{department:"80 - MISCELLANEOUS",itemNumber:"27630"},{department:"80 - MISCELLANEOUS",itemNumber:"533573"},{department:"80 - MISCELLANEOUS",itemNumber:"906788"},{department:"80 - MISCELLANEOUS",itemNumber:"478209"},{department:"80 - MISCELLANEOUS",itemNumber:"283728"},{department:"80 - MISCELLANEOUS",itemNumber:"294858"},{department:"80 - MISCELLANEOUS",itemNumber:"283729"},{department:"80 - MISCELLANEOUS",itemNumber:"283733"},{department:"80 - MISCELLANEOUS",itemNumber:"283734"},{department:"80 - MISCELLANEOUS",itemNumber:"283735"},{department:"80 - MISCELLANEOUS",itemNumber:"283738"},{department:"80 - MISCELLANEOUS",itemNumber:"283736"},{department:"80 - MISCELLANEOUS",itemNumber:"283739"},{department:"80 - MISCELLANEOUS",itemNumber:"155"},{department:"80 - MISCELLANEOUS",itemNumber:"478207"},{department:"80 - MISCELLANEOUS",itemNumber:"478211"},{department:"80 - MISCELLANEOUS",itemNumber:"478212"},{department:"80 - MISCELLANEOUS",itemNumber:"478222"},{department:"80 - MISCELLANEOUS",itemNumber:"478213"},{department:"80 - MISCELLANEOUS",itemNumber:"478214"},{department:"80 - MISCELLANEOUS",itemNumber:"478216"},{department:"80 - MISCELLANEOUS",itemNumber:"478217"},{department:"80 - MISCELLANEOUS",itemNumber:"478218"},{department:"80 - MISCELLANEOUS",itemNumber:"478219"},{department:"80 - MISCELLANEOUS",itemNumber:"478215"},{department:"80 - MISCELLANEOUS",itemNumber:"750985"},{department:"80 - MISCELLANEOUS",itemNumber:"750990"},{department:"80 - MISCELLANEOUS",itemNumber:"845361"}],pmc.searchEngines="",pmc.searchReferrers=["google.com","bing.com","yahoo.com","ask.com","aol.com","mywebsearch.com","blekko.com","lycos.com","dogpile.com","webcrawler.com","info.com","infospace.com","search.com","excite.com"],pmc.placementMap={Home_Ancillary_Popover_0:"grocery",Home_Ancillary_Popover_1:"business delivery",Home_Ancillary_Popover_2:"optical",Home_Ancillary_Popover_3:"pharmacy",Home_Ancillary_Popover_4:"services",Home_Ancillary_Popover_5:"photo",Home_Ancillary_Popover_6:"travel",Home_Ancillary_Popover_7:"membership",Home_Ancillary_Popover_1_ca:"business centre",Home_Ancillary_Popover_2_ca:"pharmacy",Home_Ancillary_Popover_3_ca:"services",Home_Ancillary_Popover_4_ca:"photo",Home_Ancillary_Popover_5_ca:"travel",Home_Ancillary_Popover_6_ca:"optical",Home_Ancillary_Popover_7_ca:"membership"},pmc.realTypeOf=function(e){return"object"==typeof e?null===e?"null":e.constructor==(new Array).constructor?"array":e.constructor==(new Date).constructor?"date":e.constructor==(new RegExp).constructor?"regex":"object":typeof e},pmc.hasValue=function(e){return null!==e&&(void 0!==e&&("string"!=typeof e&&"array"!==pmc.realTypeOf(e)||!(e.length<=0)))},pmc.roundValue=function(e,t){return Math.round(Math.pow(10,t)*e)/Math.pow(10,t)},pmc.setCookie=function(e,t,n){var i="",r=new Date;pmc.hasValue(n)&&(r.setTime(r.getTime()+6e4*n),i="; expires="+r.toGMTString()),document.cookie=e+"="+t+i+"; path=/"},pmc.readCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=n.length,r=0,a="";r<i;r++)if(a=n[r],0==(a=$.trim(a)).indexOf(t))return a.substring(t.length,a.length);return null},pmc.removeCookie=function(e){createCookie(e,"",-1)},pmc.newNameValuePair=function(e,t){return new function(e,t){this.name=e,this.value=t,this._toString=function(){return""===this.name||""===this.value?"":this.name+"="+this.value.substring(0,30).replace("|","_").replace(";","_").replace(",","_")}}(e,t)},pmc.nameValuePairArrayToString=function(e,t){var n,i,r=0;for(n="",{},e&&(i=e.length);r<i;r++)n+=e[r]._toString(),r<i-1&&(n+=t);return n},pmc.arrayToString=function(e,t){for(var n="",i=e.length,r=0;r<i;r++)n+=e[r],r<i-1&&(n+=t);return n},pmc.addMetaTag=function(e,t){try{var n=[],r={},a=0;if(i=0,pmc.hasValue(pmc.headElement)||(pmc.headElement=document.getElementsByTagName("head")[0]),pmc.hasValue(t)){for(a=(n=pmc.headElement.getElementsByTagName("meta")).length;i<a;i++)if(n[i].name===e)return;(r=document.createElement("meta")).name=e,r.content=t,pmc.headElement.appendChild(r)}}catch(o){PDB("getProductString: "+o)}},pmc.GetPSTDateString=function(){var e="";try{var t=new Date,n=t.getTimezoneOffset(),i=new Date(2013,0,1),r=(new Date(2013,6,1),420);n===i.getTimezoneOffset()&&(r=480);var a=n-r,o=new Date(t.getTime()+6e4*a);e=o.getFullYear()+"/"+(o.getMonth()+1)+"/"+o.getDate()}catch(c){PDB("GetPSTDateString: "+c)}return e},pmc.urlDecode=function(e){return decodeURIComponent((e+"").replace(/\+/g," "))},pcl={initalize:function(e){pcl.oEvt=e,pcl.currentURL=window.location.href,pcl.scriptName=pcl.scriptNameFromURL()},processEventArray:function(e,t){for(var n=0;n<t.length&&!0!==pcl.processEvent(e,t[n]);++n);},processEventsByLookup:function(e,t){for(var n=e.split("|"),i=0;i<n.length;i++){var r=t[n[i]];return!!pcl.isObj(r)&&pcl.processEvent(!1,r)}return!1},processEvent:function(e,t){var n=0;for(var i in t)if(t.hasOwnProperty(i)&&(pcl.isStr(t[i])||pcl.isNum(t[i]))){var r=t[i];switch(i){case"inURL":if(!pcl.inURL(r))return;break;case"isQueryParam":if(""===pcl.qsVal(r))return;break;case"selExists":if(!pcl.selExists(r))return;break;case"isScript":if(!pcl.isScriptName(r))return;break;case"inScriptName":if(!pcl.inScriptName(r))return;break;case"siteSection":pcl.oEvt.siteSection=r;break;case"pageName":pcl.oEvt.pageName=r;break;case"pageDetail":pcl.oEvt.pageDetail=r;break;case"eventID":n=r}}PDB("@@breakOnEventDisp-"+n,"^DEBUGGER");var a=t.handler;return pcl.isFunc(a)||n>0&&(a=pcl.oEvt["event"+n],pcl.isFunc(a)||(a=pcl.simpleEvent)),t.haltGroup=e,pcl.isFunc(a)&&a(t),t.haltGroup},addEvent:function(e,t,n){PDB("@addEvent","! event"+e),PDB("@@breakOnEventAdd-"+e,"^DEBUGGER");var i="";i="string"==typeof e?e:"event"+e,"None"==s.events||pcl.isUndef(s.events)?(s.events=i,s.linkTrackEvents=i):(s.events+=","+i,s.linkTrackEvents+=","+i),pcl.processEProps(n),pcl.addEvars(t)},processEProps:function(e){pcl.isObj(e)&&pcl.isStr(e.pageName)&&(pcl.oEvt.pageName=val,pcl.oEvt.siteSection=val.substring(0,val.indexOf("|")-1))},addEvars:function(e){if(pcl.isObj(e))for(var t in e)pcl.addEvar(t,e[t])},addEvar:function(e,t){pcl.isNum(e)&&(e="eVar"+e),PDB("@@addEvar",e+"='"+t),PDB("@@breakOnEvarAdd-"+e,"^DEBUGGER"),s[e]=t,"None"===s.linkTrackVars?s.linkTrackVars=e:s.linkTrackVars+=","+e},setProductString:function(e){"None"===s.linkTrackVars?s.linkTrackVars="products":s.linkTrackVars+=",products",s.products=e},addProduct:function(e){var t=pcl.strOrBlank(e.category);t+=";"+pcl.strOrBlank(e.product),t+=";"+pcl.strOrBlank(e.quantity),t+=";"+pcl.strOrBlank(e.totalPrice),t+=";"+pcl.strOrBlank(e.incrementor),t+=";"+pcl.strOrBlank(e.merchandising),pcl.isStr(s.products)?""!==s.products&&(t=";"+t):s.products="",s.products+=t},submitToAnalytics:function(){"None"===s.linkTrackVars?s.linkTrackVars="events":s.linkTrackVars+=",events";PDB("@sobj",s),s.sa(pmcPlatform.getProp("account")),0===arguments.length?(s.t(),PDB("! Event Submitted")):2===arguments.length&&(s.tl(arguments[0],"o",arguments[1]),PDB("! Event Link Submitted -- "+arguments[1])),pcl.clearSObj()},clearSObj:function(){s.linkTrackEvents="None",s.linkTrackVars="None",s.events="None";for(var e=0;e<=75;e++)s["eVar"+e]=undefined},simpleEvent:function(e){pcl.addEvent(e.eventID)},selExists:function(){for(var e=0;e<arguments.length;e++)if($(arguments[e]).length>0)return!0;return!1},$Required:function(e){var t=$(e);return 0===$(t).length&&PDB("!! ERROR: required selector "+e+" not found"),$(t)},selHTML:function(){for(var e=0;e<arguments.length;e++){var t=$(arguments[e]);if(t.length>0)return pcl.filterOddChars($(t).html())}return""},selVal:function(){for(var e=0;e<arguments.length;e++){var t=$(arguments[e]);if(t.length>0)return $(t).val()}return""},inURL:function(){for(var e=0;e<arguments.length;e++)for(var t=arguments[e].split("|"),n=0;n<t.length;n++)if(pcl.currentURL.indexOf(t[n])>=0)return!0;return!1},isScriptName:function(){for(var e=0;e<arguments.length;e++)for(var t=arguments[e].split("|"),n=0;n<t.length;n++)if(pcl.scriptName===t[n])return!0;return!1},inScriptName:function(){for(var e=0;e<arguments.length;e++)for(var t=arguments[e].split("|"),n=0;n<t.length;n++)if(pcl.scriptName.indexOf(t[n])>-1)return!0;return!1},qsVal:function(e,t){t=""!==pcl.strOrBlank(t)?t.substring(t.indexOf("?")):location.search,e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)","i").exec(t);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},qsDict:function(e){for(var t=(e=""!==pcl.strOrBlank(e)?e.substring(e.indexOf("?")):location.search).replace("?","").split("&"),n={},i=0,r=t.length;i<r;i++){var a=t[i].split("=");n[a[0]]=a[1]}return n},formValue:function(e){if(e=new RegExp("[?&]"+encodeURIComponent(e)+"=([^&]*)").exec(location.search))return decodeURIComponent(e[1])},realTypeOf:function(e){return"object"==typeof e?null===e?"null":e.constructor==(new Array).constructor?"array":e.constructor==(new Date).constructor?"date":e.constructor==(new RegExp).constructor?"regex":"object":typeof e},hasValue:function(e){return null!==e&&(!pcl.isUndef(e)&&(!pcl.isStr(e)&&"array"!==pcl.realTypeOf(e)||!(e.length<=0)))},roundValue:function(e,t){return Math.round(Math.pow(10,t)*e)/Math.pow(10,t)},setCookie:function(e,t,n){var i="",r=new Date;pcl.hasValue(n)&&(r.setTime(r.getTime()+6e4*n),i="; expires="+r.toGMTString()),document.cookie=e+"="+t+i+"; path=/",PDB("@@cookies",t.length>0,"setting cookie: "+e+"="+t)},getCookie:function(e){for(var t=e+"=",n=document.cookie.split(";"),i=n.length,r=0,a="";r<i;r++)if(a=n[r],0===(a=$.trim(a)).indexOf(t))return a.substring(t.length,a.length);return""},removeCookie:function(e){pcl.setCookie(e,"",-1),PDB("@@cookies","removing cookie: "+e)},meaningfulNameLC:function(e){return pcl.meaningfulName(e).toLowerCase()},meaningfulName:function(e){var t=cleanText($(e).text());if(pcl.strNotBlank(t)>0)return pcl.filterOddChars(t).toLowerCase();var n=$(e).children("img").first();if(1===n.length){if((t=$(n).attr("alt")).length>0)return t.toLowerCase();if((t=$(n).attr("title")).length>0)return t.toLowerCase();if((t=$(n).attr("src")).length>0)return pcl.filterOddChars(t).toLowerCase()}return 1===(n=$(e).find('input[type="button"]').first()).length&&(t=$(n).attr("value")).length>0?pcl.filterOddChars(t).toLowerCase():(t=cleanText($(e).html()),pcl.strNotBlank(t)?t.toLowerCase():"none")},filterOddChars:function(e){return e=(e=e.trim().replace('"',"").replace('"',"").replace("\r\n","").replace("  "," ").replace("  "," ")).replace("\xae","")},GetPSTDateString:function(){var e="";try{var t=new Date,n=t.getTimezoneOffset(),i=new Date(2013,0,1),r=(new Date(2013,6,1),420);n===i.getTimezoneOffset()&&(r=480);var a=n-r,o=new Date(t.getTime()+6e4*a);e=o.getFullYear()+"/"+(o.getMonth()+1)+"/"+o.getDate()}catch(c){PDB("GetPSTDateString: "+c)}return e},scriptNameFromURL:function(){var e=window.location.pathname;return e.substring(e.lastIndexOf("/")+1)},foreachDelimArgs:function(){var e=0;if(e!=arguments.length){var t=arguments[e++],n=0,i=arguments[e];if(pcl.isFunc(i)){for(pcl.isNum(arguments[e])&&(n=arguments[e],e++);n<t.length;n++)for(var r=t[n].split("|"),a=0;a<r.length;a++)if(i(r[a]))return!0;return!1}}},miniStringify:function(e){if(!pcl.isObj(e)||0===e.length)return"{ }";var t="";for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];pcl.isBool(i)&&(t+=(t.length>0?",":"")+'"'+n+'":'+i)}return"{"+t+"}"},strOrBlank:function(e){return pcl.isStr(e)||pcl.isNum(e)?e:""},strBlank:function(e){return!pcl.isNum(e)&&(!pcl.isStr(e)||0===e.length)},strNotBlank:function(e){return!!pcl.isNum(e)||!!pcl.isStr(e)&&0!==e.length},isValidEmail:function(e){return new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i).test(e)},getDebugValue:function(e){var t=pcl.qsVal(e);return pcl.strNotBlank(t)?t:pcl.strOrBlank(localStorage.getItem(e))},sStart:function(e,t){return e.slice(0,t.length)==t},sEnd:function(e,t){return e.slice(-t.length)==t},sContains:function(e,t){return e.indexOf(t)>-1},sRemove:function(e,t){return e.replace(t,"")},isUndef:function(e){return void 0===e},isBool:function(e){return"boolean"==typeof e},isNum:function(e){return"number"==typeof e},isStr:function(e){return"string"==typeof e},isFunc:function(e){return"function"==typeof e},isObj:function(e){return"object"==typeof e}},{scrape:function(){pmc.documentReady()},olFeedbackClick:function(e){pmc.olFeedbackClick(e)},richRelevanceClick:function(e,t,n,i){pmc.richRelevanceClick(e,t,n,i)},pmc:function(){return pmc}}}function pmcend(){}return window.oPTM1={},"yes"!==localStorage.getItem("pointmarcDisable")&&(oPTM1=PTM1(),$(document).ready(function(){try{oPTM1.scrape()}catch(e){console.error(e,"at oPTM1.scrape")}})),window.pmc={richRelevanceClick:function(e,t,n,i){oPTM1.richRelevanceClick(e,t,n,i)}},!1}},dffefa0eee23ccd02018801d7cfcba476a9fc8d4:{engine:"tnt",mboxURL:"6d09a901247b3615ff6f4d9f22bda8ea810f369e/mbox-contents-dffefa0eee23ccd02018801d7cfcba476a9fc8d4.js",loadSync:!0,pageParams:{}},"8e075c6d542357fd0a7f9651712f728a7a0f5957":{engine:"visitor_id",loadOn:"pagetop",name:"VisitorID",mcOrgId:"97B21CFE5329614E0A490D45@AdobeOrg",autoRequest:!0,initVars:{}}},pageLoadRules:[{name:"BazaarVoice Order Confirmation Pixel",trigger:[{command:"writeHTML",arguments:[{html:'<!-- load bv.js -->\n<script async src="https://apps.bazaarvoice.com/deployments/costco/main_site/production/en_US/bv.js"></script>\n\n<!--load Transaction event and parameters-->\n\n<script>\nwindow.bvCallback = function (BV) {\n\n  var userId = (function decodeBVToken()\n  {\n    var re = new RegExp(\'bvUserToken\' + "=([^;]+)");\n    var value = re.exec(document.cookie);\n    token = (value != null) ? unescape(value[1]) : null;\n    if ( token == null ) return "";\n    tokenHex = token.substring(32);\n    var decodeToken = \'\';\n    for (var i = 0; i < tokenHex.length; i += 2) decodeToken += String.fromCharCode(parseInt(tokenHex.substr(i, 2), 16));\n    var query = {};\n    var pairs = (decodeToken[0] === \'?\' ? decodeToken.substr(1) : decodeToken).split(\'&\');\n    for (var i = 0; i < pairs.length; i++) {\n        var pair = pairs[i].split(\'=\');\n        query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || \'\');\n    }\n    return query[\'userid\'];\n  })();\n  if ( userId == "" ) {\n    _satellite.notify( "BV: Not User" ); \n    return; // don\'t fire if they aren\'t a BV user\n  }\n  \n  var items = [ ];\n  var orderTotal = 0;\n  var emailAddress = "";\n  var nickName = "";\n  \n  try {\n    var addressId = $(\'#address-details [data-addressid]\').first().attr(\'data-addressid\');\n    var addressInfo = window["ajaxAddressObject_"+addressId];\n    emailAddress = addressInfo.email;\n    nickName = addressInfo.first;\n  } catch(e) { }\n\n  var transactionID = digitalData.cart.transactionID;\n  if (transactionID == undefined) { // missing from DDO for now\n    transactionID = rrData.orderId;\n  }\n\nvar excludedProds = [\n\n"100006897",\n"100014399",\n"100034440",\n"100040959",\n"100096029",\n"100152232",\n"100171834",\n"100213169",\n"100234428",\n"100285769",\n"100305318",\n"100305319",\n"100305320",\n"100305321",\n"100305322",\n"100305323",\n"100305324",\n"100305325",\n"100305326",\n"100305327",\n"100305328",\n"100305329",\n"100305330",\n"100305331",\n"100305332",\n"100305333",\n"100305334",\n"100305336",\n"100305337",\n"100305339",\n"100305340",\n"100305341",\n"100305343",\n"100305345",\n"100305346",\n"100305347",\n"100305348",\n"100305349",\n"100305350",\n"100305351",\n"100305353",\n"100305354",\n"100305359",\n"100305360",\n"100305365",\n"100305366",\n"100305367",\n"100305369",\n"100305370",\n"100305371",\n"100305373",\n"100305374",\n"100305375",\n"100305376",\n"100305381",\n"100305384",\n"100305385",\n"100305386",\n"100305387",\n"100305388",\n"100305389",\n"100305493",\n"100305497",\n"100305498",\n"100305509",\n"100305513",\n"100305519",\n"100305520",\n"100305521",\n"100305523",\n"100305542",\n"100305644",\n"100310105",\n"100311471",\n"100319334",\n"100334733",\n"100337477",\n"100337479",\n"100337480",\n"100337488",\n"100337489",\n"100337490",\n"100337491",\n"100337501",\n"100339213",\n"100343985",\n"100344002",\n"100344007",\n"100349997",\n"100350356",\n"100350552",\n"100350778",\n"100352665",\n"100352672",\n"100352676",\n"100352679",\n"100352685",\n"100352692",\n"100365960",\n"100368443",\n"100369174",\n"100380029",\n"100383092",\n"100383128",\n"100385003",\n"100390684",\n"100395930",\n"100396702",\n"100396704",\n"100396712",\n"100396733",\n"100396734",\n"100396885",\n"100396886",\n"100397522",\n"100407948",\n"100408288",\n"100409289",\n"100409291",\n"100409302",\n"100409304",\n"100412225",\n"100412237",\n"100412245",\n"100412251",\n"100412252",\n"100412256",\n"100420243",\n"100424245",\n"100425324",\n"11300453",\n"11753308",\n"3162",\n"3163",\n"3168",\n"3169",\n"link%20fee",\n"link fee",\n\n"11525890",\n"11006397",\n"11008302",\n"11008303",\n"100379576",\n"11762743",\n"11709337",\n"11672724",\n"100103803",\n"100423209",\n"100423229",\n"100423230",\n"11605223",\n"11605225",\n"100388468",\n\n"100407925",\n"100409433",\n"100349978",\n"100396866"\n\n];\n\n  try {\n      for (var i = 0; i < digitalData.cart.products.length; i++) {\n        currentProd = digitalData.cart.products[i];\n        price = (currentProd.price.replace(\' \', \'\').replace(\' \', \'\').replace(\',\', \'.\').replace(\'$\', \'\')) * 1;\n        orderTotal += (price * currentProd.quantity);\n\n        if ( $.inArray( currentProd.id, excludedProds ) > -1 ) {\n            _satellite.notify( "BV: omitting " + currentProd.id );\n            continue;\n        }\n\n        items.push({\n          "price" : price.toFixed(2),\n          "quantity" : currentProd.quantity,\n          "sku" : currentProd.id\n        });\n      }\n  } catch(e) { }\n\n  if ( items.length == 0 ) { // all items were excluded, don\'t fire\n    _satellite.notify( "BV: No Items To Report" );\n    return;\n  }\n\n  var bvx = {\n    "currency" : wcs.locale.slice(-2) == "CA" ? "CAD" : "USD",\n    "orderId" : transactionID,\n    "total" : orderTotal.toFixed(2),\n    "email" : emailAddress,\n    "locale" : wcs.locale, // US | CA\n    "nickname" : nickName,\n    items: items,\n    "userId": userId\n  };\n\n  _satellite.notify( "BV: Reporting" );\n  _satellite.notify( JSON.stringify( bvx, null, 4 ) );\n  BV.pixel.trackTransaction(bvx);\n};\n</script>\n'}]}],conditions:[function(){return".com"==window.location.hostname.slice(-4)&&"/CheckoutConfirmationView"==window.location.pathname}],event:"pagebottom"},{name:"ClickTale",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-589a778e64746d341d0016ca.js"}]}]}],conditions:[function(){return!($('#header img[title="Costco Pharmacy"]').length>0||1==_satellite.settings.isStaging&&"true"!=localStorage.getItem("pmc-clicktale-preview"))}],event:"pagebottom"},{name:"DTM Staging Switch keyword",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5a590b5664746d333f00373d.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getQueryParam("keyword"),"dtmstagingswitch")}],event:"pagebottom"},{name:"Error Capture",trigger:[{command:"loadBlockingScript",arguments:[{sequential:!0,scripts:[{src:"satellite-58250a5a64746d06480013ba.js"}]}]}],event:"pagetop"},{name:"Kiosk iPad/Touchscreen",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5a6ba26064746d2a140006c3.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("Is iPad Kiosk"),"yes")}],event:"pagetop"},{name:"OpinionLab CA",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-56ec546e64746d058b00077d.js"}]}]}],conditions:[function(){function e(e,t){return e.slice(-t.length)==t}return loc=window.location,!($('#header img[title="Costco Pharmacy"]').length>0)&&(!!e(loc.host,".ca")&&(!(loc.href.indexOf("/employee-website.html")>-1)&&!(loc.href.indexOf("/CashCardBalanceForm")>-1)))}],event:"pagebottom"},{name:"OpinionLab US",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5915e81464746d12830041bb.js"}]}]}],conditions:[function(){function e(e,t){return e.slice(-t.length)==t}return loc=window.location,!($('#header img[title="Costco Pharmacy"]').length>0)&&(!e(loc.host,".ca")&&(!(loc.href.indexOf("/employee-website.html")>-1)&&!(loc.href.indexOf("/CashCardBalanceForm")>-1)))}],event:"pagebottom"},{name:"Recommendations MBOX placement",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-59189f4064746d37c000d76f.js"}]}]}],event:"pagetop"},{name:"SellPoints CA EN",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-57055cf264746d08a7002547.js"}]}]}],conditions:[function(){return"en_CA"===wcs.locale}],event:"pagebottom"},{name:"SellPoints CA FR",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-57055d1764746d08ad002b6b.js"}]}]}],conditions:[function(){return"fr_CA"===wcs.locale}],event:"pagebottom"},{name:"SellPoints US",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-56ec305c64746d08cc000222.js"}]}]}],conditions:[function(){return"en_US"===wcs.locale}],event:"pagebottom"},{name:"Recommendations MBOX placement - (Global Mbox Parameters)",event:"aftertoolinit",trigger:[{engine:"tnt",command:"addTargetPageParams",arguments:[{"entity.id":""}]}]}],rules:[],directCallRules:[],settings:{trackInternalLinks:!0,libraryName:"satelliteLib-5fef5b4a6450b6581f6444686d6f174427a7a108",isStaging:!1,allowGATTcalls:!1,downloadExtensions:/\.(?:doc|docx|eps|jpg|png|svg|xls|ppt|pptx|pdf|xlsx|tab|csv|zip|txt|vsd|vxd|xml|js|css|rar|exe|wma|mov|avi|wmv|mp3|wav|m4v)($|\&|\?)/i,notifications:!1,utilVisible:!1,domainList:["costco.ca","costco.com","costcobusinessdelivery.com"],scriptDir:"6d09a901247b3615ff6f4d9f22bda8ea810f369e/scripts/",tagTimeout:3e3},data:{URI:document.location.pathname+document.location.search,browser:{},cartItems:[],revenue:"",host:{http:"assets.adobedtm.com",https:"assets.adobedtm.com"}},dataElements:{"Is iPad Kiosk":{customJS:function(){return navigator.userAgent.toLowerCase().indexOf("airwatch")>-1||"yes"==localStorage.getItem("pmc-force-airwatch-ua")?"yes":""},storeLength:"pageview"}},appVersion:"7QN",buildDate:"2019-01-18 22:11:13 UTC",publishDate:"2019-01-18 22:11:12 UTC"})}(window,document);